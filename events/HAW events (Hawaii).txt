###########################
# Hawaii Events
###########################

add_namespace = hawaii

### Hawaiian Creation ###
country_event = { # The Territory of Hawaii Revolts
	id = hawaii.1
	title = hawaii.1.t
	desc = hawaii.1.d

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			every_owned_state = {
				limit = {
					OR = {
						state = 629
						state = 630
						state = 631
						state = 632
						state = 638
						state = 642
						state = 726
						state = 727
					}
				}
				if = {
					limit = { is_core_of = USA }
					remove_core_of = USA
					add_claim_by = USA
				}
				HAW = {
					add_state_core = PREV
					transfer_state = PREV
				}
			}
			HAW = { transfer_technology_without_doctrines = yes }

			#Pacific Fleet
			transfer_ship = { prefer_name = "USS Massachusetts" type = carrier target = XXA }

			transfer_ship = { prefer_name = "USS New York" type = battleship target = XXA }
			transfer_ship = { prefer_name = "USS Arizona" type = battleship target = XXA }
			transfer_ship = { prefer_name = "USS New Mexico" type = battleship target = XXA }

			transfer_ship = { prefer_name = "USS Astoria" type = heavy_cruiser target = XXA }
			transfer_ship = { prefer_name = "USS Augusta" type = heavy_cruiser target = XXA }

			#ADD DESTROYER LEADER FROM PRODUCTION
			transfer_ship = { prefer_name = "USS Hale" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Crowninshield" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Tillman" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Boggs" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Kilty" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Kennison" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Montgomery" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Breese" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Ramsay" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Tattnall" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Buchanan" type = destroyer target = XXA }
			transfer_ship = { prefer_name = "USS Aaron Ward" type = destroyer target = XXA }

			transfer_ship = { prefer_name = "USS S14" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS S15" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS S16" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS S17" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS S18" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS S19" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS S20" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS S21" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS S22" type = submarine target = XXA }
			transfer_ship = { prefer_name = "USS S23" type = submarine target = XXA }
			HAW_james_otto_richardson = { set_nationality = HAW }

			HAW = {
				annex_country = { target = XXA }
				add_manpower = 30000
				load_oob = ACW_HAW_naval
				if = {
					limit = { has_dlc_bba = yes }
					load_oob = ACW_HAW_naval_air_bba
				}
				else = {
					load_oob = ACW_HAW_naval_air_legacy
				}
				capital_scope = {
					create_unit = {
						division = "name = \"Hawaii National Guard\" division_template = \"Infantry Division\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
						owner = PREV
						prioritize_location = 4180
					}
				}
				country_event = { id = hawaii.2 days = 3 }
			}
		}
	}

	option = { # Hawaii is indepedent
		log = "[GetLogInfo]: event hawaii.1 option hawaii.1.a"
		name = hawaii.1.a
	}

	option = { # Play as Hawaii
		log = "[GetLogInfo]: event hawaii.1 option hawaii.1.b"
		name = hawaii.1.b
		ai_chance = { base = 0 }
		HAW = { change_tag_from = ROOT }
	}
}

country_event = { # The Emergency Directorate
	id = hawaii.2
	title = hawaii.2.t
	desc = hawaii.2.d

	is_triggered_only = yes

	option = { # we must defend Hawaii
		log = "[GetLogInfo]: event hawaii.2 option hawaii.2.a"
		name = hawaii.2.a
		hidden_effect = {
			country_event = { id = hawaii.3 days = 3 }
		}
	}
}
country_event = { # Dealing with the General Strike
	id = hawaii.3
	title = hawaii.3.t
	desc = hawaii.3.d

	is_triggered_only = yes

	option = { # Action must be taken. Send in the National Guard
		log = "[GetLogInfo]: event hawaii.3 option hawaii.3.a"
		name = hawaii.3.a
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				has_game_rule = { rule = HAW_path option = HAW_PATH_SYNDIE }
			}
		}
		hidden_effect = {
			country_event = { id = hawaii.4 days = 3 }
		}
	}
	option = { # Ignore it
		log = "[GetLogInfo]: event hawaii.3 option hawaii.3.b"
		name = hawaii.3.b
		ai_chance = { base = 50 }
		hidden_effect = {
			country_event = { id = hawaii.5 days = 3 }
		}
	}
	option = { # Give into some of their demands
		log = "[GetLogInfo]: event hawaii.3 option hawaii.3.c"
		name = hawaii.3.c
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				has_game_rule = { rule = HAW_path option = HAW_PATH_SYNDIE }
			}
		}
		add_timed_idea = {
			idea = HAW_fulfilled_strike
			days = 60
		}
		hidden_effect = {
			country_event = { id = hawaii.7 days = 3 }
		}
	}
}
country_event = { # The Strike is Crushed
	id = hawaii.4
	title = hawaii.4.t
	desc = hawaii.4.d

	is_triggered_only = yes

	option = { # This was bloody but necessary
		log = "[GetLogInfo]: event hawaii.4 option hawaii.4.a"
		name = hawaii.4.a
		hidden_effect = {
			country_event = { id = hawaii.7 days = 3 }
		}
		add_political_power = -150
		add_stability = -0.05
		add_manpower = -350
	}
}
country_event = { # The March onto Honolulu
	id = hawaii.5
	title = hawaii.5.t
	desc = hawaii.5.d

	is_triggered_only = yes

	option = { # Give into their demands
		log = "[GetLogInfo]: event hawaii.5 option hawaii.5.a"
		name = hawaii.5.a
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				has_game_rule = { rule = HAW_path option = HAW_PATH_SYNDIE }
			}
		}
		add_timed_idea = {
			idea = HAW_fulfilled_strike
			days = 120
		}
		add_political_power = -150
		hidden_effect = {
			country_event = { id = hawaii.7 days = 3 }
		}
	}
	option = { # Send in the Police
		log = "[GetLogInfo]: event hawaii.5 option hawaii.5.b"
		name = hawaii.5.b
		ai_chance = { base = 60 }
		hidden_effect = {
			country_event = { id = hawaii.6 days = 3 }
		}
	}
}
country_event = { # The hilo Massacre
	id = hawaii.6
	title = hawaii.6.t
	desc = hawaii.6.d

	is_triggered_only = yes

	option = { # Fight these syndies
		log = "[GetLogInfo]: event hawaii.6 option hawaii.6.a"
		name = hawaii.6.a
		hidden_effect = {
			country_event = { id = hawaii.8 days = 3 }
		}
		add_political_power = -150
		add_stability = -0.1
		add_manpower = -550
	}
}
country_event = { # The Strike is defeated
	id = hawaii.7
	title = hawaii.7.t
	desc = hawaii.7.d

	is_triggered_only = yes

	option = { # Now on to the meeting
		log = "[GetLogInfo]: event hawaii.7 option hawaii.7.a"
		name = hawaii.7.a
		remove_ideas = HAW_great_strike_idea
		hidden_effect = {
			country_event = { id = hawaii.10 days = 3 }
		}
	}
}
country_event = { # The Battle of Honolulu
	id = hawaii.8
	title = hawaii.8.t
	desc = hawaii.8.d

	is_triggered_only = yes

	option = { # National Guard wins
		log = "[GetLogInfo]: event hawaii.8 option hawaii.8.a"
		name = hawaii.8.a
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				has_game_rule = { rule = HAW_path option = HAW_PATH_SYNDIE }
			}
		}
		hidden_effect = {
			country_event = { id = hawaii.7 days = 3 }
		}
	}
	option = { # Strikers win
		log = "[GetLogInfo]: event hawaii.8 option hawaii.8.b"
		name = hawaii.8.b
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = HAW_path option = HAW_PATH_MONARCHY }
					has_game_rule = { rule = HAW_path option = HAW_PATH_REPUBLIC }
					has_game_rule = { rule = HAW_path option = HAW_PATH_USA }
					has_game_rule = { rule = HAW_path option = HAW_PATH_PSA }
				}
			}
		}
		hidden_effect = {
			country_event = { id = hawaii.9 days = 3 }
		}
	}
}

country_event = { # the Hawaiian Revolution
	id = hawaii.9
	title = hawaii.9.t
	desc = hawaii.9.d

	is_triggered_only = yes

	option = { # victory for the people
		log = "[GetLogInfo]: event hawaii.9 option hawaii.9.a"
		name = hawaii.9.a
		remove_ideas = HAW_political_chaos_idea
		remove_ideas = HAW_great_strike_idea
		set_politics = {
			ruling_party = radical_socialist
			last_election = "1936.11.16"
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.2
		}
		hidden_effect = {
			mark_focus_tree_layout_dirty = yes
			complete_national_focus = HAW_revolution_succeeds
			country_event = { id = hawaii.62 days = 360 random_days = 10 }
			country_event = { id = hawaii.63 days = 85 random_days = 10 }
		}
	}
}

country_event = { # The Emergency Meeting
	id = hawaii.10
	title = hawaii.10.t
	desc = hawaii.10.d

	is_triggered_only = yes

	option = { # Declare a republic
		log = "[GetLogInfo]: event hawaii.10 option hawaii.10.a"
		name = hawaii.10.a
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = HAW_path option = HAW_PATH_MONARCHY }
					has_game_rule = { rule = HAW_path option = HAW_PATH_USA }
					has_game_rule = { rule = HAW_path option = HAW_PATH_PSA }
				}
			}
		}
		hidden_effect = {
			country_event = { id = hawaii.11 days = 1 }
		}
	}
	option = { # Declare a kingdom
		log = "[GetLogInfo]: event hawaii.10 option hawaii.10.b"
		name = hawaii.10.b
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = HAW_path option = HAW_PATH_REPUBLIC }
					has_game_rule = { rule = HAW_path option = HAW_PATH_USA }
					has_game_rule = { rule = HAW_path option = HAW_PATH_PSA }
				}
			}
		}
		hidden_effect = {
			country_event = { id = hawaii.12 days = 1 }
		}
	}
	option = { # Join America, USA(Game Over)
		log = "[GetLogInfo]: event hawaii.10 option hawaii.10.c"
		name = hawaii.10.c
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = HAW_path option = HAW_PATH_MONARCHY }
					has_game_rule = { rule = HAW_path option = HAW_PATH_REPUBLIC }
					has_game_rule = { rule = HAW_path option = HAW_PATH_PSA }
				}
			}
		}
		trigger = {
			country_exists = USA
			NOT = { country_exists = PSA }
		}
		custom_effect_tooltip = GAME_OVER_TT
		USA = { country_event = { id = hawaii.13 days = 3 } }
	}
	option = { # Join America, PSA(Game Over)
		log = "[GetLogInfo]: event hawaii.10 option hawaii.10.e"
		name = hawaii.10.e
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = HAW_path option = HAW_PATH_MONARCHY }
					has_game_rule = { rule = HAW_path option = HAW_PATH_REPUBLIC }
					has_game_rule = { rule = HAW_path option = HAW_PATH_USA }
				}
			}
		}
		trigger = {
			country_exists = PSA
		}
		custom_effect_tooltip = GAME_OVER_TT
		PSA = { country_event = { id = hawaii.13 days = 3 } }
	}
}
country_event = { # The Declaration of a Republic
	id = hawaii.11
	title = hawaii.11.t
	desc = hawaii.11.d

	is_triggered_only = yes

	option = { # Long Live the Republic
		log = "[GetLogInfo]: event hawaii.11 option hawaii.11.a"
		name = hawaii.11.a
		complete_national_focus = HAW_declare_a_republic
		remove_ideas = HAW_political_chaos_idea
		set_politics = {
			ruling_party = market_liberal
			last_election = "1936.11.16"
			election_frequency = 48
			elections_allowed = yes
		}
		hidden_effect = {
			country_event = { id = hawaii.31 days = 725 random_days = 10 }
			country_event = { id = hawaii.32 days = 360 random_days = 10 }
			country_event = { id = hawaii.33 days = 85 random_days = 10 }
		}
	}
}
country_event = { # The Declaration of a Kingdom
	id = hawaii.12
	title = hawaii.12.t
	desc = hawaii.12.d

	is_triggered_only = yes

	option = { # Long Live the Kingdom
		log = "[GetLogInfo]: event hawaii.12 option hawaii.12.a"
		name = hawaii.12.a
		set_cosmetic_tag = HAW_kingdom
		remove_ideas = HAW_political_chaos_idea
		set_politics = {
			ruling_party = social_conservative
			last_election = "1936.11.16"
			election_frequency = 48
			elections_allowed = yes
		}
		HAW_lydia_liliuokalani_kawananakoa = { set_character_name = HAW_lydia_liliuokalani_kawananakoa_regnal }
		add_country_leader_role = {
			character = HAW_lydia_liliuokalani_kawananakoa
			country_leader = { ideology = social_democrat_subtype }
			promote_leader = yes
		}
		add_country_leader_role = {
			character = HAW_lydia_liliuokalani_kawananakoa
			country_leader = { ideology = social_liberal_subtype }
			promote_leader = yes
		}
		add_country_leader_role = {
			character = HAW_lydia_liliuokalani_kawananakoa
			country_leader = { ideology = market_liberal_subtype }
			promote_leader = yes
		}
		add_country_leader_role = {
			character = HAW_lydia_liliuokalani_kawananakoa
			country_leader = { ideology = social_conservative_subtype }
			promote_leader = yes
		}
		hidden_effect = {
			mark_focus_tree_layout_dirty = yes
			complete_national_focus = HAW_monarchy_restoration
			country_event = { id = hawaii.17 days = 90 random_days = 180 }
			country_event = { id = hawaii.23 days = 360 random_days = 10 }
			country_event = { id = hawaii.24 days = 85 random_days = 10 }
			country_event = { id = hawaii.25 days = 95 random_days = 10 }
			country_event = { id = hawaii.26 days = 105 random_days = 10 }
		}
	}
}
country_event = { # Join America
	id = hawaii.13
	title = hawaii.13.t
	desc = hawaii.13.d

	is_triggered_only = yes

	option = { # We Rejoin Hawaii
		log = "[GetLogInfo]: event hawaii.13 option hawaii.13.a"
		name = hawaii.13.a
		annex_country = {
			target = HAW
			transfer_troops = yes
		}
		HAW = {
			HAW_james_otto_richardson = { set_nationality = ROOT }
		}
	}
}

### Kingdom of Hawaii 15 - 30 ###
country_event = { # The Royal Hawaiian Tour
	id = hawaii.17
	title = hawaii.17.t
	desc = hawaii.17.d

	is_triggered_only = yes

	option = { # away we go
		log = "[GetLogInfo]: event hawaii.17 option hawaii.17.a"
		name = hawaii.17.a
		add_political_power = 10
		hidden_effect = {
			BRA = { country_event = { id = hawaii.18 days = 85 random_days = 10 } } #Brazil
			CAN = { country_event = { id = hawaii.20 days = 175 random_days = 10 } } #Canada
			GER = { country_event = { id = hawaii.21 days = 265 random_days = 10 } } #Germany
			JAP = { country_event = { id = hawaii.19 days = 360 random_days = 10 } } #Japan
		}
	}
}
country_event = { # Royals visit Brazil
	id = hawaii.18
	title = hawaii.18.t
	desc = hawaii.18.d

	is_triggered_only = yes

	trigger = {
		has_government = national_populist
		has_completed_focus = BRA_the_empire_strikes_back
		country_exists = HAW
		NOT = { has_war_with = HAW }
	}

	option = { # flavor
		log = "[GetLogInfo]: event hawaii.18 option hawaii.18.a"
		name = hawaii.18.a
		add_opinion_modifier = {
			target = HAW
			modifier = KR_approves_of_govt
		}
		reverse_add_opinion_modifier = {
			target = HAW
			modifier = KR_approves_of_govt
		}
	}
}
country_event = { # Royals visit Japan
	id = hawaii.19
	title = hawaii.19.t
	desc = hawaii.19.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = no
		country_exists = HAW
		NOT = { has_war_with = HAW }
	}

	option = { # flavor
		log = "[GetLogInfo]: event hawaii.19 option hawaii.19.a"
		name = hawaii.19.a
		add_opinion_modifier = {
			target = HAW
			modifier = KR_approves_of_govt
		}
		reverse_add_opinion_modifier = {
			target = HAW
			modifier = KR_approves_of_govt
		}
	}
}
country_event = { # Royals visit Canada
	id = hawaii.20
	title = hawaii.20.t
	desc = hawaii.20.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = no
		country_exists = HAW
		NOT = { has_war_with = HAW }
	}

	option = { # flavor
		log = "[GetLogInfo]: event hawaii.20 option hawaii.20.a"
		name = hawaii.20.a
		add_opinion_modifier = {
			target = HAW
			modifier = KR_approves_of_govt
		}
		reverse_add_opinion_modifier = {
			target = HAW
			modifier = KR_approves_of_govt
		}
	}
}
country_event = { # Royals visit Germany
	id = hawaii.21
	title = hawaii.21.t
	desc = hawaii.21.d

	is_triggered_only = yes

	trigger = {
		has_socialist_government = no
		country_exists = HAW
		NOT = { has_war_with = HAW }
	}

	option = { # flavor
		log = "[GetLogInfo]: event hawaii.21 option hawaii.21.a"
		name = hawaii.21.a
		add_opinion_modifier = {
			target = HAW
			modifier = KR_approves_of_govt
		}
		reverse_add_opinion_modifier = {
			target = HAW
			modifier = KR_approves_of_govt
		}
	}
}
country_event = { # Hawaiian Renaissance
	id = hawaii.22
	title = hawaii.22.t
	desc = hawaii.22.d

	is_triggered_only = yes

	option = { # flavor
		log = "[GetLogInfo]: event hawaii.22 option hawaii.22.a"
		name = hawaii.22.a
		add_political_power = 10
		add_stability = 0.02
	}
}

country_event = { # Hawaiian Orders
	id = hawaii.23
	title = hawaii.23.t
	desc = hawaii.23.d

	is_triggered_only = yes

	option = { # flavor
		log = "[GetLogInfo]: event hawaii.23 option hawaii.23.a"
		name = hawaii.23.a
		add_political_power = 10
	}
}

country_event = { # Samoa and other Polynesian monarchies
	id = hawaii.24
	title = hawaii.24.t
	desc = hawaii.24.d

	is_triggered_only = yes

	option = { # flavor
		log = "[GetLogInfo]: event hawaii.24 option hawaii.24.a"
		name = hawaii.24.a
		add_political_power = 10
		add_war_support = 0.02
	}
}
country_event = { # Church of Hawaii
	id = hawaii.25
	title = hawaii.25.t
	desc = hawaii.25.d

	is_triggered_only = yes

	option = { # state support
		log = "[GetLogInfo]: event hawaii.25 option hawaii.25.a"
		name = hawaii.25.a
		add_popularity = {
			ideology = social_conservative
			popularity = 0.03
		}
	}
	option = { # secular
		log = "[GetLogInfo]: event hawaii.25 option hawaii.25.b"
		name = hawaii.25.b
		add_popularity = {
			ideology = social_liberal
			popularity = 0.03
		}
	}
}
country_event = { # Aloha Festivals
	id = hawaii.26
	title = hawaii.26.t
	desc = hawaii.26.d

	is_triggered_only = yes

	option = { # flavor
		log = "[GetLogInfo]: event hawaii.26 option hawaii.26.a"
		name = hawaii.26.a
		add_political_power = 10
	}
}
country_event = { # Elections of the Prime Minister
	id = hawaii.27
	title = hawaii.27.t
	desc = hawaii.27.d
	picture = GFX_report_event_election_vote

	is_triggered_only = yes

	trigger = {
		has_elected_government = yes
		has_country_leader = { character = HAW_lydia_liliuokalani_kawananakoa }
	}

	option = { # Social Democrats
		log = "[GetLogInfo]: event hawaii.27 option hawaii.27.a"
		name = hawaii.27.a
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_SOCLIB }
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_MARLIB }
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_SOCCON }
				}
			}
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.10
		}
		set_politics = {
			ruling_party = social_democrat
			election_frequency = 48
			elections_allowed = yes
		}
	}
	option = { # Social Liberals
		log = "[GetLogInfo]: event hawaii.27 option hawaii.27.b"
		name = hawaii.27.b
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_SOCDEM }
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_MARLIB }
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_SOCCON }
				}
			}
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.10
		}
		set_politics = {
			ruling_party = social_liberal
			election_frequency = 48
			elections_allowed = yes
		}
	}
	option = { # Market Liberals
		log = "[GetLogInfo]: event hawaii.27 option hawaii.27.c"
		name = hawaii.27.c
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_SOCDEM }
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_SOCLIB }
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_SOCCON }
				}
			}
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.10
		}
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 48
			elections_allowed = yes
		}
	}
	option = { # Social Conservatives
		log = "[GetLogInfo]: event hawaii.27 option hawaii.27.e"
		name = hawaii.27.e
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_SOCDEM }
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_SOCLIB }
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_MARLIB }
				}
			}
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.10
		}
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 48
			elections_allowed = yes
		}
	}
}
### Republic of Hawaii 31 - 46  ###
country_event = { # Introducing Miss Dolcinea
	id = hawaii.31
	title = hawaii.31.t
	desc = hawaii.31.d

	is_triggered_only = yes

	option = { # This'll help with sales
		log = "[GetLogInfo]: event hawaii.31 option hawaii.31.a"
		name = hawaii.31.a
		add_political_power = 10
	}
}
country_event = { # Status of Japanese Hawaiians
	id = hawaii.32
	title = hawaii.32.t
	desc = hawaii.32.d

	is_triggered_only = yes

	trigger = {
		has_elected_government = yes
		NOT = {
			has_war_with = JAP
		}
	}

	option = { # Japanese Hawaiians are citizens
		log = "[GetLogInfo]: event hawaii.32 option hawaii.32.a"
		name = hawaii.32.a
		add_political_power = 10
		JAP = {
			add_opinion_modifier = {
				target = HAW
				modifier = KR_disapproves_of_govt
			}
		}
	}
	option = { # Japanese Hawaiians are not citizens
		log = "[GetLogInfo]: event hawaii.32 option hawaii.32.b"
		name = hawaii.32.b
		add_political_power = -10
		JAP = {
			add_opinion_modifier = {
				target = HAW
				modifier = KR_approves_of_govt
			}
		}
	}
}
country_event = { # Dealing with the Hawaiian Militias
	id = hawaii.33
	title = hawaii.33.t
	desc = hawaii.33.d

	is_triggered_only = yes

	option = { # Give up on reforms
		log = "[GetLogInfo]: event hawaii.33 option hawaii.33.a"
		name = hawaii.33.a
		add_political_power = -10
		add_stability = 0.05
	}
	option = { # Replace the militia leaders
		log = "[GetLogInfo]: event hawaii.33 option hawaii.33.b"
		name = hawaii.33.b
		add_political_power = 10
		add_stability = -0.05
	}
}
country_event = { # Elections of the President
	id = hawaii.34
	title = hawaii.34.t
	desc = hawaii.34.d
	picture = GFX_report_event_election_vote

	is_triggered_only = yes

	trigger = {
		has_elected_government = yes
		NOT = { has_country_leader = { character = HAW_lydia_liliuokalani_kawananakoa } }
	}

	option = { # Social Liberals
		log = "[GetLogInfo]: event hawaii.34 option hawaii.34.a"
		name = hawaii.34.a
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_MARLIB }
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_SOCCON }
				}
			}
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.10
		}
		set_politics = {
			ruling_party = social_liberal
			election_frequency = 48
			elections_allowed = yes
		}
	}
	option = { # Market Liberals
		log = "[GetLogInfo]: event hawaii.34 option hawaii.34.b"
		name = hawaii.34.b
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_SOCLIB }
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_SOCCON }
				}
			}
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.10
		}
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 48
			elections_allowed = yes
		}
	}
	option = { # Social Conservatives
		log = "[GetLogInfo]: event hawaii.34 option hawaii.34.c"
		name = hawaii.34.c
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_SOCLIB }
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_MARLIB }
				}
			}
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.10
		}
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 48
			elections_allowed = yes
		}
	}
}
### Hawaiian Commune 62 - 77 ###
country_event = { # Radical art in Honolulu
	id = hawaii.62
	title = hawaii.62.t
	desc = hawaii.62.d

	is_triggered_only = yes

	option = { # flavor
		log = "[GetLogInfo]: event hawaii.62 option hawaii.62.a"
		name = hawaii.62.a
		add_political_power = 5
	}
	option = { # flavor
		log = "[GetLogInfo]: event hawaii.62 option hawaii.62.b"
		name = hawaii.62.b
		add_political_power = 5
	}
}
country_event = { # Intergrating American Communards
	id = hawaii.63
	title = hawaii.63.t
	desc = hawaii.63.d

	is_triggered_only = yes

	option = { # No! You knew what you signed up for.
		log = "[GetLogInfo]: event hawaii.63 option hawaii.63.a"
		name = hawaii.63.a
		set_temp_variable = { ideology_change_var = -0.05 }
		change_ruling_party_popularity = yes
		add_political_power = 10
	}
	option = { # Fine! Take a seat.
		log = "[GetLogInfo]: event hawaii.63 option hawaii.63.b"
		name = hawaii.63.b
		set_temp_variable = { ideology_change_var = 0.05 }
		change_ruling_party_popularity = yes
		add_political_power = -10
	}
}
country_event = { # Elections of the General Secretary
	id = hawaii.64
	title = hawaii.64.t
	desc = hawaii.64.d
	picture = GFX_report_event_election_vote

	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = { # Totalist
		log = "[GetLogInfo]: event hawaii.64 option hawaii.64.a"
		name = hawaii.64.a
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_SOCDEM }
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_RADSOC }
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_SYNDIE }
				}
			}
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.10
		}
		set_politics = {
			ruling_party = totalist
			election_frequency = 48
			elections_allowed = yes
		}
	}
	option = { # Syndicalist
		log = "[GetLogInfo]: event hawaii.64 option hawaii.64.b"
		name = hawaii.64.b
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_SOCDEM }
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_RADSOC }
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_TOTALIST }
				}
			}
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.10
		}
		set_politics = {
			ruling_party = syndicalist
			election_frequency = 48
			elections_allowed = yes
		}
	}
	option = { # Radical Socialist
		log = "[GetLogInfo]: event hawaii.64 option hawaii.64.c"
		name = hawaii.64.c
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_SOCDEM }
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_SYNDIE }
					has_game_rule = { rule = HAW_election option = HAW_ELECTION_TOTALIST }
				}
			}
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.10
		}
		set_politics = {
			ruling_party = radical_socialist
			election_frequency = 48
			elections_allowed = yes
		}
	}
}

### Foreign Events ###
country_event = { # Hawaii wishes to join a faction
	id = hawaii.101
	title = hawaii.101.t
	desc = hawaii.101.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = { # Of course they may join!
		log = "[GetLogInfo]: event hawaii.101 option hawaii.101.a"
		name = hawaii.101.a
		add_to_faction = FROM
	}
	option = { # We have no need of them
		log = "[GetLogInfo]: event hawaii.101 option hawaii.101.b"
		name = hawaii.101.b
		ai_chance = { base = 0 }
		FROM = { country_event = hawaii.102 }
	}
}

country_event = { # FROM refuses
	id = hawaii.102
	title = hawaii.102.t
	desc = hawaii.102.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event hawaii.102 option hawaii.102.a"
		name = hawaii.102.a
		add_opinion_modifier = {
			target = FROM
			modifier = KR_disapproves_of_govt
		}
	}
}

### JAP-INT peace ###
country_event = { # Peace with Japan?
	id = hawaii.111
	title = hawaii.111.t
	desc = hawaii.111.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event hawaii.111 option hawaii.111.a"
		name = hawaii.111.a #Yes, let us end this
		FROM = {
			country_event = { id = hawaii.112 days = 1 }
		}
	}

	option = {
		log = "[GetLogInfo]: event hawaii.111 option hawaii.111.b"
		name = hawaii.111.b #We will not abandon our allies!
		ai_chance = { base = 0 }
		add_war_support = -0.1
		FROM = {
			country_event = { id = hawaii.113 days = 1 }
		}
	}
}

country_event = { # FROM Offers Peace
	id = hawaii.112
	title = hawaii.112.t
	desc = hawaii.112.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event hawaii.112 option hawaii.112.a"
		name = hawaii.112.a #We are victorious once again
		HAW = {
			if = {
				limit = { is_subject = yes }
				overlord = {
					set_autonomy = {
						target = HAW
						autonomy_state = autonomy_free
					}
				}
			}
			if = {
				limit = { is_in_faction = yes }
				leave_faction = yes
			}
		}
		FROM = { white_peace_with_ROOT = yes }
	}

	option = {
		log = "[GetLogInfo]: event hawaii.112 option hawaii.112.b"
		name = hawaii.112.b #There will be o peace with Western imperialists!
		ai_chance = { base = 0 }
		add_stability = -0.1
		add_war_support = -0.1
		FROM = {
			country_event = { id = hawaii.113 days = 1 }
		}
	}
}

country_event = { # FROM Refuses Peace
	id = hawaii.113
	title = hawaii.113.t

	desc = {
		text = hawaii.113.d.JAP
		trigger = { tag = JAP }
	}
	desc = {
		text = hawaii.113.d.other
		trigger = {
			NOT = { tag = JAP }
		}
	}

	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event hawaii.113 option hawaii.113.a"
		name = hawaii.113.a #The war continues
		add_stability = 0.1
		add_war_support = 0.1
	}
}

### USA dealing with independent Hawaii ###
country_event = { #FROM demands Hawaii rejoin America
	id = hawaii.114
	title = hawaii.114.t

	desc = {
		text = hawaii.114.d.in_faction
		trigger = {
			is_in_faction = yes
			is_faction_leader = no
		}
	}
	desc = {
		text = hawaii.114.d.default
		trigger = {
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
		}
	}

	picture = GFX_report_event_WIF_Palms

	is_triggered_only = yes

	immediate = {
		FROM = { save_event_target_as = america }
	}

	option = { #Tell the faction leader we wish to rejoin
		log = "[GetLogInfo]: event hawaii.114 option hawaii.114.a"
		name = hawaii.114.a
		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				OR = {
					AND = {
						has_socialist_government = no
						event_target:america = { has_socialist_government = yes }
					}
					AND = {
						has_socialist_government = yes
						event_target:america = {
							has_socialist_government = no
							NOT = { has_government = social_democrat }
						}
					}
				}
			}
		}
		trigger = {
			is_in_faction = yes
			is_faction_leader = no
		}
		faction_leader = { country_event = { id = hawaii.115 days = 2 } }
	}

	option = { #Ask the faction leader to intervene
		log = "[GetLogInfo]: event hawaii.114 option hawaii.114.b"
		name = hawaii.114.b
		ai_chance = {
			base = 40
			modifier = {
				factor = 0
				event_target:america = { same_government_type_as_ROOT = yes }
			}
		}
		trigger = {
			is_in_faction = yes
			is_faction_leader = no
			NOT = { is_in_faction_with = event_target:america }
		}
		faction_leader = { country_event = { id = hawaii.121 days = 2 } }
	}

	option = { #We have no choice
		log = "[GetLogInfo]: event hawaii.114 option hawaii.114.c"
		name = hawaii.114.c
		ai_chance = { base = 100 }
		trigger = {
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
		}
		FROM = { country_event = { id = hawaii.117 days = 2 } }
	}

	option = { #Absolutely not!
		log = "[GetLogInfo]: event hawaii.114 option hawaii.114.d"
		name = hawaii.114.d
		ai_chance = { base = 0 }
		trigger = {
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
		}
		FROM = { country_event = { id = hawaii.124 days = 2 } }
	}
}

country_event = { #Hawaii wishes to rejoin America
	id = hawaii.115
	title = hawaii.115.t
	desc = hawaii.115.d
	picture = GFX_report_event_WIF_Palms

	trigger = {
		NOT = {
			has_war_with = FROM
			has_war_with = event_target:america
		}
	}

	is_triggered_only = yes

	option = { #By all means
		log = "[GetLogInfo]: event hawaii.115 option hawaii.115.a"
		name = hawaii.115.a
		ai_chance = {
			base = 90
			modifier = {
				add = -80
				OR = {
					tag = JAP
					AND = {
						has_socialist_government = no
						event_target:america = { has_socialist_government = yes }
					}
				}
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = event_target:america ratio < 1.5 }
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = event_target:america ratio < 1.75 }
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = event_target:america ratio < 2 }
			}
			modifier = {
				factor = 2
				enemies_strength_ratio > 0.25
			}
			modifier = {
				factor = 2
				enemies_strength_ratio > 0.5
			}
			modifier = {
				factor = 2
				enemies_strength_ratio > 0.75
			}
			modifier = {
				factor = 0.5
				has_war = no
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = event_target:america ratio > 2 }
			}
		}
		FROM = { country_event = { id = hawaii.116 days = 2 } }
		effect_tooltip = {
			event_target:america = {
				country_event = hawaii.117
				annex_country = {
					target = HAW
					transfer_troops = no
				}
			}
		}
	}

	option = { #Absolutely not!
		log = "[GetLogInfo]: event hawaii.115 option hawaii.115.b"
		name = hawaii.115.b
		trigger = {
			NOT = { is_in_faction_with = event_target:america }
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 0
				NOT = {
					tag = JAP
					AND = {
						has_socialist_government = no
						event_target:america = { has_socialist_government = yes }
					}
				}
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = event_target:america ratio < 1 }
			}
			modifier = {
				factor = 0
				enemies_strength_ratio > 1
			}
			modifier = {
				factor = 0
				surrender_progress > 0.1
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = event_target:america ratio < 1.5 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = event_target:america ratio < 1.75 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = event_target:america ratio < 2 }
			}
			modifier = {
				factor = 0.5
				enemies_strength_ratio > 0.25
			}
			modifier = {
				factor = 0.5
				enemies_strength_ratio > 0.5
			}
			modifier = {
				factor = 0.5
				enemies_strength_ratio > 0.75
			}
			modifier = {
				factor = 2
				has_war = no
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = event_target:america ratio > 2 }
			}
		}
		FROM = { country_event = { id = hawaii.118 days = 2 } }
	}
}

country_event = { #FROM Agrees
	id = hawaii.116
	title = hawaii.116.t
	desc = hawaii.116.d
	picture = GFX_report_event_WIF_Palms

	trigger = {
		NOT = {
			has_war_with = FROM
			has_war_with = event_target:america
		}
	}

	is_triggered_only = yes

	option = { #Excellent
		log = "[GetLogInfo]: event hawaii.116 option hawaii.116.a"
		name = hawaii.116.a
		event_target:america = { country_event = hawaii.117 }
	}
}

country_event = { #Hawaii Rejoins America
	id = hawaii.117
	title = hawaii.117.t
	desc = hawaii.117.d
	picture = GFX_report_event_WIF_Palms

	trigger = {
		NOT = {
			has_war_with = FROM
			has_war_with = FROM.FROM #HAW's faction leader
		}
	}

	is_triggered_only = yes

	option = { #Excellent
		log = "[GetLogInfo]: event hawaii.117 option hawaii.117.a"
		name = hawaii.117.a
		FROM = {
			if = {
				limit = { is_in_faction = yes }
				faction_leader = { save_event_target_as = former_faction_leader }
				leave_faction = yes
			}
			else_if = {
				limit = { is_faction_leader = yes }
				dismantle_faction = yes
			}
			separate_peace_all_wars = yes
		}
		if = {
			limit = { FROM = { is_ai = no } }
			FROM = { get_current_government_type = yes }
			set_autonomy = {
				target = FROM
				autonomy_state = kr_autonomous_puppet
				end_wars = no
			}
			FROM = { restore_previous_government_type = yes }
		}
		else = {
			annex_country = {
				target = FROM
				transfer_troops = yes
			}
		}
		if = {
			limit = { has_country_flag = HAW_defied_faction_leader }
			event_target:former_faction_leader = { country_event = { id = hawaii.119 days = 1 } }
		}
	}
}

country_event = { #FROM Refuses
	id = hawaii.118
	title = hawaii.118.t
	desc = hawaii.118.d
	picture = GFX_report_event_WIF_Palms

	trigger = {
		NOT = {
			has_war_with = FROM
			has_war_with = event_target:america
		}
	}

	is_triggered_only = yes

	option = { #Defy them!
		log = "[GetLogInfo]: event hawaii.118 option hawaii.118.a"
		name = hawaii.118.a
		event_target:america = {
			set_country_flag = { flag = HAW_defied_faction_leader days = 60 value = 1 }
			country_event = { id = hawaii.117 days = 2 }
		}
	}

	option = { #We must respect their decision
		log = "[GetLogInfo]: event hawaii.118 option hawaii.118.b"
		name = hawaii.118.b
		ai_chance = { base = 0 }
		event_target:america = { country_event = { id = hawaii.120 days = 2 } }
	}
}

country_event = { #Hawaii Defies Us!
	id = hawaii.119
	title = hawaii.119.t
	desc = hawaii.119.d
	picture = GFX_report_event_WIF_Palms

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = { #How dare they!
		log = "[GetLogInfo]: event hawaii.119 option hawaii.119.a"
		name = hawaii.119.a
		trigger = {
			can_declare_war_on = event_target:america
		}
		ai_chance = {
			base = 10
			modifier = {
				add = 80
				OR = {
					tag = JAP
					AND = {
						has_socialist_government = no
						event_target:america = { has_socialist_government = yes }
					}
					AND = {
						has_socialist_government = yes
						event_target:america = { has_socialist_government = no }
					}
				}
			}
			modifier = {
				factor = 0
				NOT = {
					tag = JAP
					AND = {
						has_socialist_government = no
						event_target:america = { has_socialist_government = yes }
					}
					AND = {
						has_socialist_government = yes
						event_target:america = { has_socialist_government = no }
					}
				}
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = event_target:america ratio < 1 }
			}
			modifier = {
				factor = 0
				enemies_strength_ratio > 1
			}
			modifier = {
				factor = 0
				surrender_progress > 0.1
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = event_target:america ratio < 1.5 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = event_target:america ratio < 1.75 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = event_target:america ratio < 2 }
			}
			modifier = {
				factor = 0.5
				enemies_strength_ratio > 0.25
			}
			modifier = {
				factor = 0.5
				enemies_strength_ratio > 0.5
			}
			modifier = {
				factor = 0.5
				enemies_strength_ratio > 0.75
			}
			modifier = {
				factor = 2
				has_war = no
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = event_target:america ratio > 2 }
			}
		}
		declare_war_on = {
			target = event_target:america
			type = annex_everything
		}
	}

	option = { #Hawaii isn't worth a war
		log = "[GetLogInfo]: event hawaii.119 option hawaii.119.b"
		name = hawaii.119.b
		ai_chance = {
			base = 90
			modifier = {
				add = -80
				OR = {
					tag = JAP
					event_target:america = { has_socialist_government = yes }
				}
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = event_target:america ratio < 1.5 }
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = event_target:america ratio < 1.75 }
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = event_target:america ratio < 2 }
			}
			modifier = {
				factor = 2
				enemies_strength_ratio > 0.25
			}
			modifier = {
				factor = 2
				enemies_strength_ratio > 0.5
			}
			modifier = {
				factor = 2
				enemies_strength_ratio > 0.75
			}
			modifier = {
				factor = 0.5
				has_war = no
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = event_target:america ratio > 2 }
			}
		}
	}
}

country_event = { #FROM.FROM Intervenes
	id = hawaii.120
	title = hawaii.120.t
	desc = hawaii.120.d
	picture = GFX_report_event_WIF_Palms

	trigger = {
		NOT = {
			has_war_with = FROM
			has_war_with = FROM.FROM #HAW's faction leader
		}
	}

	is_triggered_only = yes

	option = { #Then war it is
		log = "[GetLogInfo]: event hawaii.120 option hawaii.120.a"
		name = hawaii.120.a
		trigger = {
			can_declare_war_on = FROM
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 0
				FROM.FROM = { strength_ratio = { tag = ROOT ratio > 1 } }
			}
			modifier = {
				factor = 0.5
				FROM.FROM = { strength_ratio = { tag = ROOT ratio > 0.75 } }
			}
			modifier = {
				factor = 0.5
				FROM.FROM = { strength_ratio = { tag = ROOT ratio > 0.5 } }
			}
			modifier = {
				factor = 0.5
				enemies_strength_ratio > 0.5
			}
			modifier = {
				factor = 0.5
				enemies_strength_ratio > 0.75
			}
			modifier = {
				factor = 0.5
				enemies_strength_ratio > 1
			}
		}
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}

	option = { #We cannot fight them
		log = "[GetLogInfo]: event hawaii.120 option hawaii.120.b"
		name = hawaii.120.b
		ai_chance = {
			base = 10
			modifier = {
				factor = 2
				FROM.FROM = { strength_ratio = { tag = ROOT ratio > 0.75 } }
			}
			modifier = {
				factor = 2
				FROM.FROM = { strength_ratio = { tag = ROOT ratio > 0.5 } }
			}
			modifier = {
				factor = 2
				enemies_strength_ratio > 0.5
			}
			modifier = {
				factor = 2
				enemies_strength_ratio > 0.75
			}
			modifier = {
				factor = 2
				enemies_strength_ratio > 1
			}
		}
	}
}

country_event = { #Hawaii Requests Intervention
	id = hawaii.121
	title = hawaii.121.t
	desc = hawaii.121.d
	picture = GFX_report_event_WIF_Palms

	trigger = {
		NOT = {
			has_war_with = FROM
			has_war_with = event_target:america
		}
	}

	is_triggered_only = yes

	option = { #We protect our allies!
		log = "[GetLogInfo]: event hawaii.121 option hawaii.121.a"
		name = hawaii.121.a
		ai_chance = {
			base = 10
			modifier = {
				add = 80
				OR = {
					tag = JAP
					AND = {
						has_socialist_government = no
						event_target:america = { has_socialist_government = yes }
					}
					AND = {
						has_socialist_government = yes
						event_target:america = { has_socialist_government = no }
					}
				}
			}
			modifier = {
				factor = 0
				NOT = {
					tag = JAP
					AND = {
						has_socialist_government = no
						event_target:america = { has_socialist_government = yes }
					}
					AND = {
						has_socialist_government = yes
						event_target:america = { has_socialist_government = no }
					}
				}
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = event_target:america ratio < 1 }
			}
			modifier = {
				factor = 0
				enemies_strength_ratio > 1
			}
			modifier = {
				factor = 0
				surrender_progress > 0.1
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = event_target:america ratio < 1.5 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = event_target:america ratio < 1.75 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = event_target:america ratio < 2 }
			}
			modifier = {
				factor = 0.5
				enemies_strength_ratio > 0.25
			}
			modifier = {
				factor = 0.5
				enemies_strength_ratio > 0.5
			}
			modifier = {
				factor = 0.5
				enemies_strength_ratio > 0.75
			}
			modifier = {
				factor = 2
				has_war = no
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = event_target:america ratio > 2 }
			}
		}
		event_target:america = { country_event = { id = hawaii.122 days = 2 } }
	}

	option = { #They are on their own
		log = "[GetLogInfo]: event hawaii.121 option hawaii.121.b"
		name = hawaii.121.b
		ai_chance = {
			base = 90
			modifier = {
				add = -80
				OR = {
					tag = JAP
					AND = {
						has_socialist_government = no
						event_target:america = { has_socialist_government = yes }
					}
					AND = {
						has_socialist_government = yes
						event_target:america = { has_socialist_government = no }
					}
				}
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = event_target:america ratio < 1.5 }
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = event_target:america ratio < 1.75 }
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = event_target:america ratio < 2 }
			}
			modifier = {
				factor = 2
				enemies_strength_ratio > 0.25
			}
			modifier = {
				factor = 2
				enemies_strength_ratio > 0.5
			}
			modifier = {
				factor = 2
				enemies_strength_ratio > 0.75
			}
			modifier = {
				factor = 0.5
				has_war = no
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = event_target:america ratio > 2 }
			}
		}
		FROM = { country_event = { id = hawaii.123 days = 2 } }
	}
}

country_event = { #FROM Intervenes
	id = hawaii.122
	title = hawaii.122.t
	desc = hawaii.122.d
	picture = GFX_report_event_WIF_Palms

	trigger = {
		NOT = {
			has_war_with = FROM
			has_war_with = FROM.FROM #HAW
		}
	}

	is_triggered_only = yes

	option = { #Then war it is
		log = "[GetLogInfo]: event hawaii.122 option hawaii.122.a"
		name = hawaii.122.a
		trigger = {
			can_declare_war_on = FROM
		}
		ai_chance = {
			base = 80
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 1 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 1.5 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 2 }
			}
			modifier = {
				factor = 0.5
				enemies_strength_ratio > 0.5
			}
			modifier = {
				factor = 0.5
				enemies_strength_ratio > 0.75
			}
			modifier = {
				factor = 0.5
				enemies_strength_ratio > 1
			}
		}
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}

	option = { #We cannot fight them
		log = "[GetLogInfo]: event hawaii.122 option hawaii.122.b"
		name = hawaii.122.b
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio > 2 }
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = FROM ratio < 1.5 }
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = FROM ratio < 1 }
			}
			modifier = {
				factor = 2
				enemies_strength_ratio > 0.5
			}
			modifier = {
				factor = 2
				enemies_strength_ratio > 0.75
			}
			modifier = {
				factor = 2
				enemies_strength_ratio > 1
			}
		}
	}
}

country_event = { #FROM Refuses to Intervene
	id = hawaii.123
	title = hawaii.123.t
	desc = hawaii.123.d
	picture = GFX_report_event_WIF_Palms

	trigger = {
		NOT = { has_war_with = event_target:america }
	}

	is_triggered_only = yes

	option = { #We have no choice now...
		log = "[GetLogInfo]: event hawaii.123 option hawaii.123.a"
		name = hawaii.123.a
		ai_chance = { base = 100 }
		event_target:america = { country_event = { id = hawaii.117 days = 2 } }
	}

	option = { #We will not give up our independence!
		log = "[GetLogInfo]: event hawaii.123 option hawaii.123.b"
		name = hawaii.123.b
		ai_chance = { base = 0 }
		leave_faction = yes
		separate_peace_all_wars = yes
		event_target:america = { country_event = hawaii.124 }
	}
}

country_event = { #Hawaii Rejects Reunion
	id = hawaii.124
	title = hawaii.124.t
	desc = hawaii.124.d
	picture = GFX_report_event_WIF_Palms

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = { #War it is, then
		log = "[GetLogInfo]: event hawaii.124 option hawaii.123.a"
		name = hawaii.123.a
		ai_chance = { base = 100 }
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}

	option = { #Hawaii isn't worth a war
		log = "[GetLogInfo]: event hawaii.124 option hawaii.123.b"
		name = hawaii.123.b
		ai_chance = { base = 0 }
	}
}

### USA dealing with puppet Hawaii ###
country_event = { #America Demands the Return of Hawaii
	id = hawaii.125
	title = hawaii.125.t

	desc = {
		text = hawaii.125.d.puppet_same_faction
		trigger = {
			has_subject = HAW
			is_in_faction_with = FROM
		}
	}
	desc = {
		text = hawaii.125.d.puppet
		trigger = {
			has_subject = HAW
			NOT = { is_in_faction_with = FROM }
		}
	}
	desc = {
		text = hawaii.125.d.annexed_same_faction
		trigger = {
			owns_state = 629
			is_in_faction_with = FROM
		}
	}
	desc = {
		text = hawaii.125.d.annexed
		trigger = {
			owns_state = 629
			NOT = { is_in_faction_with = FROM }
		}
	}

	picture = GFX_report_event_WIF_Palms

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = { #Return the American lands
		log = "[GetLogInfo]: event hawaii.125 option hawaii.125.a"
		name = hawaii.125.a
		trigger = { is_in_faction_with = FROM }
		ai_chance = { base = 100 }
		effect_tooltip = {
			if = {
				limit = { HAW = { is_subject = yes } }
				var:HAW.overlord = {
					set_autonomy = {
						target = HAW
						autonomy_state = autonomy_free
					}
				}
			}
			if = {
				limit = { HAW = { is_in_faction = yes } }
				HAW = { leave_faction = yes }
			}
			if = {
				limit = { country_exists = HAW }
				FROM = {
					annex_country = {
						target = HAW
						transfer_troops = yes
					}
				}
			}
			every_owned_state = {
				limit = { is_american_pacific_islands = yes }
				transfer_state_to = FROM
			}
		}
		FROM = { country_event = { id = hawaii.126 days = 2 } }
	}

	option = { #No, we shall keep it
		log = "[GetLogInfo]: event hawaii.125 option hawaii.125.b"
		name = hawaii.125.b
		trigger = { is_in_faction_with = FROM }
		ai_chance = { base = 0 }
		FROM = { country_event = { id = hawaii.127 days = 2 } }
	}

	option = { #Hawaii isn't worth fighting over
		log = "[GetLogInfo]: event hawaii.125 option hawaii.125.c"
		name = hawaii.125.c
		trigger = {
			NOT = { is_in_faction_with = FROM }
		}
		ai_chance = {
			base = 10
			modifier = {
				add = -80
				OR = {
					tag = JAP
					AND = {
						has_socialist_government = no
						FROM = { has_socialist_government = yes }
					}
				}
			}
		}
		effect_tooltip = {
			if = {
				limit = { HAW = { is_subject = yes } }
				var:HAW.overlord = {
					set_autonomy = {
						target = HAW
						autonomy_state = autonomy_free
					}
				}
			}
			if = {
				limit = { HAW = { is_in_faction = yes } }
				HAW = { leave_faction = yes }
			}
			if = {
				limit = { country_exists = HAW }
				FROM = {
					annex_country = {
						target = HAW
						transfer_troops = yes
					}
				}
			}
			every_owned_state = {
				limit = { is_american_pacific_islands = yes }
				transfer_state_to = FROM
			}
		}
		FROM = { country_event = { id = hawaii.126 days = 2 } }
	}

	option = { #Hawaii belongs to us
		log = "[GetLogInfo]: event hawaii.125 option hawaii.125.d"
		name = hawaii.125.d
		trigger = {
			NOT = { is_in_faction_with = FROM }
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 10
				OR = {
					tag = JAP
					AND = {
						has_socialist_government = no
						FROM = { has_socialist_government = yes }
					}
				}
			}
			modifier = {
				factor = 0
				NOT = {
					tag = JAP
					AND = {
						has_socialist_government = no
						FROM = { has_socialist_government = yes }
					}
				}
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 1 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 1.5 }
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = FROM ratio > 2 }
			}
		}
		FROM = { country_event = { id = hawaii.129 days = 2 } }
	}
}

country_event = { #FROM Returns Hawaii
	id = hawaii.126
	title = hawaii.126.t
	desc = hawaii.126.d
	picture = GFX_report_event_WIF_Palms

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = { #Excellent
		log = "[GetLogInfo]: event hawaii.126 option hawaii.126.a"
		name = hawaii.126.a
		if = {
			limit = { HAW = { is_subject = yes } }
			var:HAW.overlord = {
				set_autonomy = {
					target = HAW
					autonomy_state = autonomy_free
				}
			}
		}
		if = {
			limit = { HAW = { is_in_faction = yes } }
			HAW = { leave_faction = yes }
		}
		if = {
			limit = { country_exists = HAW }
			annex_country = {
				target = HAW
				transfer_troops = yes
			}
		}
		FROM = {
			every_owned_state = {
				limit = { is_american_pacific_islands = yes }
				transfer_state_to = ROOT
			}
		}
	}
}

country_event = { #FROM's Betrayal
	id = hawaii.127
	title = hawaii.127.t
	desc = hawaii.127.d
	picture = GFX_report_event_WIF_Palms

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = { #This is an outrage!
		log = "[GetLogInfo]: event hawaii.127 option hawaii.127.a"
		name = hawaii.127.a
		ai_chance = { base = 100 }
		faction_leader = { country_event = hawaii.128 }
		leave_faction = yes
		every_enemy_country = {
			limit = {
				is_valid_peace_target = yes
				has_capitulated = no
				NOT = { is_neighbor_of = ROOT }
			}
			white_peace_with_ROOT = yes
		}
	}

	option = { #Hawaii isn't worth fighting over
		log = "[GetLogInfo]: event hawaii.127 option hawaii.127.b"
		name = hawaii.127.b
		ai_chance = { base = 0 }
	}
}

country_event = { #America Leaves a Faction
	id = hawaii.128
	title = hawaii.128.t
	desc = hawaii.128.d
	picture = GFX_report_event_WIF_Palms

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = { #That could have gone better...
		log = "[GetLogInfo]: event hawaii.128 option hawaii.123.a"
		name = hawaii.123.a
	}
}

country_event = { #FROM Refuses To Return Hawaii
	id = hawaii.129
	title = hawaii.129.t
	desc = hawaii.129.d
	picture = GFX_report_event_WIF_Palms

	trigger = {
		NOT = { has_war_with = FROM }
	}

	is_triggered_only = yes

	option = { #War it is, then
		log = "[GetLogInfo]: event hawaii.129 option hawaii.129.a"
		name = hawaii.129.a
		trigger = {
			can_declare_war_on = FROM
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 1 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 1.5 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 2 }
			}
		}
		declare_war_on = {
			target = FROM
			type = annex_everything
		}
	}

	option = { #We cannot fight them
		log = "[GetLogInfo]: event hawaii.129 option hawaii.129.b"
		name = hawaii.129.b
		ai_chance = {
			base = 10
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio > 2 }
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = FROM ratio < 1.5 }
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = FROM ratio < 1 }
			}
		}
	}
}

