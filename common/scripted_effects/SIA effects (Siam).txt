
###################
#
# Add Generals
#
###################

SIA_add_government_generals = {
	event_target:original_siam = {
		# Army
		SIA_plaek_phibunsongkhram = {
			if = {
				limit = { is_dead = no }
				set_nationality = PREV.PREV
			}
		}
		SIA_phin_choonhavan = { set_nationality = PREV.PREV }
		SIA_phot_phahonyothin = { set_nationality = PREV.PREV }
		# Navy
		SIA_sindhu_kamolnawin = { set_nationality = PREV.PREV }
	}
	if = {
		limit = { has_character = SIA_plaek_phibunsongkhram }
		SIA_plaek_phibunsongkhram = { promote_character = national_populist_subtype }
	}

	#TODO_ADVISOR_CHANGE - move government advisors/military staff, same syntax as the generals above
}

SIA_add_parliamentarian_generals = {
	event_target:original_siam = {
		# Army
		SIA_thep_panthumasaen = { set_nationality = PREV.PREV }
		SIA_adul_adulyadejchrat = { set_nationality = PREV.PREV }
		SIA_karj_karjsongkhram = { set_nationality = PREV.PREV }
		SIA_wan_chuthin = { set_nationality = PREV.PREV }
		# Navy
		SIA_thawan_thamrongnawasawat = { set_nationality = PREV.PREV }
		SIA_mongkol_mongkolnawin = { set_nationality = PREV.PREV }
	}
	SIA_thawan_thamrongnawasawat = { promote_character = yes }

	#TODO_ADVISOR_CHANGE - move parliamentarian advisors/military staff, same syntax as the generals above
}

SIA_add_neutral_generals = {
	event_target:original_siam = {
		# Army
		SIA_jarun_seriroengrit = { set_nationality = PREV.PREV }
		SIA_pichit_kriengsakpichit = { set_nationality = PREV.PREV }
		SIA_mangkorn_promyothee = { set_nationality = PREV.PREV }
		# Navy
		SIA_prayoon_yutthasartkosol = { set_nationality = PREV.PREV }
		# Advisor
		SIA_jerm_arwuth = { set_nationality = PREV.PREV }
		SIA_jira_wichitsongkhram = { set_nationality = PREV.PREV }
	}
}

SIA_add_royalist_generals = {
	event_target:original_siam = {
		# Army
		SIA_din_tharab = { set_nationality = PREV.PREV }
		SIA_boworadet_kridakorn = { set_nationality = PREV.PREV }
		SIA_sala_emasiri = { set_nationality = PREV.PREV }
		# Navy
		SIA_bunchai_sawathasuk = { set_nationality = PREV.PREV }
		SIA_thongdee_suwanprueng = { set_nationality = PREV.PREV }
	}

	#TODO_ADVISOR_CHANGE - move royalist advisors/military staff, same syntax as the generals above
}

###################
#
# Post-CW Gov SetUp
#
###################

SIA_setup_RadSoc_government = {
	hidden_effect = {
		SIA_create_republican_leaders = yes
	}
	add_popularity = { ideology = totalist popularity = 0.05 }
	add_popularity = { ideology = syndicalist popularity = 0.05 }
	add_popularity = { ideology = social_democrat popularity = 0.03 }
	add_popularity = { ideology = radical_socialist popularity = 0.20 }
	set_politics = {
		ruling_party = radical_socialist
		elections_allowed = no
	}
	hidden_effect = {
		set_party_name = { # Khanagummakarn Sapha Patiwat
			ideology = totalist
			long_name = SIA_radical_socialist_party_united_front_long
			name = SIA_radical_socialist_party_united_front
		}
		set_party_name = {
			ideology = syndicalist
			long_name = SIA_radical_socialist_party_united_front_long
			name = SIA_radical_socialist_party_united_front
		}
		set_party_name = {
			ideology = radical_socialist
			long_name = SIA_radical_socialist_party_united_front_long
			name = SIA_radical_socialist_party_united_front
		}
	}
	# Syndie Cabinet
	activate_advisor = SIA_thawan_thamrongnawasawat_sic
	set_country_flag = SIA_CONSTITUTION_GIVEN_SYNDIE
	set_temp_variable = { coalition_partner_var = token:radical_socialist }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:syndicalist }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:totalist }
	add_to_coalition = yes
	SIA = { set_cosmetic_tag = SIA_REP }
}

SIA_setup_Boworadet_government = {
	hidden_effect = {
		SIA_create_prajadhipok = yes
	}
	# Boworadet Cabinet
	activate_advisor = SIA_boworadet_kridakorn_sic
	add_popularity = { ideology = paternal_autocrat popularity = 0.20 }
	add_popularity = { ideology = national_populist popularity = 0.05 }
	add_popularity = { ideology = authoritarian_democrat popularity = 0.05 }
	add_popularity = { ideology = social_conservative popularity = 0.03 }
	set_politics = {
		ruling_party = paternal_autocrat
		elections_allowed = no
	}
	hidden_effect = {
		set_party_name = { # Khana Patirupt Siam
			ideology = authoritarian_democrat
			long_name = SIA_authoritarian_democrat_party_nobil_long
			name = SIA_authoritarian_democrat_party_nobil
		}
	}
	set_country_flag = SIA_CONSTITUTION_GIVEN_BORIPATR
	set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:social_conservative }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:paternal_autocrat }
	add_to_coalition = yes
	SIA = { set_cosmetic_tag = SIA_default }
}

SIA_setup_Royalists_government = { # As in the "Government" side
	if = {
		limit = { NOT = { has_country_flag = SIA_1936_ELECTION } }
		set_country_flag = SIA_1936_ELECTION
		custom_effect_tooltip = SIA_election_1_months_tt
		hidden_effect = {
			set_politics = {
				ruling_party = authoritarian_democrat
				election_frequency = 1 # 1936 Election in 1 Month
				elections_allowed = yes
			}
		}
	}
	hidden_effect = {
		SIA_create_prajadhipok = yes
	}
	# Royalist Cabinet
	activate_advisor = SIA_kon_hutasingha_sic
	set_country_flag = SIA_syndie_purge_pol
	set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:social_democrat }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:social_liberal }
	add_to_coalition = yes
}

SIA_setup_Parliamentarians_government = { # As in the "Government" side
	if = {
		limit = { NOT = { has_country_flag = SIA_1936_ELECTION } }
		set_country_flag = SIA_1936_ELECTION
		custom_effect_tooltip = SIA_election_1_months_tt
		hidden_effect = {
			set_politics = {
				ruling_party = authoritarian_democrat
				election_frequency = 1 # 1936 Election in 1 Month
				elections_allowed = yes
			}
		}
	}
	hidden_effect = {
		SIA_create_prajadhipok = yes
	}
	# Parliamentarian Cabinet
	activate_advisor = SIA_phot_phahonyothin_sic
	set_country_flag = SIA_royalist_purge_pol
	set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:social_conservative }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:market_liberal }
	add_to_coalition = yes
}

###################
#
# Coup/Reform SetUp
#
###################

SIA_setup_Khana_Ratsadon_government = {
	set_party_name = { # Khana Ratsadon
		ideology = authoritarian_democrat
		long_name = SIA_authoritarian_democrat_party_khana_ratsadon_long
		name = SIA_authoritarian_democrat_party_khana_ratsadon
	}
	# Parliamentarian Cabinet
	activate_advisor = SIA_phot_phahonyothin_sic
	# Set Popularity
	add_popularity = {
		ideology = social_democrat
		popularity = 0.08
	}
	add_popularity = {
		ideology = social_liberal
		popularity = 0.11
	}
	add_popularity = {
		ideology = market_liberal
		popularity = 0.08
	}
	add_popularity = {
		ideology = social_conservative
		popularity = 0.05
	}
}

SIA_setup_Khanagummakarn_Ratsadon_government = {
	set_party_name = { # Khanagummakarn Ratsadon
		ideology = authoritarian_democrat
		long_name = SIA_authoritarian_democrat_party_reform_long
		name = SIA_authoritarian_democrat_party_reform
	}
	# Royalist Cabinet
	activate_advisor = SIA_kon_hutasingha_sic
	# Set Popularity
	add_popularity = {
		ideology = social_democrat
		popularity = 0.03
	}
	add_popularity = {
		ideology = social_liberal
		popularity = 0.04
	}
	add_popularity = {
		ideology = market_liberal
		popularity = 0.05
	}
	add_popularity = {
		ideology = social_conservative
		popularity = 0.10
	}
}

###################
#
# Election SetUp
#
###################

SIA_setup_Elected_SocDem_government = {
	hidden_effect = {
		event_target:original_siam = { SIA_pridi_phanomyong = { set_nationality = PREV.PREV } } #make sure he's in SIA
	}
	clr_country_flag = SIA_SENI_PRAMOJ_ELECTED
	set_country_flag = SIA_PRIDI_PANOMYONG_ELECTED_ELECTED
	clr_country_flag = SIA_PHRAYA_PHAHON_ELECTED
	add_popularity = {
		ideology = authoritarian_democrat
		popularity = -0.05
	}
	add_popularity = {
		ideology = syndicalist
		popularity = 0.02
	}
	add_popularity = {
		ideology = radical_socialist
		popularity = 0.05
	}
	add_popularity = {
		ideology = social_democrat
		popularity = 0.13
	}
	set_politics = {
		ruling_party = social_democrat
		election_frequency = 48
		elections_allowed = no
	}
	# SocDem Cabinet
	activate_advisor = SIA_pridi_phanomyong_sic
	set_temp_variable = { coalition_partner_var = token:social_democrat }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:radical_socialist }
	add_to_coalition = yes
}

SIA_setup_Elected_Liberal_government = {
	hidden_effect = {
		SIA = {
			SIA_sawaet_piampongsarn = { set_nationality = PREV } #make sure he's in SIA
		}
	}
	clr_country_flag = SIA_SENI_PRAMOJ_ELECTED
	clr_country_flag = SIA_PRIDI_PANOMYONG_ELECTED_ELECTED
	set_country_flag = SIA_PHRAYA_PHAHON_ELECTED
	add_popularity = {
		ideology = authoritarian_democrat
		popularity = -0.05
	}
	add_popularity = {
		ideology = social_liberal
		popularity = 0.13
	}
	add_popularity = {
		ideology = market_liberal
		popularity = 0.05
	}
	set_politics = {
		ruling_party = social_liberal
		election_frequency = 48
		elections_allowed = no
	}
	# Liberal Cabinet
	activate_advisor = SIA_sawaet_piampongsarn_sic
	set_temp_variable = { coalition_partner_var = token:social_liberal }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:market_liberal }
	add_to_coalition = yes
}

SIA_setup_Elected_Conservative_government = {
	hidden_effect = {
		event_target:original_siam = { SIA_seni_pramoj = { set_nationality = PREV.PREV } } #make sure he's in SIA
	}
	set_country_flag = SIA_SENI_PRAMOJ_ELECTED
	clr_country_flag = SIA_PRIDI_PANOMYONG_ELECTED_ELECTED
	clr_country_flag = SIA_PHRAYA_PHAHON_ELECTED
	add_popularity = {
		ideology = authoritarian_democrat
		popularity = 0.05
	}
	add_popularity = {
		ideology = market_liberal
		popularity = 0.02
	}
	add_popularity = {
		ideology = social_conservative
		popularity = 0.13
	}
	set_politics = {
		ruling_party = social_conservative
		election_frequency = 48
		elections_allowed = no
	}
	# SocCon Cabinet
	activate_advisor = SIA_seni_pramoj_sic
	set_temp_variable = { coalition_partner_var = token:social_conservative }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
	add_to_coalition = yes
}

#######################
#
# Military Junta SetUp
#
#######################

SIA_setup_Phibun_government = {
	set_country_flag = SIA_IRON_MARSHAL_PLAEK

	set_politics = {
		ruling_party = national_populist
		elections_allowed = no
	}
	set_party_name = { # Seri Manangkhasila for PatAuth
		ideology = paternal_autocrat
		long_name = SIA_paternal_autocrat_party_plaek_long
		name = SIA_paternal_autocrat_party_plaek
	}
	set_party_name = { # Seri Manangkhasila for NatPop
		ideology = national_populist
		long_name = SIA_national_populist_party_plaek_long
		name = SIA_national_populist_party_plaek
	}
	add_popularity = {
		ideology = paternal_autocrat
		popularity = 0.10
	}
	add_popularity = {
		ideology = national_populist
		popularity = 0.25
	}
	# Phibun Cabinet -> Phao is SIC
	activate_advisor = SIA_phao_sriyanond_sic
	set_temp_variable = { coalition_partner_var = token:national_populist }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:paternal_autocrat }
	add_to_coalition = yes
}

SIA_setup_Sarit_government = {
	hidden_effect = {
		end_coalition = yes
		event_target:original_siam = { SIA_sarit_thanarat = { set_nationality = PREV.PREV } } #make sure he's in SIA
	}
	custom_effect_tooltip = SIA_sarit_leader_tt
	hidden_effect = {
		if = {
			limit = { has_character = SIA_sarit_thanarat }
			SIA_sarit_thanarat = {
				remove_all_country_leader_roles = yes
				add_country_leader_role = {
					country_leader = {
						desc = SIA_sarit_thanarat_leader_desc
						ideology = authoritarian_democrat_subtype
						traits = { SIA_pho_khun_trait }
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_sarit_thanarat_leader_desc
						ideology = paternal_autocrat_subtype
						traits = { SIA_pho_khun_trait }
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_sarit_thanarat_leader_desc
						ideology = national_populist_subtype
						traits = { SIA_pho_khun_trait }
					}
					promote_leader = yes
				}
			}
		}
		set_party_name = { # Chart Sangkhom Party
			ideology = paternal_autocrat
			long_name = SIA_paternal_autocrat_party_sarit_long
			name = SIA_paternal_autocrat_party_sarit
		}
	}
	set_politics = {
		ruling_party = paternal_autocrat
		elections_allowed = no
	}
	add_popularity = {
		ideology = paternal_autocrat
		popularity = 0.18
	}
	add_popularity = {
		ideology = social_conservative
		popularity = 0.15
	}
	# Sarit Cabinet
	activate_advisor = SIA_sarit_thanarat_sic
	set_temp_variable = { coalition_partner_var = token:paternal_autocrat }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:social_conservative }
	add_to_coalition = yes
}

SIA_setup_Phao_government = {
	hidden_effect = {
		end_coalition = yes
		#make sure they're in SIA
		event_target:original_siam = {
			SIA_phao_sriyanond = { set_nationality = PREV.PREV }
			SIA_pramarn_adireksarn = { set_nationality = PREV.PREV }
		}
	}
	custom_effect_tooltip = SIA_phao_leader_tt
	hidden_effect = {
		if = {
			limit = { has_character = SIA_phao_sriyanond }
			SIA_phao_sriyanond = {
				remove_all_country_leader_roles = yes
				add_country_leader_role = {
					country_leader = {
						desc = SIA_phao_sriyanond_leader_desc
						ideology = authoritarian_democrat_subtype
						traits = { SIA_prancing_knight_trait }
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_phao_sriyanond_leader_desc
						ideology = paternal_autocrat_subtype
						traits = { SIA_prancing_knight_trait }
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_phao_sriyanond_leader_desc
						ideology = national_populist_subtype
						traits = { SIA_prancing_knight_trait }
					}
					promote_leader = yes
				}
			}
		}
		set_party_name = { # Chart Thai Party
			ideology = national_populist
			long_name = SIA_national_populist_party_phao_long
			name = SIA_national_populist_party_phao
		}
	}
	add_popularity = {
		ideology = national_populist
		popularity = 0.18
	}
	add_popularity = {
		ideology = market_liberal
		popularity = 0.15
	}
	# Phao Cabinet
	activate_advisor = SIA_pramarn_adireksarn_sic
	set_temp_variable = { coalition_partner_var = token:national_populist }
	add_to_coalition = yes
	set_temp_variable = { coalition_partner_var = token:market_liberal }
	add_to_coalition = yes
}

###################
#
# Demobilize Forces
#
###################

SIA_demobilize_forces = {
	if = {
		limit = { has_template = "Krom Taharn Rarb" }
		delete_unit_template_and_units = { division_template = "Krom Taharn Rarb" }
	}
	hidden_effect = { # Remove SiaCW stuff
		if = {
			limit = { has_dynamic_modifier = { modifier = SIA_faltering_political_movement } }
			remove_dynamic_modifier = { modifier = SIA_faltering_political_movement }
		}
	}
}

###################
#
# SiaCW Ship Removal
#
###################

SiaCW_navy_redistribution = {
	hidden_effect = {
		### RSN 1st Naval Command
		# CL
		transfer_ship = { prefer_name = "HSMS Rattanakosin" type = light_cruiser target = XXA }
		transfer_ship = { prefer_name = "HSMS Sukhothai" type = light_cruiser target = XXA }
		# DD
		transfer_ship = { prefer_name = "HSMS Mahachakri" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "HSMS Chao Phraya" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "HSMS Phra Ruang" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "HSMS Suea Kamronsin" type = destroyer target = XXA }
		transfer_ship = { prefer_name = "HSMS Suea Tayarnchol" type = destroyer target = XXA }

		### RSN Submarine Taskforce
		# SS
		transfer_ship = { prefer_name = "HSMS Matchanu" type = submarine target = XXA }
		transfer_ship = { prefer_name = "HSMS Sinsamut" type = submarine target = XXA }
		transfer_ship = { prefer_name = "HSMS Wirun" type = submarine target = XXA }
		transfer_ship = { prefer_name = "HSMS Phlai-Chumphon" type = submarine target = XXA }
	}
}

###################
#
# Flag/Name Change
#
###################

SIA_switch_to_republic_flag = {
	SIA = {
		if = {
			limit = {
				OR = {
					has_cosmetic_tag = THI
					has_country_flag = SIA_THAILAND
				}
			}
			set_cosmetic_tag = THI_REP
		}
		else = {
			set_cosmetic_tag = SIA_REP
		}
	}
}

SIA_switch_to_kingdom_flag = {
	SIA = {
		if = {
			limit = { has_cosmetic_tag = SIA_REP }
			set_cosmetic_tag = SIA_default
		}
		else_if = {
			limit = { has_cosmetic_tag = THI_REP }
			set_cosmetic_tag = THI
		}
	}
}

################
#
# SiaCW SetUps
#
################

### SIA CW revamp
SIA_setup_for_SIACW_government = {
	set_global_flag = SIA_yes_civil_war
	if = {
		limit = { has_global_flag = SIA_phibunsongkhram_is_royalist }
		set_cosmetic_tag = SIA_Royalist

		civil_war_set_flag_to_restore_elections = yes
		start_civil_war = {
			### basics ###
			set_cosmetic_tag = SIA_Parliament
			ideology = radical_socialist
			size = 0.4
			navy_ratio = 0

			### states ###
			capital = 824
			states = { 724 749 751 824 830 831 999 }

			### characters ###
			keep_all_characters = yes

			### effects ###
			copy_popularities_of_PREV = yes
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.20
			}
			set_political_party = { ideology = authoritarian_democrat popularity = 0 }
			set_political_party = { ideology = paternal_autocrat popularity = 0 }
			set_political_party = { ideology = national_populist popularity = 0 }
			SIA_add_parliamentarian_generals = yes
			add_ideas = SIA_SiaCW_div_limit_bonus
			SIA_create_separatist_divisions = yes
			SIA_create_parliamentarian_divisions = yes
			# Syndie Cabinet
			SIA = { SIA_thawan_thamrongnawasawat = { set_nationality = PREV.PREV } }
			activate_advisor = SIA_thawan_thamrongnawasawat_sic
			activate_mission = SIA_secure_bangkok
			set_country_flag = SIA_REBEL

			every_state = {
				limit = { is_claimed_by = SIA }
				add_claim_by = PREV
			}

			SIA_revolter_fire_character_death_events = yes
		}

		SIA_add_royalist_generals = yes
		SIA_create_royalist_divisions = yes
		# Royalist Cabinet
		activate_advisor = SIA_kon_hutasingha_sic
	}
	else = { #Plaek is Parliamentarian
		set_cosmetic_tag = SIA_Parliament
		SIA_pridi_phanomyong = { set_nationality = PREV }
		if = {
			limit = { has_character = SIA_pridi_phanomyong }
			SIA_pridi_phanomyong = {
				if = {
					limit = { has_ideology = authoritarian_democrat_subtype }
					promote_character = yes
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = SIA_pridi_phanomyong_leader_desc
							ideology = authoritarian_democrat_subtype
						}
						promote_leader = yes
					}
				}
			}
		}

		civil_war_set_flag_to_restore_elections = yes
		start_civil_war = {
			### basics ###
			set_cosmetic_tag = SIA_Royalist
			ideology = paternal_autocrat
			size = 0.4
			navy_ratio = 0

			### states ###
			capital = 823 #Nakhon Ratchasima - Royalist
			states = { 750 751 756 822 823 830 882 999 }

			### characters ###
			keep_all_characters = yes

			### effects ###
			copy_popularities_of_PREV = yes
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.20
			}
			set_political_party = { ideology = totalist popularity = 0 }
			set_political_party = { ideology = syndicalist popularity = 0 }
			set_political_party = { ideology = radical_socialist popularity = 0 }
			set_political_party = { ideology = social_democrat popularity = 0 }
			SIA_create_prajadhipok = yes
			SIA_add_royalist_generals = yes
			add_ideas = SIA_SiaCW_div_limit_bonus
			SIA_create_separatist_divisions = yes
			SIA_create_royalist_divisions = yes
			# Boworadet Cabinet
			SIA = { SIA_boworadet_kridakorn = { set_nationality = PREV.PREV } }
			activate_advisor = SIA_boworadet_kridakorn_sic
			activate_mission = SIA_secure_bangkok
			set_country_flag = SIA_REBEL

			every_state = {
				limit = { is_claimed_by = SIA }
				add_claim_by = PREV
			}

			SIA_revolter_fire_character_death_events = yes
		}

		SIA_add_parliamentarian_generals = yes
		SIA_create_parliamentarian_divisions = yes
		# Parliamentarian Cabinet
		activate_advisor = SIA_phot_phahonyothin_sic
	}
	add_popularity = {
		ideology = authoritarian_democrat
		popularity = 0.20
	}
	SIA_add_government_generals = yes
	SIA_add_neutral_generals = yes
	add_ideas = SIA_SiaCW_div_limit_bonus
	SIA_create_government_divisions = yes
}

SIA_setup_for_SIACW_rebel = {
	set_global_flag = SIA_yes_civil_war
	if = {
		limit = { has_global_flag = SIA_phibunsongkhram_is_royalist }
		set_capital = { state = 824 } # Rayong - Parliamentarians
		set_cosmetic_tag = SIA_Parliament
		civil_war_set_flag_to_restore_elections = yes
		start_civil_war = {
			### basics ###
			set_cosmetic_tag = SIA_Royalist
			ruling_party = radical_socialist
			ideology = authoritarian_democrat
			size = 0.6
			navy_ratio = 0

			### states ###
			capital = 289
			states = { 289 750 756 822 823 825 882 }

			### characters ###
			keep_all_characters = yes

			### effects ###
			copy_popularities_of_PREV = yes
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.20
			}
			SIA_create_prajadhipok = yes
			SIA_add_government_generals = yes
			SIA_add_neutral_generals = yes
			SIA_add_royalist_generals = yes
			add_ideas = SIA_SiaCW_div_limit_bonus
			SIA_create_government_divisions = yes
			SIA_create_royalist_divisions = yes
			# Royalist Cabinet
			SIA = { SIA_kon_hutasingha = { set_nationality = PREV.PREV } }
			activate_advisor = SIA_kon_hutasingha_sic

			every_state = {
				limit = { is_claimed_by = SIA }
				add_claim_by = PREV
			}

			SIA_revolter_fire_character_death_events = yes
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.20
		}
		set_political_party = { ideology = authoritarian_democrat popularity = 0 }
		set_political_party = { ideology = paternal_autocrat popularity = 0 }
		set_political_party = { ideology = national_populist popularity = 0 }
		SIA_add_parliamentarian_generals = yes
		SIA_create_parliamentarian_divisions = yes
		# Syndie Cabinet
		activate_advisor = SIA_thawan_thamrongnawasawat_sic
	}
	else = { #Plaek is Parliamentarian
		set_capital = { state = 823 } # Nakhon Ratchasima - Royalist
		set_cosmetic_tag = SIA_Royalist
		civil_war_set_flag_to_restore_elections = yes
		start_civil_war = {
			### basics ###
			set_cosmetic_tag = SIA_Parliament
			ruling_party = paternal_autocrat
			ideology = authoritarian_democrat
			size = 0.6
			navy_ratio = 0

			### states ###
			capital = 289
			states = { 289 724 749 824 825 831 }

			### characters ###
			keep_all_characters = yes

			### effects ###
			SIA = { SIA_pridi_phanomyong = { set_nationality = PREV.PREV } }
			if = {
				limit = { has_character = SIA_pridi_phanomyong }
				SIA_pridi_phanomyong = {
					if = {
						limit = { has_ideology = authoritarian_democrat_subtype }
						promote_character = yes
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = SIA_pridi_phanomyong_leader_desc
								ideology = authoritarian_democrat_subtype
							}
							promote_leader = yes
						}
					}
				}
			}
			copy_popularities_of_PREV = yes
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.20
			}
			SIA_add_government_generals = yes
			SIA_add_neutral_generals = yes
			SIA_add_parliamentarian_generals = yes
			add_ideas = SIA_SiaCW_div_limit_bonus
			SIA_create_government_divisions = yes
			SIA_create_parliamentarian_divisions = yes
			# Parliamentarian Cabinet
			SIA = { SIA_phot_phahonyothin = { set_nationality = PREV.PREV } }
			activate_advisor = SIA_phot_phahonyothin_sic

			every_state = {
				limit = { is_claimed_by = SIA }
				add_claim_by = PREV
			}

			SIA_revolter_fire_character_death_events = yes
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.20
		}
		set_political_party = { ideology = totalist popularity = 0 }
		set_political_party = { ideology = syndicalist popularity = 0 }
		set_political_party = { ideology = radical_socialist popularity = 0 }
		set_political_party = { ideology = social_democrat popularity = 0 }
		SIA_add_royalist_generals = yes
		SIA_create_royalist_divisions = yes
		# Boworadet Cabinet
		SIA = { SIA_boworadet_kridakorn = { set_nationality = PREV.PREV } }
		activate_advisor = SIA_boworadet_kridakorn_sic
	}

	set_country_flag = SIA_REBEL
	add_ideas = SIA_SiaCW_div_limit_bonus
	SIA_create_separatist_divisions = yes
	activate_mission = SIA_secure_bangkok
}

SIA_revolter_fire_character_death_events = {
	calculate_days_since_game_start = yes

	set_temp_variable = { event_days = 1948 }
	add_to_temp_variable = { event_days = days_to_event }
	if = {
		limit = { check_variable = { event_days > 0 } }
		country_event = { id = siam.6013 days = event_days } # Death of Rama VII
	}

	set_temp_variable = { event_days = 1993 }
	add_to_temp_variable = { event_days = days_to_event }
	if = {
		limit = { check_variable = { event_days > 0 } }
		country_event = { id = siam.6014 days = event_days } # Paribatra Sukhumbhand reacts
	}

	set_temp_variable = { event_days = 3018 }
	add_to_temp_variable = { event_days = days_to_event }
	if = {
		limit = { check_variable = { event_days > 0 } }
		country_event = { id = siam.6033 days = event_days } # Death of Paribatra Sukhumbhand
	}

	set_temp_variable = { event_days = 3798 }
	add_to_temp_variable = { event_days = days_to_event }
	if = {
		limit = { check_variable = { event_days > 0 } }
		country_event = { id = siam.6015 days = event_days } # Death of Rama VIII
	}

	set_temp_variable = { event_days = 8649 }
	add_to_temp_variable = { event_days = days_to_event }
	if = {
		limit = { check_variable = { event_days > 0 } }
		country_event = { id = siam.6034 days = event_days } # Death of Chumbhotbongs Paribatra
	}
}

#############################
#
# Create Republican Leaders
#
#############################

SIA_create_republican_leaders = {
	hidden_effect = {
		# make sure everyone is in SIA in the first place
		event_target:original_siam = {
			SIA_supha_sirimanon = { set_nationality = PREV.PREV }
			SIA_pridi_phanomyong = { set_nationality = PREV.PREV }
			SIA_thawan_thamrongnawasawat = { set_nationality = PREV.PREV }
			SIA_pote_sarasin = { set_nationality = PREV.PREV }
			SIA_seni_pramoj = { set_nationality = PREV.PREV }
			if = {
				limit = { SIA_plaek_phibunsongkhram = { is_dead = no } }
				SIA_plaek_phibunsongkhram = { set_nationality = PREV.PREV }
			}
			SIA_phao_sriyanond = { set_nationality = PREV.PREV }
			SIA_sarit_thanarat = { set_nationality = PREV.PREV }
		}
	}
	if = {
		limit = { has_character = SIA_supha_sirimanon }
		SIA_supha_sirimanon = {
			if = {
				limit = { has_ideology = totalist_subtype }
				promote_character = totalist_subtype
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SIA_supha_sirimanon_leader_desc
						ideology = totalist_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = syndicalist_subtype }
				promote_character = syndicalist_subtype
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SIA_supha_sirimanon_leader_desc
						ideology = syndicalist_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
	if = {
		limit = { has_character = SIA_pridi_phanomyong }
		SIA_pridi_phanomyong = {
			if = {
				limit = { has_ideology = radical_socialist_subtype }
				promote_character = radical_socialist_subtype
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SIA_pridi_phanomyong_victorious_leader_desc
						ideology = radical_socialist_subtype
					}
					promote_leader = yes
				}
			}
			if = {
				limit = { has_ideology = social_democrat_subtype }
				promote_character = social_democrat_subtype
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SIA_pridi_phanomyong_victorious_leader_desc
						ideology = social_democrat_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
	if = {
		limit = { has_character = SIA_thawan_thamrongnawasawat }
		SIA_thawan_thamrongnawasawat = {
			if = {
				limit = { has_ideology = social_liberal_subtype }
				promote_character = social_liberal_subtype
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SIA_thawan_thamrongnawasawat_leader_desc
						ideology = social_liberal_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
	if = {
		limit = { has_character = SIA_pote_sarasin }
		SIA_pote_sarasin = {
			if = {
				limit = { has_ideology = market_liberal_subtype }
				promote_character = market_liberal_subtype
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SIA_pote_sarasin_leader_desc
						ideology = market_liberal_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
	if = {
		limit = { has_character = SIA_seni_pramoj }
		SIA_seni_pramoj = {
			if = {
				limit = { has_ideology = social_conservative_subtype }
				promote_character = social_conservative_subtype
			}
			else = {
				add_country_leader_role = {
					country_leader = {
						desc = SIA_seni_pramoj_leader_desc
						ideology = social_conservative_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
	if = {
		limit = {
			NOT = {
				has_country_leader = { character = SIA_phao_sriyanond }
				has_country_leader = { character = SIA_sarit_thanarat }
			}
		}
		if = {
			limit = { has_character = SIA_sarit_thanarat }
			SIA_sarit_thanarat = {
				if = {
					limit = { has_ideology = national_populist_subtype }
					promote_character = national_populist_subtype
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = SIA_sarit_thanarat_leader_desc
							ideology = national_populist_subtype
							traits = { SIA_pho_khun_trait }
						}
						promote_leader = yes
					}
				}
			}
		}
		if = {
			limit = { has_character = SIA_phao_sriyanond }
			SIA_phao_sriyanond = {
				if = {
					limit = { has_ideology = authoritarian_democrat_subtype }
					promote_character = authoritarian_democrat_subtype
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = SIA_phao_sriyanond_leader_desc
							ideology = authoritarian_democrat_subtype
							traits = { SIA_prancing_knight_trait }
						}
						promote_leader = yes
					}
				}
				if = {
					limit = { has_ideology = paternal_autocrat_subtype }
					promote_character = paternal_autocrat_subtype
				}
				else = {
					add_country_leader_role = {
						country_leader = {
							desc = SIA_phao_sriyanond_leader_desc
							ideology = paternal_autocrat_subtype
							traits = { SIA_prancing_knight_trait }
						}
						promote_leader = yes
					}
				}
			}
		}
		if = {
			limit = { SIA_plaek_phibunsongkhram = { is_dead = no } }
			if = {
				limit = { has_character = SIA_plaek_phibunsongkhram }
				SIA_plaek_phibunsongkhram = {
					if = {
						limit = { has_ideology = authoritarian_democrat_subtype }
						promote_character = authoritarian_democrat_subtype
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = SIA_plaek_phibunsongkhram_leader_desc
								ideology = authoritarian_democrat_subtype
								traits = { SIA_iron_marshal_trait }
							}
							promote_leader = yes
						}
					}
					if = {
						limit = { has_ideology = paternal_autocrat_subtype }
						promote_character = paternal_autocrat_subtype
					}
					else = {
						add_country_leader_role = {
							country_leader = {
								desc = SIA_plaek_phibunsongkhram_leader_desc
								ideology = paternal_autocrat_subtype
								traits = { SIA_iron_marshal_trait }
							}
							promote_leader = yes
						}
					}
					if = {
						limit = { has_ideology = national_populist_subtype }
						promote_character = national_populist_subtype
					}
					else = {
						add_country_leader_role = { #need to re-add his original role
							country_leader = {
								desc = SIA_plaek_phibunsongkhram_leader_desc
								ideology = national_populist_subtype
								traits = { SIA_iron_marshal_trait }
							}
							promote_leader = yes
						}
					}
				}
			}
		}
	}
}

#############################
#
# Create Mahidol Leaders
#
#############################

SIA_create_prajadhipok = {
	if = { # Rama VII
		limit = { event_target:original_siam = { SIA_prajadhipok = { is_dead = no } } }
		event_target:original_siam = {
			SIA_prajadhipok = {
				character_becomes_leader_of_ruling_party_effect_tooltip = yes
				hidden_effect = {
					set_nationality = PREV.PREV
					remove_all_country_leader_roles = yes
					add_country_leader_role = {
						country_leader = {
							desc = SIA_prajadhipok_leader_desc
							ideology = social_democrat_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_prajadhipok_leader_desc
							ideology = social_liberal_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_prajadhipok_leader_desc
							ideology = market_liberal_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_prajadhipok_leader_desc
							ideology = social_conservative_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_prajadhipok_leader_desc
							ideology = authoritarian_democrat_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_prajadhipok_leader_desc
							ideology = paternal_autocrat_subtype
						}
						promote_leader = yes
					}
				}
			}
			hidden_effect = {
				SIA_ananda_mahidol = {
					set_nationality = PREV.PREV
					remove_all_country_leader_roles = yes
				}
				SIA_bhumibol_adulyadej = {
					set_nationality = PREV.PREV
					remove_all_country_leader_roles = yes
				}
			}
		}
	}
	else = { # Rama VIII
		SIA_create_ananda_mahidol = yes
	}
}

SIA_create_ananda_mahidol = {
	if = { # Rama VIII
		limit = { event_target:original_siam = { SIA_ananda_mahidol = { is_dead = no } } }
		event_target:original_siam = {
			SIA_ananda_mahidol = {
				character_becomes_leader_of_ruling_party_effect_tooltip = yes
				hidden_effect = {
					set_nationality = PREV.PREV
					remove_all_country_leader_roles = yes
					add_country_leader_role = {
						country_leader = {
							desc = SIA_ananda_mahidol_leader_desc
							ideology = social_democrat_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_ananda_mahidol_leader_desc
							ideology = social_liberal_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_ananda_mahidol_leader_desc
							ideology = market_liberal_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_ananda_mahidol_leader_desc
							ideology = social_conservative_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_ananda_mahidol_leader_desc
							ideology = authoritarian_democrat_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_ananda_mahidol_leader_desc
							ideology = paternal_autocrat_subtype
						}
						promote_leader = yes
					}
				}
			}
			hidden_effect = {
				SIA_bhumibol_adulyadej = {
					set_nationality = PREV.PREV
					remove_all_country_leader_roles = yes
				}
			}
		}
	}
	else = { # Rama IX - 1946.6.8
		SIA_create_bhumibol_adulyadej = yes
	}
}

SIA_create_bhumibol_adulyadej = {
	event_target:original_siam = {
		SIA_bhumibol_adulyadej = {
			character_becomes_leader_of_ruling_party_effect_tooltip = yes
			hidden_effect = {
				set_nationality = PREV.PREV
				remove_all_country_leader_roles = yes
				add_country_leader_role = {
					country_leader = {
						desc = SIA_bhumibol_adulyadej_leader_desc
						ideology = social_democrat_subtype
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_bhumibol_adulyadej_leader_desc
						ideology = social_liberal_subtype
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_bhumibol_adulyadej_leader_desc
						ideology = market_liberal_subtype
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_bhumibol_adulyadej_leader_desc
						ideology = social_conservative_subtype
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_bhumibol_adulyadej_leader_desc
						ideology = authoritarian_democrat_subtype
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_bhumibol_adulyadej_leader_desc
						ideology = paternal_autocrat_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
}

#############################
#
# Create Chakrabongse Leaders
#
#############################

SIA_create_chula_chakrabongse = {
	event_target:original_siam = {
		SIA_chula_chakrabongse = {
			character_becomes_leader_of_ruling_party_effect_tooltip = yes
			hidden_effect = {
				set_nationality = PREV.PREV
				remove_all_country_leader_roles = yes
				add_country_leader_role = {
					country_leader = {
						desc = SIA_chula_chakrabongse_leader_desc
						ideology = social_democrat_subtype
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_chula_chakrabongse_leader_desc
						ideology = social_liberal_subtype
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_chula_chakrabongse_leader_desc
						ideology = market_liberal_subtype
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_chula_chakrabongse_leader_desc
						ideology = social_conservative_subtype
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_chula_chakrabongse_leader_desc
						ideology = authoritarian_democrat_subtype
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_chula_chakrabongse_leader_desc
						ideology = paternal_autocrat_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
}

#############################
#
# Create Paribatra Leaders
#
#############################

SIA_create_paribatra_sukhumbhand = {
	if = { # Paribatra Sukhumbhand
		limit = { event_target:original_siam = { SIA_paribatra_sukhumbhand = { is_dead = no } } }
		event_target:original_siam = {
			SIA_paribatra_sukhumbhand = {
				character_becomes_leader_of_ruling_party_effect_tooltip = yes
				hidden_effect = {
					set_nationality = PREV.PREV
					remove_all_country_leader_roles = yes
					add_country_leader_role = {
						country_leader = {
							desc = SIA_paribatra_sukhumbhand_leader_desc
							ideology = social_democrat_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_paribatra_sukhumbhand_leader_desc
							ideology = social_liberal_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_paribatra_sukhumbhand_leader_desc
							ideology = market_liberal_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_paribatra_sukhumbhand_leader_desc
							ideology = social_conservative_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_paribatra_sukhumbhand_leader_desc
							ideology = authoritarian_democrat_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_paribatra_sukhumbhand_leader_desc
							ideology = paternal_autocrat_subtype
						}
						promote_leader = yes
					}
				}
			}
			hidden_effect = {
				SIA_chumbhotbongs_paribatra = {
					set_nationality = PREV.PREV
					remove_all_country_leader_roles = yes
				}
				SIA_sukhumabhinanda = {
					set_nationality = PREV.PREV
					remove_all_country_leader_roles = yes
				}
			}
		}
	}
	else = { # Chumbhotbongs Paribatra
		SIA_create_chumbhotbongs_paribatra = yes
	}
}

SIA_create_chumbhotbongs_paribatra = {
	if = { # Chumbhotbongs Paribatra
		limit = { event_target:original_siam = { SIA_chumbhotbongs_paribatra = { is_dead = no } } }
		event_target:original_siam = {
			SIA_chumbhotbongs_paribatra = {
				character_becomes_leader_of_ruling_party_effect_tooltip = yes
				hidden_effect = {
					set_nationality = PREV.PREV
					remove_all_country_leader_roles = yes
					add_country_leader_role = {
						country_leader = {
							desc = SIA_chumbhotbongs_paribatra_leader_desc
							ideology = social_democrat_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_chumbhotbongs_paribatra_leader_desc
							ideology = social_liberal_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_chumbhotbongs_paribatra_leader_desc
							ideology = market_liberal_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_chumbhotbongs_paribatra_leader_desc
							ideology = social_conservative_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_chumbhotbongs_paribatra_leader_desc
							ideology = authoritarian_democrat_subtype
						}
						promote_leader = yes
					}
					add_country_leader_role = {
						country_leader = {
							desc = SIA_chumbhotbongs_paribatra_leader_desc
							ideology = paternal_autocrat_subtype
						}
						promote_leader = yes
					}
				}
			}
			hidden_effect = {
				SIA_sukhumabhinanda = {
					set_nationality = PREV.PREV
					remove_all_country_leader_roles = yes
				}
			}
		}
	}
	else = { # Sukhumbhinanda -  1959.9.14
		SIA_create_sukhumabhininda = yes
	}
}

SIA_create_sukhumabhininda = {
	event_target:original_siam = {
		SIA_sukhumabhinanda = {
			character_becomes_leader_of_ruling_party_effect_tooltip = yes
			hidden_effect = {
				set_nationality = PREV.PREV
				remove_all_country_leader_roles = yes
				add_country_leader_role = {
					country_leader = {
						desc = SIA_sukhumabhinanda_leader_desc
						ideology = social_democrat_subtype
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_sukhumabhinanda_leader_desc
						ideology = social_liberal_subtype
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_sukhumabhinanda_leader_desc
						ideology = market_liberal_subtype
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_sukhumabhinanda_leader_desc
						ideology = social_conservative_subtype
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_sukhumabhinanda_leader_desc
						ideology = authoritarian_democrat_subtype
					}
					promote_leader = yes
				}
				add_country_leader_role = {
					country_leader = {
						desc = SIA_sukhumabhinanda_leader_desc
						ideology = paternal_autocrat_subtype
					}
					promote_leader = yes
				}
			}
		}
	}
}

#################################
#
# Abolish/Reinstall Royal Titles
#
#################################

SIA_remove_royal_titles = {
	custom_effect_tooltip = SIA_remove_title_tt
	hidden_effect = {
		event_target:original_siam = {
			### Country Leaders ###
			SIA_pridi_phanomyong = { set_character_name = SIA_pridi_phanomyong }
			SIA_plaek_phibunsongkhram = { set_character_name = SIA_plaek_phibunsongkhram }

			### Field Marshal
			SIA_boworadet_kridakorn = { set_character_name = SIA_boworadet_kridakorn }
			SIA_jarun_seriroengrit = { set_character_name = SIA_jarun_seriroengrit }

			### General
			SIA_phot_phahonyothin = { set_character_name = SIA_phot_phahonyothin } # Phahonphonpayuhasena
			SIA_din_tharab = { set_character_name = SIA_din_tharab } # Srisitthisongkhram
			SIA_sala_emasiri = { set_character_name = SIA_sala_emasiri } # Rithhi-arkaney
			SIA_wan_chuthin = { set_character_name = SIA_wan_chuthin } # Prasartpitthayayuth
			SIA_phin_choonhavan = { set_character_name = SIA_phin_choonhavan } # Chumnanyutthasart
			SIA_thep_panthumasaen = { set_character_name = SIA_thep_panthumasaen } # Songsuradet
			SIA_adul_adulyadejchrat = { set_character_name = SIA_adul_adulyadejchrat } # Adulyadejchrat
			SIA_pichit_kriengsakpichit = { set_character_name = SIA_pichit_kriengsakpichit } # Kriengsakpichit
			SIA_karj_karjsongkhram = { set_character_name = SIA_karj_karjsongkhram } # Karjsongkhram
			SIA_mangkorn_promyothee = { set_character_name = SIA_mangkorn_promyothee } # Promyothee

			### Admiral
			SIA_sindhu_kamolnawin = { set_character_name = SIA_sindhu_kamolnawin } # Sinthusongkhramchai
			SIA_thawan_thamrongnawasawat = { set_character_name = SIA_thawan_thamrongnawasawat } # Thamrongnawasawat
			SIA_thongdee_suwanprueng = { set_character_name = SIA_thongdee_suwanprueng } # Witchitchollatee
			SIA_bunchai_sawathasuk = { set_character_name = SIA_bunchai_sawathasuk } # Wicharnjakkich
			SIA_mongkol_mongkolnawin = { set_character_name = SIA_mongkol_mongkolnawin } # Mongkolnavin
			SIA_prayoon_yutthasartkosol = { set_character_name = SIA_prayoon_yutthasartkosol } # Yutthasartkosol

			### Air Chief
			SIA_boonjeam_komolmit = { set_character_name = SIA_boonjeam_komolmit }
			SIA_long_sinsuk = { set_character_name = SIA_long_sinsuk }
			SIA_munee_mahasantana = { set_character_name = SIA_munee_mahasantana }
			SIA_sunee_suwanprateep = { set_character_name = SIA_sunee_suwanprateep }
			SIA_thip_ketuthat = { set_character_name = SIA_thip_ketuthat }

			### Advisors
			# SIC
			SIA_kon_hutasingha = { set_character_name = SIA_kon_hutasingha }
			# Political
			SIA_wan_waithayakon = { set_character_name = SIA_wan_waithayakon }
			SIA_wichit_wichitwathakan = { set_character_name = SIA_wichit_wichitwathakan }
			# Research
			SIA_jira_wichitsongkhram = { set_character_name = SIA_jira_wichitsongkhram }
			# Economic
			SIA_wisuth_tonwanik = { set_character_name = SIA_wisuth_tonwanik }
			# Construction
			SIA_jerm_arwuth = { set_character_name = SIA_jerm_arwuth }
			SIA_narisara_nuwattiwong = { set_character_name = SIA_narisara_nuwattiwong }
			SIA_purachatra_jayakara = { set_character_name = SIA_purachatra_jayakara }
			# Other
			SIA_bung_suphachalasai = { set_character_name = SIA_bung_suphachalasai }
			SIA_pijarn_dullalampha = { set_character_name = SIA_pijarn_dullalampha }
		}
	}
}

SIA_reinstall_royal_titles = {
	custom_effect_tooltip = SIA_reinstall_title_tt
	hidden_effect = {
		event_target:original_siam = {
			### Country Leaders ###
			SIA_pridi_phanomyong = { set_character_name = SIA_pridi_phanomyong_royal }
			SIA_plaek_phibunsongkhram = { set_character_name = SIA_plaek_phibunsongkhram_royal }

			### Field Marshal
			SIA_boworadet_kridakorn = { set_character_name = SIA_boworadet_kridakorn_royal } # Boworadet
			SIA_jarun_seriroengrit = { set_character_name = SIA_jarun_seriroengrit_royal } # Seriroengrit

			### General
			SIA_phot_phahonyothin = { set_character_name = SIA_phot_phahonyothin_royal } # Phahonphonpayuhasena
			SIA_din_tharab = { set_character_name = SIA_din_tharab_royal } # Srisitthisongkhram
			SIA_sala_emasiri = { set_character_name = SIA_sala_emasiri_royal } # Rithhi-arkaney
			SIA_wan_chuthin = { set_character_name = SIA_wan_chuthin_royal } # Prasartpitthayayuth
			SIA_phin_choonhavan = { set_character_name = SIA_phin_choonhavan_royal } # Chumnanyutthasart
			SIA_thep_panthumasaen = { set_character_name = SIA_thep_panthumasaen_royal } # Songsuradet
			SIA_adul_adulyadejchrat = { set_character_name = SIA_adul_adulyadejchrat_royal } # Adulyadejchrat
			SIA_pichit_kriengsakpichit = { set_character_name = SIA_pichit_kriengsakpichit_royal } # Kriengsakpichit
			SIA_karj_karjsongkhram = { set_character_name = SIA_karj_karjsongkhram_royal } # Karjsongkhram
			SIA_mangkorn_promyothee = { set_character_name = SIA_mangkorn_promyothee_royal } # Promyothee

			### Admiral
			SIA_sindhu_kamolnawin = { set_character_name = SIA_sindhu_kamolnawin_royal } # Sinthusongkhramchai
			SIA_thawan_thamrongnawasawat = { set_character_name = SIA_thawan_thamrongnawasawat_royal } # Thamrongnawasawat
			SIA_thongdee_suwanprueng = { set_character_name = SIA_thongdee_suwanprueng_royal } # Witchitchollatee
			SIA_bunchai_sawathasuk = { set_character_name = SIA_bunchai_sawathasuk_royal } # Wicharnjakkich
			SIA_mongkol_mongkolnawin = { set_character_name = SIA_mongkol_mongkolnawin_royal } # Mongkolnawin
			SIA_prayoon_yutthasartkosol = { set_character_name = SIA_prayoon_yutthasartkosol_royal } # Yutthasartkosol

			### Air Chief
			SIA_boonjeam_komolmit = { set_character_name = SIA_boonjeam_komolmit_royal }
			SIA_long_sinsuk = { set_character_name = SIA_long_sinsuk_royal }
			SIA_munee_mahasantana = { set_character_name = SIA_munee_mahasantana_royal }
			SIA_sunee_suwanprateep = { set_character_name = SIA_sunee_suwanprateep_royal }
			SIA_thip_ketuthat = { set_character_name = SIA_thip_ketuthat_royal }

			### Advisors
			# SIC
			SIA_kon_hutasingha = { set_character_name = SIA_kon_hutasingha_royal }
			# Political
			SIA_wan_waithayakon = { set_character_name = SIA_wan_waithayakon_royal }
			SIA_wichit_wichitwathakan = { set_character_name = SIA_wichit_wichitwathakan_royal }
			# Research
			SIA_jira_wichitsongkhram = { set_character_name = SIA_jira_wichitsongkhram_royal }
			# Economic
			SIA_wisuth_tonwanik = { set_character_name = SIA_wisuth_tonwanik_royal }
			# Construction
			SIA_narisara_nuwattiwong = { set_character_name = SIA_narisara_nuwattiwong_royal }
			SIA_purachatra_jayakara = { set_character_name = SIA_purachatra_jayakara_royal }
			# Other
			SIA_jerm_arwuth = { set_character_name = SIA_jerm_arwuth_royal }
			SIA_bung_suphachalasai = { set_character_name = SIA_bung_suphachalasai_royal }
			SIA_pijarn_dullalampha = { set_character_name = SIA_pijarn_dullalampha_royal }
		}
	}
}

################################
#
# Royal/Republican Guard Switch
#
################################

SIA_repub_template = {
	delete_unit_template_and_units = { division_template = "Korngpon Taharn Rarb Raksa Pra-ong" disband = yes }
	division_template = {
		name = "Korngpon Taharn Rarb Luang" # Ceremonial Guard
		division_names_group = SIA_REPUB_INF_01
		is_locked = yes
		regiments = {
			infantry = { x = 0 y = 0 }
			infantry = { x = 0 y = 1 }
			infantry = { x = 0 y = 2 }
			infantry = { x = 1 y = 0 }
			infantry = { x = 1 y = 1 }
			infantry = { x = 1 y = 2 }
			infantry = { x = 2 y = 0 }
			infantry = { x = 2 y = 1 }
			infantry = { x = 2 y = 2 }
		}
		support = {
			engineer = { x = 0 y = 0 }
			artillery = { x = 0 y = 1 }
		}
	}
	random_owned_controlled_state = {
		prioritize = { 289 }
		create_unit = {
			division = "name = \"Korngpon Thi 1 'Ratthapithi'\" division_template = \"Korngpon Taharn Rarb Luang\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
			owner = SIA
		}
		#create_unit = {
		#	division = "name = \"Korngpon Taharn Rarb Thi 2 'Pokpak-Sataranarath'\" division_template = \"Korngpon Taharn Rarb Luang\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
		#	owner = SIA
		#}
	}
}

SIA_royal_template = {
	delete_unit_template_and_units = { division_template = "Korngpon Taharn Rarb Luang" disband = yes }
	division_template = {
		name = "Korngpon Taharn Rarb Raksa Pra-ong" # King's Guard Unit
		division_names_group = SIA_ROYAL_INF_01
		is_locked = yes
		regiments = {
			infantry = { x = 0 y = 0 }
			infantry = { x = 0 y = 1 }
			infantry = { x = 0 y = 2 }
			infantry = { x = 1 y = 0 }
			infantry = { x = 1 y = 1 }
			infantry = { x = 1 y = 2 }
			infantry = { x = 2 y = 0 }
			infantry = { x = 2 y = 1 }
			infantry = { x = 2 y = 2 }
		}
		support = {
			engineer = { x = 0 y = 0 }
			artillery = { x = 0 y = 1 }
		}
	}
	random_owned_controlled_state = {
		prioritize = { 289 }
		create_unit = {
			division = "name = \"Korngpon Thi 1 'Raksa Pra-ong'\" division_template = \"Korngpon Taharn Rarb Raksa Pra-ong\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
			owner = SIA
		}
		#create_unit = {
		#	division = "name = \"Korngpon Taharn Rarb Thi 2 'Raksa Pra-ong'\" division_template = \"Korngpon Taharn Rarb Raksa Pra-ong\" start_experience_factor = 0.5 start_equipment_factor = 1.0"
		#	owner = SIA
		#}
	}
}

##################################
#
# Modern Siamese Nation Idea Swap
#
##################################

SIA_MSN_conversion = {
	## Remove Previous Tier if Applicable
	if = {
		limit = { has_idea = SIA_SocDem_3 }
		remove_ideas = SIA_SocDem_3
	}
	else_if = {
		limit = { has_idea = SIA_SocCon_3 }
		remove_ideas = SIA_SocCon_3
	}
	else_if = {
		limit = { has_idea = SIA_Liberal_3 }
		remove_ideas = SIA_Liberal_3
	}

	## Add New MSN
	if = {
		limit = {
			has_country_flag = SIA_PRIDI_PANOMYONG_ELECTED_ELECTED
			has_completed_focus = SIA_statewelfare
		}
		add_ideas = SIA_MSN_SocDem_idea
	}
	else_if = {
		limit = {
			has_country_flag = SIA_SENI_PRAMOJ_ELECTED
			has_completed_focus = SIA_adevotedmonarchy
		}
		add_ideas = SIA_MSN_SocCon_idea
	}
	else_if = {
		limit = {
			has_country_flag = SIA_PHRAYA_PHAHON_ELECTED
			has_completed_focus = SIA_progressivemeasures
		}
		add_ideas = SIA_MSN_Liberal_idea
	}
	else = {
		add_ideas = SIA_MSN_idea
	}
}

###################
#
# Decisions Enabler
#
###################

SIA_Min_Transport_Decisions_Unlocked = {
	effect_tooltip = {
		activate_targeted_decision = { decision = SIA_north_road_1 target = SIA }
		activate_targeted_decision = { decision = SIA_isan_road_1 target = SIA }
		activate_targeted_decision = { decision = SIA_east_road_2 target = SIA }
		activate_targeted_decision = { decision = SIA_pakt_road_1 target = SIA }
	}
	hidden_effect = {
		activate_targeted_decision = { decision = SIA_north_road_1 target = SIA }
		activate_targeted_decision = { decision = SIA_north_road_2 target = SIA }
		activate_targeted_decision = { decision = SIA_north_road_3 target = SIA }
		activate_targeted_decision = { decision = SIA_north_road_4 target = SIA }
		activate_targeted_decision = { decision = SIA_isan_road_1 target = SIA }
		activate_targeted_decision = { decision = SIA_isan_road_2 target = SIA }
		activate_targeted_decision = { decision = SIA_isan_road_3 target = SIA }
		activate_targeted_decision = { decision = SIA_east_road_2 target = SIA }
		activate_targeted_decision = { decision = SIA_east_road_3 target = SIA }
		activate_targeted_decision = { decision = SIA_pakt_road_1 target = SIA }
		activate_targeted_decision = { decision = SIA_pakt_road_2 target = SIA }
		activate_targeted_decision = { decision = SIA_pakt_road_3 target = SIA }
	}
}

SIA_create_government_divisions = {
	log = "[GetDateText]: [Root.GetName]: Create divisions SIA_create_government_divisions"
	### Create templates
	division_template = {
		name = "Krom Taharn Rarb" # Default
		division_names_group = SIA_INF_02
		regiments = {
			infantry = { x = 0 y = 0 }
			infantry = { x = 0 y = 1 }
			infantry = { x = 0 y = 2 }
			infantry = { x = 1 y = 0 }
			infantry = { x = 1 y = 1 }
			infantry = { x = 1 y = 2 }
		}
	}
	### Create divisions
	capital_scope = {
		create_unit = {
			division = "name = \"Krom Taharn 'Raksakarn Phra Nakhon'\" division_template = \"Krom Taharn Rarb\" start_experience_factor = 0.2"
			owner = PREV
		}
		create_unit = {
			division = "name = \"Krom Taharn Arsa 'Nakhon Pathom'\" division_template = \"Krom Taharn Rarb\" start_experience_factor = 0.2"
			owner = PREV
		}
	}
}

SIA_create_parliamentarian_divisions = {
	log = "[GetDateText]: [Root.GetName]: Create divisions SIA_create_parliamentarian_divisions"
	### Create templates
	division_template = {
		name = "Krom Taharn Rarb" # Default
		division_names_group = SIA_INF_02
		regiments = {
			infantry = { x = 0 y = 0 }
			infantry = { x = 0 y = 1 }
			infantry = { x = 0 y = 2 }
			infantry = { x = 1 y = 0 }
			infantry = { x = 1 y = 1 }
			infantry = { x = 1 y = 2 }
		}
	}
	### Create divisions
	random_owned_controlled_state = {
		limit = { valid_state_for_spawning_friendly_unit = yes }
		prioritize = { 824 }
		create_unit = {
			division = "name = \"Krom Taharn 'Raksakarn Sattahip'\" division_template = \"Krom Taharn Rarb\" start_experience_factor = 0.2"
			owner = PREV
		}
		create_unit = {
			division = "name = \"Krom Taharn Arsa 'Nairoi Navikkayothin'\" division_template = \"Krom Taharn Rarb\" start_experience_factor = 0.2"
			owner = PREV
		}
	}
	random_owned_controlled_state = {
		limit = { valid_state_for_spawning_friendly_unit = yes }
		prioritize = { 724 }
		create_unit = {
			division = "name = \"Krom Taharn Rarb 'Vachiravut'\" division_template = \"Krom Taharn Rarb\" start_experience_factor = 0.2"
			owner = PREV
		}
		create_unit = {
			division = "name = \"Krom Taharn Rarb 'Senanarong'\" division_template = \"Krom Taharn Rarb\" start_experience_factor = 0.2"
			owner = PREV
		}
	}
	random_owned_controlled_state = {
		limit = { valid_state_for_spawning_friendly_unit = yes }
		prioritize = { 831 }
		create_unit = {
			division = "name = \"Krom Taharn Mon Arsa\" division_template = \"Krom Taharn Rarb\" start_experience_factor = 0.1"
			owner = PREV
		}
		create_unit = {
			division = "name = \"Krom Taharn Arsa 'Kanchanaburi'\" division_template = \"Krom Taharn Rarb\" start_experience_factor = 0.1"
			owner = PREV
		}
	}
}

SIA_create_royalist_divisions = {
	log = "[GetDateText]: [Root.GetName]: Create divisions SIA_create_royalist_divisions"
	### Create templates
	division_template = {
		name = "Krom Taharn Rarb" # Default
		division_names_group = SIA_INF_02
		regiments = {
			infantry = { x = 0 y = 0 }
			infantry = { x = 0 y = 1 }
			infantry = { x = 0 y = 2 }
			infantry = { x = 1 y = 0 }
			infantry = { x = 1 y = 1 }
			infantry = { x = 1 y = 2 }
		}
	}
	division_template = {
		name = "Krom Taharn Mah"	#Cavalry
		division_names_group = SIA_CAV_01
		regiments = {
			cavalry = { x = 0 y = 0 }
			cavalry = { x = 0 y = 1 }
			cavalry = { x = 0 y = 2 }
			cavalry = { x = 1 y = 0 }
			cavalry = { x = 1 y = 1 }
			cavalry = { x = 1 y = 2 }
		}
	}
	### Create divisions
	random_owned_controlled_state = {
		limit = { valid_state_for_spawning_friendly_unit = yes }
		prioritize = { 289 }
		create_unit = {
			division = "name = \"Krom Taharn Arsa 'Krungkao'\" division_template = \"Krom Taharn Rarb\" start_experience_factor = 0.1"
			owner = PREV
		}
	}
	random_owned_controlled_state = {
		limit = { valid_state_for_spawning_friendly_unit = yes }
		prioritize = { 822 }
		create_unit = {
			division = "name = \"Krom Taharn Rarb 'Kaew Nawarat'\" division_template = \"Krom Taharn Rarb\" start_experience_factor = 0.1"
			owner = PREV
		}
		create_unit = {
			division = "name = \"Krom Taharn Ngiaow Arsa\" division_template = \"Krom Taharn Rarb\" start_experience_factor = 0.1"
			owner = PREV
		}
	}
	random_owned_controlled_state = {
		limit = { valid_state_for_spawning_friendly_unit = yes }
		prioritize = { 823 }
		create_unit = {
			division = "name = \"Krom Taharn Rarb 'Khorat'\" division_template = \"Krom Taharn Rarb\" start_experience_factor = 0.2"
			owner = PREV
		}
		create_unit = {
			division = "name = \"Krom Taharn Arsa 'Ubon'\" division_template = \"Krom Taharn Rarb\" start_experience_factor = 0.2"
			owner = PREV
		}
		create_unit = {
			division = "name = \"Krom Taharn Mah 'Lopburi'\" division_template = \"Krom Taharn Mah\" start_experience_factor = 0.1"
			owner = PREV
		}
	}
	random_owned_controlled_state = {
		limit = { valid_state_for_spawning_friendly_unit = yes }
		prioritize = { 750 }
		create_unit = {
			division = "name = \"Krom Taharn Khamen Arsa\" division_template = \"Krom Taharn Rarb\" start_experience_factor = 0.1"
			owner = PREV
		}
	}
}

SIA_create_separatist_divisions = {
	log = "[GetDateText]: [Root.GetName]: Create divisions SIA_create_separatist_divisions"
	### Create templates
	division_template = {
		name = "Krom Taharn Rarb" # Default
		division_names_group = SIA_INF_02
		regiments = {
			infantry = { x = 0 y = 0 }
			infantry = { x = 0 y = 1 }
			infantry = { x = 0 y = 2 }
			infantry = { x = 1 y = 0 }
			infantry = { x = 1 y = 1 }
			infantry = { x = 1 y = 2 }
		}
	}
	### Create divisions
	random_owned_controlled_state = {
		limit = { valid_state_for_spawning_friendly_unit = yes }
		prioritize = { 830 }
		create_unit = {
			division = "name = \"Rejimen Revolusi Kedah\" division_template = \"Krom Taharn Rarb\" start_experience_factor = 0.2"
			owner = PREV
		}
		create_unit = {
			division = "name = \"Rejimen Revolusi Patani-Terrengannu\" division_template = \"Krom Taharn Rarb\" start_experience_factor = 0.2"
			owner = PREV
		}
	}
}

SIA_peace_treaty_next_event = {
	hidden_effect = {
		SIA = {
			if = {
				limit = {
					any_enemy_country = {
						is_subject = no
						OR = {
							is_in_faction = no
							is_faction_leader = yes
							faction_leader = { has_country_flag = SIA_accepts_peace }
							faction_leader = { has_country_flag = SIA_refuses_peace }
						}
						NOT = { has_country_flag = SIA_accepts_peace }
						NOT = { has_country_flag = SIA_refuses_peace }
					}
				}
				random_enemy_country = {
					limit = {
						is_subject = no
						NOT = { has_country_flag = SIA_accepts_peace }
						NOT = { has_country_flag = SIA_refuses_peace }
					}
					country_event = siam.67
				}
			}
			else = {
				country_event = { id = siam.70 days = 2 }
			}
		}
	}
}

SIA_nationalisation_german_effect = {
	822 = { # Lanna
		add_extra_state_shared_building_slots = 1
		add_building_construction = { # Logging
			type = industrial_complex
			level = 1
			instant_build = yes
		}
		add_building_construction = { # Northern Railway
			type = infrastructure
			level = 1
			instant_build = yes
		}
	}
	289 = { # Bangkok
		add_building_construction = {
			type = naval_base
			level = 1
			province = 7408
			instant_build = yes
		}
	}
	if = {
		limit = { has_event_target = germany }
		reverse_add_opinion_modifier = {
			target = event_target:germany
			modifier = SIA_IndNat_bastard # -50
		}
		if = {
			limit = { MAF = { is_subject_of = event_target:germany } }
			reverse_add_opinion_modifier = {
				target = MAF
				modifier = SIA_IndNat_bastard # -50
			}
		}
		if = {
			limit = { GEA = { is_subject_of = event_target:germany } }
			reverse_add_opinion_modifier = {
				target = MAF
				modifier = SIA_IndNat_bastard # -50
			}
		}
		event_target:germany = { country_event = siam.27 }
	}
}

SIA_nationalisation_american_effect = {
	289 = { # Ayutthaya
		add_extra_state_shared_building_slots = 2
		add_building_construction = { # Ford
			type = arms_factory
			level = 1
			instant_build = yes
		}
	}
	if = {
		limit = { has_event_target = america }
		every_other_country = {
			limit = {
				is_american_tag = yes
				has_socialist_government = no
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = SIA_IndNat_bastard # -50
			}
			country_event = siam.27
		}
	}
}

SIA_nationalisation_british_effect = {
	add_resource = {
		type = rubber
		amount = 8
		state = 751 # Sirat Malai
	}
	if = {
		limit = { has_event_target = britain }
		every_country = {
			limit = {
				CAN_is_commonwealth_tag = yes
				OR = {
					tag = event_target:britain
					is_subject_of = event_target:britain
					AND = {
						is_in_faction_with = event_target:britain
						faction_leader = {
							OR = {
								tag = event_target:britain
								tag = ENT
							}
						}
					}
				}
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = SIA_IndNat_bastard # -50
			}
		}
		event_target:britain = { country_event = siam.27 }
	}
}

SIA_nationalisation_japanese_effect = {
	add_resource = {
		type = steel
		amount = 6
		state = 724 # Kra Isthmus
	}
	add_resource = {
		type = steel
		amount = 2
		state = 830 # Yala
	}
	if = {
		limit = { has_event_target = japan }
		reverse_add_opinion_modifier = {
			target = event_target:japan
			modifier = SIA_IndNat_bastard # -50
		}
		event_target:japan = { country_event = siam.27 }
	}
}
