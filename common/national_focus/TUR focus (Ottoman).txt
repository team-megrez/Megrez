###########################
# Ottoman Focus Tree
# By Jeankedezeehond
###########################

	#################
	# CROWD CONTROL #
	#################

shared_focus = {
	id = OTT_Maintenance_of_Order_Law
	icon = GFX_goal_OTT_coat_of_arms
	cost = 5

	x = 3
	y = 0

	available = {
		custom_trigger_tooltip = {
			tooltip = OTT_maintenance_of_order_law_tooltip
			always = no
		}
	}

	ai_will_do = { factor = 1000 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Maintenance_of_Order_Law"
		custom_effect_tooltip = ott_maintenance_of_order_law_tt
	}
}

shared_focus = {
	id = OTT_Reeling_in_the_Arab_Vilayets
	icon = GFX_goal_OTT_Reeling_in_Arab_Vilayets
	cost = 5

	relative_position_id = OTT_Maintenance_of_Order_Law
	x = 2
	y = 1

	available = {
		NOT = {
			has_war_with = SYR
			has_war_with = IRQ
		}
		owns_state = 677
		owns_state = 554
		owns_state = 676
		owns_state = 291
	}

	prerequisite = {
		focus = OTT_Maintenance_of_Order_Law
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_STABILITY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Reeling_in_the_Arab_Vilayets"
		677 = {
			ott_decrease_revolt_risk = yes
		}
		676 = {
			ott_decrease_revolt_risk = yes
		}
		291 = {
			ott_decrease_revolt_risk = yes
		}
		custom_effect_tooltip = tooltip_white_line
		add_stability = 0.05
		custom_effect_tooltip = tooltip_white_line
		unlock_decision_tooltip = OTT_SYR_Central_Tax_Collection_Agency
		unlock_decision_tooltip = OTT_TRI_Centralise_Taxation
		unlock_decision_tooltip = OTT_SYR_Settle_Tribes
		unlock_decision_tooltip = OTT_ARA_Settle_Tribes
		unlock_decision_tooltip = OTT_TRI_Settle_Tripolitanian_Tribes
		unlock_decision_tooltip = OTT_SYR_Turkish_Integration_Resettlement_Program
	}
}

shared_focus = {
	id = OTT_Reform_the_Conscription_System
	icon = GFX_goal_OTT_gendarmerie
	cost = 5

	relative_position_id = OTT_Reeling_in_the_Arab_Vilayets
	x = 0
	y = 1

	available = {
		OR = {
			authoritarian_democrat > 0.5
			paternal_autocrat > 0.5
			market_liberal > 0.5
			has_war = yes
		}
	}

	prerequisite = {
		focus = OTT_Reeling_in_the_Arab_Vilayets
	}

	ai_will_do = { factor = 20000 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_MANPOWER }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Reform_the_Conscription_System"
		custom_effect_tooltip = ott_reformed_conscription_system_tt
		754 = {
			ott_increase_revolt_risk = yes
		}
		679 = {
			ott_increase_revolt_risk = yes
		}
		455 = {
			ott_increase_revolt_risk = yes
		}
		680 = {
			ott_increase_revolt_risk = yes
		}
		custom_effect_tooltip = tooltip_white_line
		350 = {
			ott_increase_revolt_risk = yes
		}
		352 = {
			ott_increase_revolt_risk = yes
		}
		819 = {
			ott_increase_revolt_risk = yes
		}
		custom_effect_tooltip = tooltip_white_line
		448 = {
			ott_increase_revolt_risk = yes
		}
		273 = {
			ott_increase_revolt_risk = yes
		}
		450 = {
			ott_increase_revolt_risk = yes
		}
		custom_effect_tooltip = tooltip_white_line
		add_ideas = ott_reformed_conscription
	}
}

shared_focus = {
	id = OTT_Crack_down_on_the_SSNP
	icon = GFX_goal_secret_agents
	cost = 5

	relative_position_id = OTT_Reeling_in_the_Arab_Vilayets
	x = -1
	y = 2

	available = {
		553 = {
			is_fully_controlled_by = OTT
		}
		554 = {
			is_fully_controlled_by = OTT
		}
	}

	prerequisite = {
		focus = OTT_Reeling_in_the_Arab_Vilayets
	}
	prerequisite = {
		focus = OTT_Tribunals_of_Progress
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_POLITICAL }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Crack_down_on_the_SSNP"
		add_political_power = 100
		custom_effect_tooltip = tooltip_white_line
		553 = {
			ott_increase_revolt_risk = yes
		}
		554 = {
			ott_increase_revolt_risk = yes
		}
		custom_effect_tooltip = tooltip_white_line
		unlock_decision_tooltip = OTT_SYR_Restrict_Arab_Nationalist_Newspapers
	}
}

shared_focus = {
	id = OTT_Order_by_the_Locomotive
	icon = GFX_goal_generic_construct_infrastructure
	cost = 5

	relative_position_id = OTT_Reeling_in_the_Arab_Vilayets
	x = 1
	y = 2

	available = {
		754 = {
			is_fully_controlled_by = OTT
		}
		679 = {
			is_fully_controlled_by = OTT
		}
		455 = {
			is_fully_controlled_by = OTT
		}
	}

	prerequisite = {
		focus = OTT_Reeling_in_the_Arab_Vilayets
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Order_by_the_Locomotive"
		754 = {
			ott_decrease_revolt_risk = yes
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		679 = {
			ott_decrease_revolt_risk = yes
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		455 = {
			ott_decrease_revolt_risk = yes
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		if = {
			limit = {
				453 = {
					is_fully_controlled_by = OTT
				}
			}
			453 = {
				ott_decrease_revolt_risk = yes
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		build_railway = {
			start_province = 12883
			target_province = 7151
		}
		custom_effect_tooltip = tooltip_white_line
		unlock_decision_tooltip = OTT_SYR_Centralise_Infrastructural_Maintenance
		unlock_decision_tooltip = OTT_IRQ_Iraqi_Road_System
		unlock_decision_tooltip = OTT_KUR_Complete_the_Copper_Line
		unlock_decision_tooltip = OTT_TRI_Tripoli_Benghazi_Railway
	}
}

shared_focus = {
	id = OTT_Status_of_the_Autonomous_Regions
	icon = GFX_focus_SAF_colonialist_crusade2
	cost = 5

	relative_position_id = OTT_Reeling_in_the_Arab_Vilayets
	x = 0
	y = 3

	available = {
		OR = {
			controls_state = 183 #Cyprus
			controls_state = 448 #Tripoli
			controls_state = 679 #Mecca
			controls_state = 754 #Medina
			controls_state = 812 #Basra
		}
	}

	prerequisite = {
		focus = OTT_Crack_down_on_the_SSNP
	}
	prerequisite = {
		focus = OTT_Order_by_the_Locomotive
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Status_of_the_Autonomous_Regions"
		every_owned_state = {
			limit = {
				is_core_of = ROOT
				OR = {
					state = 183 #Cyprus
					state = 448 #Tripoli
					state = 679 #Mecca
					state = 754 #Medina
					state = 812 #Basra
				}
			}
			ott_increase_revolt_risk = yes
		}
		custom_effect_tooltip = tooltip_white_line
		unlock_decision_tooltip = OTT_SYR_Abolish_Lebanon
		if = {
			limit = { owns_state = 679 }
			unlock_decision_tooltip = OTT_ARA_Abolish_Sharif
			unlock_decision_tooltip = OTT_ARA_Centralise_Tax_Collection
		}
		if = {
			limit = { owns_state = 183 }
			unlock_decision_tooltip = OTT_GRE_Abolish_Mutasarrifate
		}
		if = {
			limit = { owns_state = 812 }
			unlock_decision_tooltip = OTT_IRQ_Abolish_Assyrian_Autonomous_Zone
		}
	}
}

shared_focus = {
	id = OTT_Reeling_in_the_Anatolian_Vilayets
	icon = GFX_goal_OTT_Reeling_in_Anatolian_Vilayets
	cost = 5

	relative_position_id = OTT_Maintenance_of_Order_Law
	x = -2
	y = 1

	available = {
		NOT = {
			has_war_with = KUR
		}
		owns_state = 354
		owns_state = 345
		owns_state = 346
		owns_state = 339
	}

	prerequisite = {
		focus = OTT_Maintenance_of_Order_Law
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_STABILITY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Reeling_in_the_Anatolian_Vilayets"
		354 = {
			ott_decrease_revolt_risk = yes
		}
		345 = {
			ott_decrease_revolt_risk = yes
		}
		346 = {
			ott_decrease_revolt_risk = yes
		}
		339 = {
			ott_decrease_revolt_risk = yes
		}
		custom_effect_tooltip = tooltip_white_line
		add_stability = 0.05
	}
}

shared_focus = {
	id = OTT_OHP_Membership_Reward_Program
	icon = GFX_goal_new_treaty
	cost = 5

	relative_position_id = OTT_Reeling_in_the_Anatolian_Vilayets
	x = -1
	y = 2

	prerequisite = {
		focus = OTT_Reeling_in_the_Anatolian_Vilayets
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_STABILITY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_OHP_Membership_Reward_Program"
		if = {
			limit = { NOT = { has_government = national_populist } }
			custom_effect_tooltip = ott_bribing_is_cool_tt
		}
		add_stability = 0.10
		custom_effect_tooltip = tooltip_white_line
		unlock_decision_tooltip = OTT_GRE_Turkish_Employement_Program
	}
}

shared_focus = {
	id = OTT_Extend_Authority_Kurdish_Territories
	icon = GFX_goal_PAL_Closed_Immigration
	cost = 5

	relative_position_id = OTT_Reeling_in_the_Anatolian_Vilayets
	x = 0
	y = 1

	available = {
		NOT = {
			has_war_with = KUR
		}
		1000 = {
			is_fully_controlled_by = OTT
		}
		354 = {
			is_fully_controlled_by = OTT
		}
		352 = {
			is_fully_controlled_by = OTT
		}
	}

	prerequisite = {
		focus = OTT_Reeling_in_the_Anatolian_Vilayets
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Extend_Authority_Kurdish_Territories"
		1000 = {
			ott_increase_revolt_risk = yes
			increase_state_category_by_one_level = yes
		}
		354 = {
			ott_increase_revolt_risk = yes
			increase_state_category_by_one_level = yes
		}
		352 = {
			ott_increase_revolt_risk = yes
			increase_state_category_by_one_level = yes
		}
		custom_effect_tooltip = tooltip_white_line
		unlock_decision_tooltip = OTT_KUR_Centralise_Tax_Collection
		unlock_decision_tooltip = OTT_KUR_Abolish_the_Hamidiye
		unlock_decision_tooltip = OTT_KUR_Settlement_Law
	}
}

shared_focus = {
	id = OTT_Expand_Halkevleri
	icon = GFX_goal_OTT_Expand_the_Halkevleri_Program
	cost = 5

	relative_position_id = OTT_Reeling_in_the_Anatolian_Vilayets
	x = 1
	y = 2

	available = {
		has_completed_focus = OTT_Commision_Ottomanish_Language
		has_country_flag = ott_halkevleri_created
	}

	bypass = {
		OTT_kemal_is_vizier = no
	}

	prerequisite = {
		focus = OTT_Reeling_in_the_Anatolian_Vilayets
	}
	prerequisite = {
		focus = OTT_Tribunals_of_Progress
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Expand_Halkevleri"
		every_owned_state = {
			limit = { OTT_is_turkish_state = yes }
			ott_decrease_revolt_risk = yes
		}
	}
}

shared_focus = {
	id = OTT_Eradicate_Military_Disloyalty
	icon = GFX_goal_OTT_Military_Mission
	cost = 5

	relative_position_id = OTT_Reeling_in_the_Anatolian_Vilayets
	x = 0
	y = 3

	prerequisite = {
		focus = OTT_OHP_Membership_Reward_Program
	}
	prerequisite = {
		focus = OTT_Expand_Halkevleri
	}

	bypass = {
		OTT_kemal_is_vizier = no
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_ARMY_BONUS }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Eradicate_Military_Disloyalty"
		army_experience = 50
		add_ideas = ott_military_loyalty
	}
}

shared_focus = {
	id = OTT_Tribunals_of_Progress
	icon = GFX_goal_OTT_Tribunals_of_Progress
	cost = 5

	relative_position_id = OTT_Reeling_in_the_Arab_Vilayets
	x = -2
	y = 1

	available = {
		always = no
	}

	prerequisite = {
		focus = OTT_Maintenance_of_Order_Law
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Tribunals_of_Progress"
		country_event = ottpol.25
	}
}

	###########
	# ECONOMY #
	###########

shared_focus = {
	id = OTT_Samsun_Iktisat_Kongresi
	icon = GFX_goal_bankruptcy
	cost = 0

	x = 30
	y = 0

	available = {
		has_idea = ott_black_monday
	}

	allow_branch = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
			has_government = national_populist
			has_focus_tree = ottoman_fevzi_focus
		}
		NOT = {
			has_completed_focus = OTT_Liberalising_National_Economy
			has_completed_focus = OTT_Repeal_National_Protection_Law
			has_completed_focus = OTT_Imperial_Institute_Technology
		}
	}

	offset = {
		x = -9
		y = 0
		trigger = {
			has_focus_tree = ottoman_fevzi_focus
		}
	}
	offset = {
		x = -9
		y = 0
		trigger = {
			has_focus_tree = ottoman_endeavour_focus
			NOT = {
				has_government = market_liberal
				has_completed_focus = OTT_Liberalising_National_Economy
				has_completed_focus = OTT_Repeal_National_Protection_Law
				has_completed_focus = OTT_Imperial_Institute_Technology
			}
		}
	}
	offset = {
		x = -9
		y = 0
		trigger = {
			has_focus_tree = ottoman_endeavour_focus
			OR = {
				has_government = market_liberal
				OR = {
					has_completed_focus = OTT_Liberalising_National_Economy
					has_completed_focus = OTT_Repeal_National_Protection_Law
					has_completed_focus = OTT_Imperial_Institute_Technology
				}
			}
		}
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Samsun_Iktisat_Kongresi"
		custom_effect_tooltip = unlock_focuses
	}
}

	# Black Monday
shared_focus = {
	id = OTT_Raise_Import_Tariffs
	icon = GFX_focus_hol_the_foundations_of_defense
	cost = 5

	relative_position_id = OTT_Samsun_Iktisat_Kongresi
	x = -2
	y = 1

	available = {
		has_idea = ott_black_monday
	}

	prerequisite = {
		focus = OTT_Samsun_Iktisat_Kongresi
	}

	ai_will_do = { factor = 1000 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_PRODUCTION }

	bypass = {
		OR = {
			has_idea = ott_black_monday_2
			has_idea = ott_black_monday_3
			has_idea = ott_black_monday_4
			has_country_flag = black_monday_yeet
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Raise_Import_Tariffs"
		swap_ideas = {
			remove_idea = ott_black_monday
			add_idea = ott_black_monday_2
		}
	}
}

shared_focus = {
	id = OTT_Restrict_Foreign_Exchange_Regime
	icon = GFX_goal_OTT_Restrict_Foreign_Exchange_Regime
	cost = 5

	relative_position_id = OTT_Raise_Import_Tariffs
	x = -1
	y = 1

	available = {
		has_idea = ott_black_monday_2
	}

	prerequisite = {
		focus = OTT_Raise_Import_Tariffs
	}

	ai_will_do = { factor = 1000 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	bypass = {
		OR = {
			has_idea = ott_black_monday_3
			has_idea = ott_black_monday_4
			has_country_flag = black_monday_yeet
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Restrict_Foreign_Exchange_Regime"
		swap_ideas = {
			remove_idea = ott_black_monday_2
			add_idea = ott_black_monday_3
		}
	}
}

shared_focus = {
	id = OTT_Quantity_Restrictions_Import
	icon = GFX_goal_manage_industries
	cost = 5

	relative_position_id = OTT_Raise_Import_Tariffs
	x = -1
	y = 2

	available = {
		has_idea = ott_black_monday_3
	}

	prerequisite = {
		focus = OTT_Restrict_Foreign_Exchange_Regime
	}

	ai_will_do = { factor = 1000 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_PRODUCTION }

	bypass = {
		OR = {
			has_idea = ott_black_monday_4
			has_country_flag = black_monday_yeet
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Quantity_Restrictions_Import"
		swap_ideas = {
			remove_idea = ott_black_monday_3
			add_idea = ott_black_monday_4
		}
	}
}

shared_focus = {
	id = OTT_Ziraat_Bankasi_Credit
	icon = GFX_goal_OTT_Ziraat_Bankasi
	cost = 5

	relative_position_id = OTT_Raise_Import_Tariffs
	x = 1
	y = 1

	prerequisite = {
		focus = OTT_Raise_Import_Tariffs
	}

	ai_will_do = { factor = 1000 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_STABILITY }

	bypass = {
		OR = {
			has_country_flag = black_monday_yeet
			has_country_flag = ziraat_bypass
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Ziraat_Bankasi_Credit"
		add_stability = 0.10
		set_country_flag = ziraat_bypass
	}
}

shared_focus = {
	id = OTT_Toprak_Mahsulleri_Ofisi
	icon = GFX_goal_PAL_Food_Import
	cost = 5

	relative_position_id = OTT_Raise_Import_Tariffs
	x = 1
	y = 2

	prerequisite = {
		focus = OTT_Ziraat_Bankasi_Credit
	}

	ai_will_do = { factor = 1000 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY }

	bypass = {
		OR = {
			has_country_flag = black_monday_yeet
			has_idea = ott_agriculture
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Toprak_Mahsulleri_Ofisi"
		add_ideas = ott_agriculture
	}
}

shared_focus = {
	id = OTT_Balance_the_Budget
	icon = GFX_goal_generic_foreign_investments
	cost = 5

	relative_position_id = OTT_Raise_Import_Tariffs
	x = 0
	y = 3

	available = {
		has_idea = ott_black_monday_4
	}

	prerequisite = {
		focus = OTT_Quantity_Restrictions_Import
	}
	prerequisite = {
		focus = OTT_Toprak_Mahsulleri_Ofisi
	}

	ai_will_do = { factor = 1000 }

	available_if_capitulated = yes

	bypass = {
		has_country_flag = black_monday_yeet
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Balance_the_Budget"
		remove_ideas = ott_black_monday_4
		set_country_flag = black_monday_yeet
	}
}

	# Economic Developement
shared_focus = {
	id = OTT_Years_of_Progress
	icon = GFX_goal_OTT_Years_of_Progress
	cost = 5

	relative_position_id = OTT_Samsun_Iktisat_Kongresi
	x = 3
	y = 1

	available = {
		has_completed_focus = OTT_Balance_the_Budget
	}

	prerequisite = {
		focus = OTT_Samsun_Iktisat_Kongresi
	}

	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			has_game_rule = { rule = OTT_path option = OTT_PATH_ENDEAVOUR_MARLIB }
		}
	}

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_PRODUCTION }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Years_of_Progress"
		add_ideas = ott_4_years_progress
	}
}

shared_focus = {
	id = OTT_Economic_Commisions
	icon = GFX_goal_state_economy
	cost = 5

	relative_position_id = OTT_Years_of_Progress
	x = -2
	y = 2

	available = {
		has_idea = ott_4_years_progress
	}

	prerequisite = {
		focus = OTT_Years_of_Progress
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_PRODUCTION }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Economic_Commisions"
		swap_ideas = {
			remove_idea = ott_4_years_progress
			add_idea = ott_4_years_progress_2
		}
	}
}

shared_focus = {
	id = OTT_Striving_for_Autarky
	icon = GFX_focus_generic_self_management
	cost = 5

	relative_position_id = OTT_Years_of_Progress
	x = -2
	y = 3

	prerequisite = {
		focus = OTT_Economic_Commisions
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Striving_for_Autarky"
		add_ideas = ott_autarky
		custom_effect_tooltip = tooltip_white_line
		unlock_decision_tooltip = OTT_IRQ_Navigation_Law
	}
}

shared_focus = {
	id = OTT_Anatolian_Industrialisation
	icon = GFX_goal_production
	cost = 8

	relative_position_id = OTT_Years_of_Progress
	x = -4
	y = 4

	available = {
		340 = {
			is_fully_controlled_by = OTT
		}
		339 = {
			is_fully_controlled_by = OTT
		}
	}

	prerequisite = {
		focus = OTT_Striving_for_Autarky
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Anatolian_Industrialisation"
		340 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		339 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		build_railway = {
			path = { 9833 11829 11811 6871 3951 }
		}
		build_railway = {
			path = { 6912 11778 9921 928 4112 }
		}
	}
}

shared_focus = {
	id = OTT_Sumerbank
	icon = GFX_goal_OTT_Sumerbank
	cost = 8

	relative_position_id = OTT_Years_of_Progress
	x = -4
	y = 5

	available = {
		343 = {
			is_fully_controlled_by = OTT
		}
		344 = {
			is_fully_controlled_by = OTT
		}
	}

	prerequisite = {
		focus = OTT_Anatolian_Industrialisation
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Sumerbank"
		343 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		344 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		build_railway = {
			path = { 4112 6992 3927 11796 6945 9878 3876 11860 940 9755 6807 9763 9830 961 6888 6956 11746 11810 10056 }
		}
	}
}

shared_focus = {
	id = OTT_Lebanese_Industrialisation
	icon = GFX_goal_construction
	cost = 5

	relative_position_id = OTT_Years_of_Progress
	x = -2
	y = 4

	available = {
		553 = {
			is_fully_controlled_by = OTT
		}
	}

	prerequisite = {
		focus = OTT_Striving_for_Autarky
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Lebanese_Industrialisation"
		553 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				province = 792
				level = 2
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = OTT_Model_Farm_Project
	icon = GFX_goal_agricultural_policies
	cost = 5

	relative_position_id = OTT_Years_of_Progress
	x = 0
	y = 4

	prerequisite = {
		focus = OTT_Striving_for_Autarky
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_PRODUCTION }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Model_Farm_Project"
		add_ideas = ott_model_farm
	}
}

shared_focus = {
	id = OTT_Aleppan_Institute_Technology
	icon = GFX_goal_KTG_Bookstack
	cost = 5

	relative_position_id = OTT_Years_of_Progress
	x = -1
	y = 5

	prerequisite = {
		focus = OTT_Lebanese_Industrialisation
		focus = OTT_Model_Farm_Project
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_RESEARCH }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Aleppan_Institute_Technology"
		add_research_slot_until_five = yes
	}
}

shared_focus = {
	id = OTT_Monopolise_Railway_Companies
	icon = GFX_goal_generic_railway_construction
	cost = 5

	relative_position_id = OTT_Years_of_Progress
	x = 0
	y = 1

	available = {
		291 = { is_owned_and_controlled_by = ROOT }
	}

	prerequisite = {
		focus = OTT_Years_of_Progress
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Monopolise_Railway_Companies"
		add_ideas = ott_railroad_effort
		country_event = otteco.4
	}
}

shared_focus = {
	id = OTT_Eastern_Anatolian_Project
	icon = GFX_goal_OTT_Railroad
	cost = 5

	relative_position_id = OTT_Years_of_Progress
	x = 0
	y = 2

	available = {
		49 = {
			is_fully_controlled_by = OTT
		}
		345 = {
			is_fully_controlled_by = OTT
		}
		349 = {
			is_fully_controlled_by = OTT
		}
		355 = {
			is_fully_controlled_by = OTT
		}
		354 = {
			is_fully_controlled_by = OTT
		}
		1000 = {
			is_fully_controlled_by = OTT
		}
	}

	prerequisite = {
		focus = OTT_Monopolise_Railway_Companies
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Eastern_Anatolian_Project"
		49 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		345 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		349 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		355 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		354 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		1000 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		build_railway = {
			path = { 11747 804 11844 3807 3870 921 6977 9777 9761 6965 11797 9954 11853 12450 6991 10472 }
		}
	}
}

shared_focus = {
	id = OTT_Three_Blacks_Project
	icon = GFX_focus_research2
	cost = 5

	relative_position_id = OTT_Years_of_Progress
	x = 2
	y = 1

	prerequisite = {
		focus = OTT_Years_of_Progress
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_RESEARCH }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Three_Blacks_Project"
		add_tech_bonus = {
			name = OTT_Three_Blacks_Project
			category = synth_resources
			bonus = 1.5
		}
		add_tech_bonus = {
			name = OTT_Three_Blacks_Project
			category = excavation_tech
			bonus = 1.5
		}
	}
}

shared_focus = {
	id = OTT_Zonguldak_Mining
	icon = GFX_goal_generic_coal_mining
	cost = 5

	relative_position_id = OTT_Three_Blacks_Project
	x = -1
	y = 2

	available = {
		356 = {
			is_fully_controlled_by = OTT
		}
	}

	prerequisite = {
		focus = OTT_Three_Blacks_Project
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Zonguldak_Mining"
		356 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		add_resource = {
			type = steel
			amount = 16
			state = 356
		}
	}
}

shared_focus = {
	id = OTT_Trans_Mashriqi_Pipeline
	icon = GFX_goal_OTT_Pipeline
	cost = 5

	relative_position_id = OTT_Three_Blacks_Project
	x = 0
	y = 1

	available = {
		819 = {
			is_owned_and_controlled_by = OTT
		}
		676 = {
			is_owned_and_controlled_by = OTT
		}
		680 = {
			is_owned_and_controlled_by = OTT
		}
		553 = {
			is_owned_and_controlled_by = OTT
		}
	}

	prerequisite = {
		focus = OTT_Three_Blacks_Project
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Trans_Mashriqi_Pipeline"
		819 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		676 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		680 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		custom_effect_tooltip = tooltip_white_line
		553 = {
			add_building_construction = {
				type = naval_base
				level = 1
				province = 792
				instant_build = yes
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = fuel_silo
				level = 2
				instant_build = yes
			}
		}
		custom_effect_tooltip = tooltip_white_line
		add_equipment_to_stockpile = {
			type = convoy
			amount = 30
			producer = OTT
		}
	}
}

shared_focus = {
	id = OTT_Tigris_Program
	icon = GFX_goal_OTT_Land_Reform
	cost = 5

	relative_position_id = OTT_Three_Blacks_Project
	x = 2
	y = 1

	available = {
		676 = {
			is_fully_controlled_by = OTT
		}
		291 = {
			is_fully_controlled_by = OTT
		}
	}

	prerequisite = {
		focus = OTT_Three_Blacks_Project
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Tigris_Program"
		country_event = otteco.6
		676 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		291 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		custom_effect_tooltip = tooltip_white_line
		unlock_decision_tooltip = OTT_IRQ_Mosul_Development
	}
}

shared_focus = {
	id = OTT_TPC_Kirkuk
	icon = GFX_goal_OTT_TPC_deal
	cost = 5

	relative_position_id = OTT_Three_Blacks_Project
	x = 1
	y = 2

	prerequisite = {
		focus = OTT_Tigris_Program
	}

	mutually_exclusive = {
		focus = OTT_Basra_Concessions
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_TPC_Kirkuk"
		add_ideas = tpc
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
	}
}

shared_focus = {
	id = OTT_Lower_Mesopotamian_Exploration
	icon = GFX_goal_oil_derrick
	cost = 5

	relative_position_id = OTT_Three_Blacks_Project
	x = 1
	y = 3

	available = {
		676 = {
			is_fully_controlled_by = OTT
		}
		349 = {
			is_fully_controlled_by = OTT
		}
		812 = {
			is_fully_controlled_by = OTT
		}
	}

	prerequisite = {
		focus = OTT_TPC_Kirkuk
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Lower_Mesopotamian_Exploration"
		add_resource = {
			type = oil
			amount = 4
			state = 676
		}
		add_resource = {
			type = oil
			amount = 10
			state = 349
		}
		add_resource = {
			type = oil
			amount = 6
			state = 812
		}
	}
}

shared_focus = {
	id = OTT_Basra_Concessions
	icon = GFX_goal_OTT_Loosen_Policy
	cost = 5

	relative_position_id = OTT_Three_Blacks_Project
	x = 3
	y = 2

	available = {
		812 = {
			is_fully_controlled_by = OTT
		}
	}

	prerequisite = {
		focus = OTT_Tigris_Program
	}

	mutually_exclusive = {
		focus = OTT_TPC_Kirkuk
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Basra_Concessions"
		add_resource = {
			type = oil
			amount = 10
			state = 812
		}
		812 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 2
				province = 2089
				instant_build = yes
			}
		}
	}
}

	#####################################################
	#				RECYCLED DEDLIFT CODE 				#
	#####################################################

	########
	# ARMY #
	########

shared_focus = {
	id = OTT_ottoman_army
	icon = GFX_goal_OTT_army_command
	cost = 5

	x = 45
	y = 0

	offset = {
		x = -9
		y = 0
		trigger = {
			has_focus_tree = ottoman_fevzi_focus
		}
	}
	offset = {
		x = -7
		y = 0
		trigger = {
			has_focus_tree = ottoman_sabahattin_focus
		}
	}
	offset = {
		x = -15
		y = 0
		trigger = {
			has_focus_tree = ottoman_fevzi_coup_focus
		}
	}
	offset = {
		x = -15
		y = 0
		trigger = {
			has_focus_tree = ottoman_endeavour_focus
			OR = {
				has_government = market_liberal
				OR = {
					has_completed_focus = OTT_Liberalising_National_Economy
					has_completed_focus = OTT_Repeal_National_Protection_Law
					has_completed_focus = OTT_Imperial_Institute_Technology
				}
			}
		}
	}
	offset = {
		x = -9
		y = 0
		trigger = {
			has_focus_tree = ottoman_endeavour_focus
			NOT = {
				has_government = market_liberal
				has_completed_focus = OTT_Liberalising_National_Economy
				has_completed_focus = OTT_Repeal_National_Protection_Law
				has_completed_focus = OTT_Imperial_Institute_Technology
			}
		}
	}
	ai_will_do = { factor = 900 }
	available = {
		custom_trigger_tooltip = {
			tooltip = ott_army_tree_tt
			OR = {
				has_completed_focus = OTT_Balance_the_Budget
				has_completed_focus = OTT_Balance_the_Budget_lib
			}
		}
	}

	search_filters = { FOCUS_FILTER_RESEARCH }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_ottoman_army"
		add_doctrine_cost_reduction = {
			name = OTT_ottoman_army
			cost_reduction = 0.5
			uses = 1
			category = land_doctrine
		}
	}
}

	### Equipment

shared_focus = {
	id = OTT_army_modernization
	icon = GFX_goal_OTT_army
	cost = 5

	relative_position_id = OTT_ottoman_army
	x = -3
	y = 1

	prerequisite = {
		focus = OTT_ottoman_army
	}
	ai_will_do = {
		factor = 10
		modifier = {
			factor = 20
			has_war = yes
		}
		modifier = {
			factor = 50
			date > 1938.01.01
		}
	}

	search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_army_modernization"
		add_tech_bonus = {
			name = OTT_army_modernization
			bonus = 1
			uses = 1
			category = infantry_weapons
		}
		random_owned_controlled_state = {
			prioritize = { 49 339 340 342 343 344 345 346 354 355 356 }
			limit = {
				is_core_of = ROOT
				is_in_home_area = yes
				is_valid_state_for_development = yes
				free_building_slots = { building = arms_factory size > 0 include_locked = yes }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			prioritize = { 49 339 340 342 343 344 345 346 354 355 356 }
			limit = {
				is_core_of = ROOT
				is_in_home_area = yes
				is_valid_state_for_development = yes
				free_building_slots = { building = arms_factory size > 0 include_locked = yes }
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = OTT_desert_forces
	icon = GFX_goal_OTT_camels
	cost = 5

	relative_position_id = OTT_army_modernization
	x = 0
	y = 2

	prerequisite = {
		focus = OTT_army_modernization
	}
	ai_will_do = { factor = 1000 }

	search_filters = { FOCUS_FILTER_ARMY_BONUS }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_desert_forces"
		custom_effect_tooltip = OTT_camel_corps_tech_effect
		custom_effect_tooltip = desert_warfare_effect
		hidden_effect = {
			set_technology = {
				camel_corps_tech = 1
				desert_warfare = 1
				popup = no
			}
			division_template = {
				name = "İmparatorluk Deve Kolordu"
				division_names_group = OTT_CAV_01
				regiments = {
					camelry = { x = 0 y = 0 }
					camelry = { x = 0 y = 1 }
					camelry = { x = 0 y = 2 }
					camelry = { x = 1 y = 0 }
					camelry = { x = 1 y = 1 }
					camelry = { x = 1 y = 2 }
				}
			}
		}
	}
}

	### Doctrine

shared_focus = {
	id = OTT_edok
	icon = GFX_goal_Focus_Military_Mobilisation
	cost = 5

	relative_position_id = OTT_ottoman_army
	x = 0
	y = 1

	prerequisite = {
		focus = OTT_ottoman_army
	}
	ai_will_do = { factor = 800 }

	search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_RESEARCH }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_edok"
		army_experience = 25
		add_doctrine_cost_reduction = {
			name = OTT_edok
			cost_reduction = 0.5
			uses = 2
			category = land_doctrine
		}
	}
}

shared_focus = {
	id = OTT_modern_equipment
	icon = GFX_focus_generic_military_equipment
	cost = 5

	relative_position_id = OTT_edok
	x = -2
	y = 1

	prerequisite = {
		focus = OTT_edok
	}
	ai_will_do = { factor = 1000 }

	search_filters = { FOCUS_FILTER_RESEARCH }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_modern_equipment"
		add_tech_bonus = {
			name = OTT_modern_equipment
			bonus = 1
			uses = 1
			category = infantry_weapons
		}
		add_tech_bonus = {
			name = OTT_modern_equipment
			bonus = 1
			uses = 1
			category = support_tech
		}
	}
}

shared_focus = {
	id = OTT_armor_effort_unq
	icon = GFX_goal_generic_army_tanks
	cost = 5

	relative_position_id = OTT_edok
	x = -2
	y = 3

	available = {
		if = {
			limit = { has_dlc_nsb = yes }
			has_design_based_on = light_tank_chassis
		}
		else = {
			has_tech = basic_light_tank
		}
		has_tech = motorised_infantry
	}

	prerequisite = { focus = OTT_modern_equipment }
	prerequisite = { focus = OTT_desert_forces }
	ai_will_do = { factor = 1000 }

	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_RESEARCH }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_armor_effort_unq"
		hidden_effect = {
			if = {
				limit = { has_template = "Zirhli Alayi" }
				delete_unit_template_and_units = { division_template = "Zirhli Alayi" disband = yes } #no cheating
			}
		}
		division_template = {
			name = "Zirhli Alayi"
			division_names_group = OTT_ARM_01
			regiments = {
				light_armor = { x = 0 y = 0 }
				light_armor = { x = 0 y = 1 }
				light_armor = { x = 1 y = 0 }
				light_armor = { x = 1 y = 1 }
				motorized = { x = 2 y = 0 }
				motorized = { x = 2 y = 1 }
			}
			support = {
				mot_recon = { x = 0 y = 0 }
				engineer = { x = 0 y = 1 }
				artillery = { x = 0 y = 2 }
			}
		}
		custom_effect_tooltip = OTT_armor_division_template_gained
		hidden_effect = {
			random_owned_controlled_state = {
				prioritize = { 676 49 }
				limit = { valid_state_for_spawning_friendly_unit = yes }
				create_unit = {
					division = "name = \"1. Zirhli Alayi\" division_template = \"Zirhli Alayi\" start_experience_factor = 0.3"
					prioritize_location = 12046
					owner = ROOT
				}
			}
			random_owned_controlled_state = {
				prioritize = { 773 49 }
				limit = { valid_state_for_spawning_friendly_unit = yes }
				create_unit = {
					division = "name = \"2. Zirhli Alayi\" division_template = \"Zirhli Alayi\" start_experience_factor = 0.3"
					prioritize_location = 9833
					owner = ROOT
				}
			}
		}
		add_tech_bonus = {
			name = OTT_armor_effort_unq
			bonus = 1
			uses = 2
			category = armor
		}
	}
}

shared_focus = {
	id = OTT_directorate_military
	icon = GFX_goal_generic_construct_military
	cost = 5

	relative_position_id = OTT_edok
	x = 0
	y = 1

	prerequisite = {
		focus = OTT_edok
	}
	available = {
		controls_state = 340
	}
	ai_will_do = {
		factor = 10000
		modifier = {
			factor = 20
			has_war = yes
		}
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_directorate_military"
		340 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = mke
	}
}

shared_focus = {
	id = OTT_Mass_Production
	icon = GFX_goal_munitions_factories
	cost = 5

	relative_position_id = OTT_directorate_military
	x = -1
	y = 1

	prerequisite = {
		focus = OTT_directorate_military
	}
	mutually_exclusive = {
		focus = OTT_Specialised_Equipment
	}
	ai_will_do = { factor = 80 }

	search_filters = { FOCUS_FILTER_PRODUCTION }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Mass_Production"
		add_ideas = ott_mass_production_idea
	}
}

shared_focus = {
	id = OTT_Specialised_Equipment
	icon = GFX_focus_generic_license_production
	cost = 10

	relative_position_id = OTT_directorate_military
	x = 1
	y = 1

	prerequisite = {
		focus = OTT_directorate_military
	}
	mutually_exclusive = {
		focus = OTT_Mass_Production
	}
	available = {
		controls_state = 340
	}
	ai_will_do = { factor = 80 }

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Specialised_Equipment"
		340 = {
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = arms_factory
				level = 3
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = OTT_army_engineers
	icon = GFX_goal_construction_engineering
	cost = 5

	relative_position_id = OTT_edok
	x = 2
	y = 1

	prerequisite = {
		focus = OTT_edok
	}
	ai_will_do = { factor = 40 }

	search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_army_engineers"
		add_tech_bonus = {
			name = OTT_army_engineers
			bonus = 1
			uses = 2
			category = engineers_tech
		}
		if = {
			limit = {
				controls_state = 341
			}

			341 = {
				add_building_construction = {
					type = bunker
					province = 849
					level = 2
				}
				add_building_construction = {
					type = bunker
					province = 3893
					level = 2
				}
				add_building_construction = {
					type = bunker
					province = 11842
					level = 2
				}
				add_building_construction = {
					type = bunker
					province = 922
					level = 2
				}
			}
		}
	}
}

	### Army Aviation

shared_focus = {
	id = OTT_army_aviation_unq
	icon = GFX_goal_OTT_air_command
	cost = 5

	relative_position_id = OTT_army_modernization
	x = -1
	y = 1

	prerequisite = {
		focus = OTT_army_modernization
	}
	ai_will_do = { factor = 20 }

	search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_RESEARCH }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_army_aviation_unq"
		air_experience = 25
		add_doctrine_cost_reduction = {
			name = OTT_army_aviation_unq
			cost_reduction = 0.5
			uses = 1
			category = air_doctrine
		}
	}
}

shared_focus = {
	id = OTT_air_warfare_academy
	icon = GFX_goal_air_armada
	cost = 5

	relative_position_id = OTT_army_aviation_unq
	x = -1
	y = 1

	prerequisite = {
		focus = OTT_army_aviation_unq
	}
	ai_will_do = { factor = 50 }

	search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_RESEARCH }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_air_warfare_academy"
		air_experience = 25
		add_ideas = ott_air_warfare_academy_idea
		add_doctrine_cost_reduction = {
			name = OTT_air_warfare_academy
			cost_reduction = 0.5
			uses = 1
			category = air_doctrine
		}
	}
}

shared_focus = {
	id = OTT_aircraft_industry
	icon = GFX_goal_generic_construct_mil_factory
	cost = 5

	relative_position_id = OTT_army_aviation_unq
	x = 0
	y = 2

	prerequisite = {
		focus = OTT_army_aviation_unq
	}
	available = {
		controls_state = 773
	}
	ai_will_do = {
		factor = 20
		modifier = {
			factor = 20
			has_war = yes
		}
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_aircraft_industry"
		773 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = available_designer
		show_ideas_tooltip = hurkus
	}
}

	#NAVAL

shared_focus = {
	id = OTT_Naval_Program
	icon = GFX_goal_OTT_navy
	cost = 5

	relative_position_id = OTT_ottoman_army
	x = 3
	y = 1

	available = {
		controls_state = 773
	}

	prerequisite = {
		focus = OTT_ottoman_army
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Naval_Program"
		773 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
		if = {
			limit = {
				OR = {
					has_focus_tree = ottoman_centralising_focus
					has_focus_tree = ottoman_fevzi_focus
				}
			}
			unlock_decision_tooltip = OTT_TRI_Misrata_Program
		}
	}
}

shared_focus = {
	id = OTT_Upgrade_Dreadnoughts
	icon = GFX_goal_generic_buy_ships
	cost = 5

	relative_position_id = OTT_Naval_Program
	x = 0
	y = 2

	prerequisite = {
		focus = OTT_Naval_Program
	}

	ai_will_do = { factor = 10 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_RESEARCH }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Upgrade_Dreadnoughts"
		if = {
			limit = { has_dlc_mtg = yes }
			add_tech_bonus = {
				name = OTT_Upgrade_Dreadnoughts
				bonus = 0.75
				uses = 2
				category = ship_modules_tech
			}
		}
		add_tech_bonus = {
			name = OTT_Upgrade_Dreadnoughts
			bonus = 1
			uses = 1
			category = bb_tech
		}
	}
}

shared_focus = {
	id = OTT_Dominance_Black_Sea
	icon = GFX_goal_generic_black_sea
	cost = 5

	relative_position_id = OTT_Naval_Program
	x = -1
	y = 3

	available = {
		controls_state = 773
		controls_state = 340
		controls_state = 356
		controls_state = 355
	}

	prerequisite = {
		focus = OTT_Upgrade_Dreadnoughts
	}
	prerequisite = {
		focus = OTT_army_engineers
	}

	ai_will_do = {
		factor = 10
		modifier = {
			factor = 20
			has_war_with = RUS
		}
	}

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Dominance_Black_Sea"
		773 = {
			add_building_construction = {
				type = coastal_bunker
				province = 9833
				level = 3
				instant_build = yes
			}
		}
		340 = {
			add_building_construction = {
				type = coastal_bunker
				province = 11829
				level = 3
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				province = 6864
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				province = 9887
				level = 1
				instant_build = yes
			}
		}
		356 = {
			add_building_construction = {
				type = coastal_bunker
				province = 11866
				level = 3
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				province = 6995
				level = 3
				instant_build = yes
			}
		}
		355 = {
			add_building_construction = {
				type = coastal_bunker
				province = 11881
				level = 3
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				province = 9932
				level = 3
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = OTT_Shipbuilding_Effort
	icon = GFX_goal_generic_construct_naval_dockyard
	cost = 5

	relative_position_id = OTT_Naval_Program
	x = 1
	y = 1

	available = {
		controls_state = 340
	}

	prerequisite = {
		focus = OTT_Naval_Program
	}

	ai_will_do = { factor = 10 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Shipbuilding_Effort"
		add_ideas = golcuk_tersanesi
		340 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = OTT_Naval_Academy
	icon = GFX_goal_generic_naval_academy
	cost = 5

	relative_position_id = OTT_Naval_Program
	x = 2
	y = 2

	prerequisite = {
		focus = OTT_Shipbuilding_Effort
	}

	ai_will_do = { factor = 10 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_RESEARCH }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Naval_Academy"
		add_doctrine_cost_reduction = {
			name = OTT_Naval_Academy
			category = naval_doctrine
			cost_reduction = 0.5
			uses = 2
		}
	}
}

shared_focus = {
	id = OTT_Basra_Kuwait
	icon = GFX_goal_navy_decision
	cost = 5

	relative_position_id = OTT_Naval_Program
	x = 1
	y = 3

	available = {
		controls_state = 812
	}

	prerequisite = {
		focus = OTT_Shipbuilding_Effort
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Basra_Kuwait"
		812 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes
			}
		}
		if = {
			limit = {
				OR = {
					has_focus_tree = ottoman_centralising_focus
					has_focus_tree = ottoman_fevzi_focus
				}
			}
			custom_effect_tooltip = tooltip_white_line
			unlock_decision_tooltip = OTT_IRQ_Basra_Harbour_Project
		}
	}
}

	### Foreign Policy post-CP

shared_focus = {
	id = OTT_Ottoman_Renaissance
	icon = GFX_goal_OTT_reform
	cost = 6

	x = 3
	y = 5

	available = {
		OTT_cairo_pact_defeated = yes
	}

	prerequisite = {
		focus = OTT_Tribunals_of_Progress
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Ottoman_Renaissance"
		add_stability = 0.10
		add_ideas = ott_renaissance
		add_research_slot_until_five = yes
		hidden_effect = {
			country_event = { id = ottkem.51 days = 60 }
			country_event = { id = ottfla.22 days = 42 }
		}
	}
}

shared_focus = {
	id = OTT_Reform_on_the_Homefront
	icon = GFX_goal_DOM_End_Judicial_Corruption
	cost = 5

	relative_position_id = OTT_Ottoman_Renaissance
	x = 3
	y = 1

	available = {
		OR = {
			NOT = { has_character = TUR_mustafa_kemal }
			has_completed_focus = OTT_Consolidate_Military_Dictatorship
			has_completed_focus = OTT_Dismantle_Endeavour_Front
		}
		has_war = no
		NOT = { has_government = national_populist }
	}

	prerequisite = {
		focus = OTT_Ottoman_Renaissance
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INTERNAL_AFFAIRS }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Reform_on_the_Homefront"
		add_stability = 0.05
		add_popularity = {
			ideology = social_liberal
			popularity = 0.025
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.025
		}
	}
}

shared_focus = {
	id = OTT_Lift_Press_Restrictions
	icon = GFX_goal_big_news
	cost = 5

	relative_position_id = OTT_Reform_on_the_Homefront
	x = 1
	y = 1

	available = {
		NOT = {
			has_country_flag = free_press
		}
		NOT = {
			has_government = national_populist
		}
	}

	prerequisite = {
		focus = OTT_Reform_on_the_Homefront
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Lift_Press_Restrictions"
		553 = {
			ott_decrease_revolt_risk = yes
		}
		677 = {
			ott_decrease_revolt_risk = yes
		}
		554 = {
			ott_decrease_revolt_risk = yes
		}
		291 = {
			ott_decrease_revolt_risk = yes
		}
		676 = {
			ott_decrease_revolt_risk = yes
		}
		custom_effect_tooltip = tooltip_white_line
		add_popularity = {
			ideology = social_liberal
			popularity = 0.01
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.04
		}
		set_country_flag = free_press
	}
}

shared_focus = {
	id = OTT_Repeal_Varlik_Vargisi
	icon = GFX_goal_treaty_fails
	cost = 5

	relative_position_id = OTT_Reform_on_the_Homefront
	x = 0
	y = 2

	available = {
		has_war = no
		has_idea = ott_varlik_vargisi
		NOT = {
			has_government = national_populist
		}
	}

	prerequisite = {
		focus = OTT_Reform_on_the_Homefront
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Repeal_Varlik_Vargisi"
		hidden_effect = {
			454 = {
				ott_decrease_revolt_risk = yes
			}
		}
		183 = {
			ott_decrease_revolt_risk = yes
		}
		553 = {
			ott_decrease_revolt_risk = yes
		}
		339 = {
			ott_decrease_revolt_risk = yes
		}
		355 = {
			ott_decrease_revolt_risk = yes
		}
		773 = {
			ott_decrease_revolt_risk = yes
		}
		custom_effect_tooltip = tooltip_white_line
		remove_ideas = ott_varlik_vargisi
	}
}

shared_focus = {
	id = OTT_Lift_Ban_Political_Parties
	icon = GFX_focus_usa_voter_registration_act
	cost = 5

	relative_position_id = OTT_Reform_on_the_Homefront
	x = -1
	y = 1

	available = {
		has_war = no
		OR = {
			has_completed_focus = OTT_Single_Party_Dictatorship
			has_completed_focus = OTT_State_of_Emergency
			has_completed_focus = OTT_Dismantle_Endeavour_Front
		}
		NOT = {
			has_government = national_populist
		}
	}

	prerequisite = {
		focus = OTT_Reform_on_the_Homefront
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Lift_Ban_Political_Parties"
		every_owned_state = {
			ott_decrease_revolt_risk = yes
		}
		custom_effect_tooltip = tooltip_white_line
		add_popularity = {
			ideology = social_liberal
			popularity = 0.025
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.05
		}
	}
}

shared_focus = {
	id = OTT_Egypt_Khedivate
	icon = GFX_goal_OTT_Khedivate_Restored
	cost = 4

	relative_position_id = OTT_Ottoman_Renaissance
	x = -3
	y = 1

	available = {
		NOT = { country_exists = EGY }
		owns_state = 446 #Cairo
		owns_state = 447 #Alexandria
	}

	prerequisite = {
		focus = OTT_Ottoman_Renaissance
	}

	mutually_exclusive = {
		focus = OTT_United_Once_More
	}

	ai_will_do = { factor = 80 }

	search_filters = { FOCUS_FILTER_TFV_AUTONOMY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Egypt_Khedivate"
		add_stability = 0.05
		hidden_effect = {
			453 = {
				add_core_of = OTT
				ott_set_authority_vilayet_low = yes
				ott_set_revolt_risk_high = yes
			}
		}
		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = EGY }
		every_owned_state = {
			limit = {
				is_core_of = EGY
				NOT = {
					state = 453 #Sinai
					state = 753 #Suez Canal
				}
			}
			transfer_state_to = var:tag_to_release
		}
		puppet_released_tag = yes
		var:tag_to_release = {
			set_cosmetic_tag = EGY_khedivate
			set_politics = {
				ruling_party = authoritarian_democrat
				last_election = "1931.10.16"
				election_frequency = 60
				elections_allowed = no
			}
			EGY = {
				EGY_abbas_ii = {
					hidden_effect = {
						set_nationality = EGY
						remove_all_country_leader_roles = yes
						add_country_leader_role = {
							country_leader = { ideology = social_democrat_subtype }
							promote_leader = yes
						}
						add_country_leader_role = {
							country_leader = { ideology = social_liberal_subtype }
							promote_leader = yes
						}
						add_country_leader_role = {
							country_leader = { ideology = market_liberal_subtype }
							promote_leader = yes
						}
						add_country_leader_role = {
							country_leader = { ideology = social_conservative_subtype }
							promote_leader = yes
						}
						add_country_leader_role = {
							country_leader = { ideology = paternal_autocrat_subtype }
							promote_leader = yes
						}
						add_country_leader_role = {
							country_leader = { ideology = national_populist_subtype }
							promote_leader = yes
						}
					}
					add_country_leader_role = {
						country_leader = { ideology = authoritarian_democrat_subtype }
						promote_leader = yes
					}
				}
			}
			add_ideas = ott_military_restrictions
			hidden_effect = {
				set_popularities = {
					totalist = 0
					radical_socialist = 0
					syndicalist = 0
					social_democrat = 3
					social_liberal = 0
					market_liberal = 25
					social_conservative = 17
					authoritarian_democrat = 45
					paternal_autocrat = 10
					national_populist = 0
				}
			}
		}
	}
}

shared_focus = {
	id = OTT_Cairo_Aleppo
	icon = GFX_goal_SZC_silk
	cost = 10

	relative_position_id = OTT_Egypt_Khedivate
	x = 1
	y = 1

	available = {
		controls_state = 677
		controls_state = 553
		controls_state = 454
		EGY = {
			is_subject_of = OTT
			controls_state = 446
		}
	}

	prerequisite = {
		focus = OTT_Egypt_Khedivate
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Cairo_Aleppo"
		677 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		553 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
		454 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		446 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = OTT_Absorb_Egyptian_State_Assets
	icon = GFX_goal_state_economy
	cost = 5

	relative_position_id = OTT_Egypt_Khedivate
	x = 1
	y = 2

	available = {
		EGY = {
			is_subject_of = OTT
		}
	}

	prerequisite = {
		focus = OTT_Cairo_Aleppo
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Absorb_Egyptian_State_Assets"
		EGY = {
			add_ideas = ott_absorbed_state_monopolies
		}
	}
}

shared_focus = {
	id = OTT_Ottoman_Authority_Peninsula
	icon = GFX_goal_Unite_Arabia
	cost = 10

	relative_position_id = OTT_Egypt_Khedivate
	x = 3
	y = 2

	prerequisite = {
		focus = OTT_Egypt_Khedivate
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_ANNEXATION }

	will_lead_to_war_with = JBS
	will_lead_to_war_with = SAU
	will_lead_to_war_with = HEJ

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Ottoman_Authority_Peninsula"
		754 = {
			ott_decrease_revolt_risk = yes
		}
		679 = {
			ott_decrease_revolt_risk = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		if = {
			limit = {
				NOT = { is_ally_with = 679.owner }
			}
			create_wargoal = {
				target = 679.owner
				type = annex_everything
			}
		}
		if = {
			limit = {
				NOT = { is_ally_with = 656.owner }
				var:656.owner = { NOT = { owns_state = 679 } } #Mecca
			}
			var:656.owner = { country_event = ottfor.30 }
		}
	}
}

shared_focus = {
	id = OTT_Restore_the_Vilayet_of_Najd
	icon = GFX_goal_generic_persian_gulf
	cost = 10

	relative_position_id = OTT_Ottoman_Authority_Peninsula
	x = -1
	y = 1

	available = {
		OR = {
			owns_state = 656
			656 = {
				owner = { is_subject_of = ROOT }
			}
		}
	}

	prerequisite = {
		focus = OTT_Ottoman_Authority_Peninsula
	}

	ai_will_do = { factor = 100 }

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Restore_the_Vilayet_of_Najd"
		if = {
			limit = { has_subject = var:656.owner }
			transfer_state = 656
		}
		656 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
		custom_effect_tooltip = tooltip_white_line
		# vilayet system
		656 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_low = yes
			ott_set_revolt_risk_medium = yes
		}
		custom_effect_tooltip = tooltip_white_line
		unlock_decision_tooltip = OTT_ARA_Expand_Dubai_Air_Base
		unlock_decision_tooltip = OTT_ARA_Abolish_Trucial_States
		unlock_decision_tooltip = OTT_ARA_Crack_Down_Gulf_Smuggling
	}
}

shared_focus = {
	id = OTT_Handle_the_Yemeni_Affair
	icon = GFX_goal_OTT_Integrate_Yemen
	cost = 10

	relative_position_id = OTT_Ottoman_Authority_Peninsula
	x = 1
	y = 1

	available = {
		controls_state = 659
		controls_state = 293
	}

	prerequisite = {
		focus = OTT_Ottoman_Authority_Peninsula
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Handle_the_Yemeni_Affair"
		659 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
		custom_effect_tooltip = tooltip_white_line
		# vilayet system
		659 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_low = yes
			ott_set_revolt_risk_medium = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		293 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_low = yes
			ott_set_revolt_risk_medium = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		982 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_low = yes
			ott_set_revolt_risk_medium = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		752 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_low = yes
			ott_set_revolt_risk_medium = yes
		}
	}
}

shared_focus = {
	id = OTT_Lift_Military_Restrictions
	icon = GFX_focus_secret_rearmament
	cost = 2

	relative_position_id = OTT_Egypt_Khedivate
	x = 0
	y = 3

	available = {
		EGY = {
			has_idea = ott_military_restrictions
		}
	}

	prerequisite = {
		focus = OTT_Egypt_Khedivate
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Lift_Military_Restrictions"
		EGY = {
			remove_ideas = ott_military_restrictions
		}
	}
}

shared_focus = {
	id = OTT_United_Once_More
	icon = GFX_goal_OTT_United_Once_More
	cost = 6

	relative_position_id = OTT_Ottoman_Renaissance
	x = -5
	y = 1

	available = {
		NOT = { country_exists = EGY }
		owns_state = 446 #Cairo
		owns_state = 447 #Alexandria
	}

	prerequisite = {
		focus = OTT_Ottoman_Renaissance
	}

	mutually_exclusive = {
		focus = OTT_Egypt_Khedivate
	}

	ai_will_do = { factor = 40 }

	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_United_Once_More"
		add_stability = -0.3
		add_popularity = {
			ideology = social_liberal
			popularity = 0.025
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.025
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.025
		}
		custom_effect_tooltip = tooltip_white_line
		add_ideas = ott_egy_integration
		custom_effect_tooltip = tooltip_white_line
		add_ideas = ott_egy_economic_upheaval
	}
}

shared_focus = {
	id = OTT_Haifa_Cairo_Railroad
	icon = GFX_goal_generic_construct_infrastructure
	cost = 5

	relative_position_id = OTT_United_Once_More
	x = 1
	y = 1

	available = {
		OR = {
			446 = {
				is_owned_and_controlled_by = OTT
			}
			AND = {
				446 = {
					is_owned_and_controlled_by = EGY
				}
				EGY = {
					is_subject_of = OTT
				}
			}
		}
		453 = {
			is_owned_and_controlled_by = OTT
		}
		454 = {
			is_owned_and_controlled_by = OTT
		}
		992 = {
			is_owned_and_controlled_by = OTT
		}
	}

	prerequisite = {
		focus = OTT_Egypt_Khedivate
		focus = OTT_United_Once_More
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Haifa_Cairo_Railroad"
		446 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		453 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		454 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		992 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		build_railway = {
			path = { 7011 12049 1155 11979 4161 4088 4206 1201 1065 }
		}
	}
}

shared_focus = {
	id = OTT_Redraw_the_Vilayets
	icon = GFX_goal_EGY_nile_proc
	cost = 10

	relative_position_id = OTT_United_Once_More
	x = -1
	y = 1

	available = {
		controls_state = 452
		controls_state = 447
		controls_state = 446
		controls_state = 1008
		controls_state = 456
		controls_state = 453
	}

	prerequisite = {
		focus = OTT_United_Once_More
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Redraw_the_Vilayets"
		set_variable = {
			var = egy_integration_factor
			value = 0
		}
		every_state = {
			limit = {
				is_core_of = EGY
				NOT = { is_core_of = SUD }
			}
			hidden_effect = { remove_claim_by = ROOT }
			add_core_of = ROOT
			ott_set_authority_vilayet_low = yes
			ott_set_revolt_risk_high = yes
		}
	}
}

shared_focus = {
	id = OTT_Settle_Sudanese_Issue
	icon = GFX_goal_OTT_Sudan_Question
	cost = 5

	relative_position_id = OTT_United_Once_More
	x = 0
	y = 2

	available = {
		controls_state = 551
	}

	prerequisite = {
		focus = OTT_United_Once_More
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_TFV_AUTONOMY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Settle_Sudanese_Issue"
		every_owned_state = {
			limit = { is_core_of = SUD }
			transfer_state_to = SUD
		}
		SUD = { get_current_government_type = yes }
		set_autonomy = {
			target = SUD
			autonomy_state = kr_ottoman_emirate
			end_wars = no
		}
		SUD = { restore_previous_government_type = yes }
	}
}

shared_focus = {
	id = OTT_Conference_Alexandria
	icon = GFX_goal_EGY_heritage
	cost = 20

	relative_position_id = OTT_United_Once_More
	x = -1
	y = 3

	available = {
		has_idea = ott_egy_integration
		NOT = {
			has_war_with = YEM
			has_war_with = TRU
		}
	}

	prerequisite = {
		focus = OTT_Settle_Sudanese_Issue
	}
	prerequisite = {
		focus = OTT_Redraw_the_Vilayets
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_TFV_AUTONOMY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Conference_Alexandria"
		remove_ideas = ott_egy_integration

		### YEM restoration
		if = {
			limit = {
				NOT = { country_exists = YEM }
				owns_state = 293 #Yemen
			}
			custom_effect_tooltip = tooltip_white_line
			YEM = { get_current_government_type = yes }
			effect_tooltip = {
				release_autonomy = {
					autonomy_state = kr_ottoman_emirate
					target = YEM
				}
			}
			hidden_effect = {
				293 = { transfer_state_to = YEM } #Yemen proper
				752 = { transfer_state_to = YEM } #Hadramaut
				659 = { transfer_state_to = YEM } #Aden
				set_autonomy = {
					target = YEM
					autonomy_state = kr_ottoman_emirate
					end_wars = no
				}
			}
			YEM = { restore_previous_government_type = yes }
		}

		### TRU puppet
		if = {
			limit = {
				NOT = { country_exists = TRU }
				owns_state = 658 #Abu Dhabi
			}
			custom_effect_tooltip = tooltip_white_line
			TRU = { get_current_government_type = yes }
			release_autonomy = {
				autonomy_state = kr_ottoman_emirate
				target = TRU
			}
			TRU = { restore_previous_government_type = yes }
		}

		### OMA restoration
		if = {
			limit = {
				NOT = { country_exists = OMA }
				owns_state = 294 #Muscat
			}
			custom_effect_tooltip = tooltip_white_line
			OMA = { get_current_government_type = yes }
			release_autonomy = {
				autonomy_state = kr_ottoman_emirate
				target = OMA
			}
			OMA = { restore_previous_government_type = yes }
		}
	}
}

shared_focus = {
	id = OTT_Integrate_State_Monopolies
	icon = GFX_goal_manage_industries
	cost = 10

	relative_position_id = OTT_Conference_Alexandria
	x = 0
	y = 1

	available = {
		has_idea = ott_egy_economic_upheaval
	}

	prerequisite = {
		focus = OTT_Conference_Alexandria
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Integrate_State_Monopolies"
		remove_ideas = ott_egy_economic_upheaval
	}
}

shared_focus = {
	id = OTT_Recreate_Ottoman_Fifth_Army
	icon = GFX_goal_army_guy_2
	cost = 5

	relative_position_id = OTT_Conference_Alexandria
	x = -2
	y = 1

	prerequisite = {
		focus = OTT_Conference_Alexandria
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_RESEARCH }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Recreate_Ottoman_Fifth_Army"
		add_tech_bonus = {
			name = OTT_Recreate_Ottoman_Fifth_Army
			category = military_police_tech
			bonus = 1
			uses = 2
		}
	}
}

shared_focus = {
	id = OTT_Elevate_Arab_Language
	icon = GFX_goal_constitutional_guarantees
	cost = 10

	relative_position_id = OTT_Conference_Alexandria
	x = 2
	y = 1

	prerequisite = {
		focus = OTT_Conference_Alexandria
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Elevate_Arab_Language"
		every_owned_state = {
			limit = {
				OR = {
					is_core_of = EGY
					is_core_of = SYR
					is_core_of = HEJ
					is_core_of = IRQ
					is_core_of = YEM
					is_core_of = JBS
					is_core_of = SAU
					is_core_of = OMA
				}
			}
			ott_decrease_revolt_risk = yes
		}
		custom_effect_tooltip = tooltip_white_line
		add_popularity = {
			ideology = social_liberal
			popularity = 0.025
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.025
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.025
		}
	}
}

shared_focus = {
	id = OTT_Expansion_Ottoman_Parliament
	icon = GFX_goal_generic_parliament
	cost = 20

	relative_position_id = OTT_Conference_Alexandria
	x = 0
	y = 2

	prerequisite = {
		focus = OTT_Recreate_Ottoman_Fifth_Army
	}
	prerequisite = {
		focus = OTT_Integrate_State_Monopolies
	}
	prerequisite = {
		focus = OTT_Elevate_Arab_Language
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Expansion_Ottoman_Parliament"
		set_variable = {
			var = egy_integration_factor
			value = 50
		}
		every_state = {
			limit = {
				is_core_of = EGY
				NOT = { is_core_of = SUD }
			}
			ott_set_authority_vilayet_medium = yes
		}
	}
}

#################
# KEMALIST TREE #
#################

focus_tree = {
	id = ottoman_centralising_focus

	country = {
		factor = 0
		modifier = {
			add = 10
			tag = TUR
		}
	}

	default = no
	continuous_focus_position = { x = 0 y = 1600 }

	shared_focus = OTT_Maintenance_of_Order_Law
	shared_focus = OTT_ottoman_army
	shared_focus = OTT_Samsun_Iktisat_Kongresi

	#################
	# STATE REFORMS #
	#################

	focus = {
		id = OTT_Expand_the_Education_Ministry
		icon = GFX_goal_tfv_generic_tech_sharing
		cost = 5

		x = 10
		y = 0

		available = {
			OTT_kemal_is_vizier = yes
		}

		ai_will_do = { factor = 1000 }

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Expand_the_Education_Ministry"
			country_event = ottpol.3
			custom_effect_tooltip = ott_education_decree_tt
		}
	}

	focus = {
		id = OTT_Judicial_Commision
		icon = GFX_goal_DOM_The_Trial
		cost = 5

		relative_position_id = OTT_Expand_the_Education_Ministry
		x = -2
		y = 0

		available = {
			has_completed_focus = OTT_Expand_the_Education_Ministry
			OTT_kemal_is_vizier = yes
		}

		ai_will_do = { factor = 1000 }

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Judicial_Commision"
			country_event = ottpol.6
			custom_effect_tooltip = ott_judicial_decree_tt
		}
	}

	focus = {
		id = OTT_Replace_the_Penal_Code
		icon = GFX_goal_National_Security_Act
		cost = 5

		relative_position_id = OTT_Expand_the_Education_Ministry
		x = 2
		y = 0

		available = {
			has_completed_focus = OTT_Expand_the_Education_Ministry
			OTT_kemal_is_vizier = yes
		}

		ai_will_do = { factor = 1000 }

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Replace_the_Penal_Code"
			country_event = ottpol.21
			custom_effect_tooltip = ott_penal_code_tt
		}
	}

	focus = {
		id = OTT_Single_Party_Dictatorship
		icon = GFX_goal_DEI_focus_disband_volksraad
		cost = 5

		relative_position_id = OTT_Expand_the_Education_Ministry
		x = 0
		y = 1

		available = {
			always = no
		}

		prerequisite = {
			focus = OTT_Judicial_Commision
		}
		prerequisite = {
			focus = OTT_Expand_the_Education_Ministry
		}
		prerequisite = {
			focus = OTT_Replace_the_Penal_Code
		}

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Single_Party_Dictatorship"
			swap_ideas = {
				remove_idea = ott_institutionalised_islam
				add_idea = ott_institutionalised_islam_spd
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = ott_centralisation_army
			hidden_effect = { add_ideas = ott_centralisation_idea }
		}
	}

	focus = {
		id = OTT_Abolish_Mecelle
		icon = GFX_goal_OTT_Abolish_Mecelle
		cost = 5

		relative_position_id = OTT_Expand_the_Education_Ministry
		x = -2
		y = 2

		prerequisite = {
			focus = OTT_Single_Party_Dictatorship
		}

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Abolish_Mecelle"
			add_political_power = 100
			country_event = ottkem.11
		}
	}

	focus = {
		id = OTT_Commision_Ottomanish_Language
		icon = GFX_goal_conspiracy
		cost = 5

		relative_position_id = OTT_Expand_the_Education_Ministry
		x = 0
		y = 2

		prerequisite = {
			focus = OTT_Single_Party_Dictatorship
		}

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Commision_Ottomanish_Language"
			country_event = ottkem.1
		}
	}

	focus = {
		id = OTT_Reform_Millet_System
		icon = GFX_goal_OTT_caliph
		cost = 5

		relative_position_id = OTT_Expand_the_Education_Ministry
		x = 2
		y = 2

		prerequisite = {
			focus = OTT_Single_Party_Dictatorship
		}

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus OTT_Reform_Millet_System"
			country_event = ottkem.8
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Reform_Millet_System"
			country_event = ottkem.9
			swap_ideas = {
				remove_idea = ott_institutionalised_islam_spd
				add_idea = ott_institutionalised_islam_millet
			}
		}
	}

	focus = {
		id = OTT_Ottoman_Constitution
		icon = GFX_goal_OTT_constitution
		cost = 10

		relative_position_id = OTT_Expand_the_Education_Ministry
		x = 0
		y = 3

		prerequisite = {
			focus = OTT_Abolish_Mecelle
		}
		prerequisite = {
			focus = OTT_Commision_Ottomanish_Language
		}
		prerequisite = {
			focus = OTT_Reform_Millet_System
		}

		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus OTT_Ottoman_Constitution"
			country_event = ottkem.12
		}

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Ottoman_Constitution"
			custom_effect_tooltip = ott_constitution_tt
		}
	}

	focus = {
		id = OTT_Secure_Seperation_of_Powers
		icon = GFX_goal_HOL_sustain_neutrality
		cost = 5

		relative_position_id = OTT_Expand_the_Education_Ministry
		x = 0
		y = 4

		available = {
			has_country_flag = ott_abolished_royal_pardon
		}

		prerequisite = {
			focus = OTT_Ottoman_Constitution
		}

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_STABILITY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Secure_Seperation_of_Powers"
			add_stability = 0.15
		}
	}

	focus = {
		id = OTT_Reorganise_Vilayet_System
		icon = GFX_goal_government_icon
		cost = 5

		relative_position_id = OTT_Expand_the_Education_Ministry
		x = -1
		y = 5

		available = {
			has_country_flag = ott_restructured_provincial_administration
		}

		prerequisite = {
			focus = OTT_Ottoman_Constitution
		}

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESISTANCE }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Reorganise_Vilayet_System"
			add_ideas = ott_reoarganised_vilayet_system
			custom_effect_tooltip = tooltip_white_line
			unlock_decision_tooltip = OTT_GRE_Crack_Down_Tax_Havens
		}
	}

	focus = {
		id = OTT_Millet_Mektepleri
		icon = GFX_goal_KTG_Educate_natives
		cost = 5

		relative_position_id = OTT_Expand_the_Education_Ministry
		x = 1
		y = 5

		available = {
			has_country_flag = ott_language_reformed_flag
		}

		prerequisite = {
			focus = OTT_Ottoman_Constitution
		}

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_RESEARCH }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Millet_Mektepleri"
			country_event = ottkem.65
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_idea = ott_widespread_illiteracy }
				remove_ideas = ott_widespread_illiteracy
				custom_effect_tooltip = tooltip_white_line
			}
			else_if = {
				limit = { has_idea = ott_widespread_illiteracy_fevzi }
				remove_ideas = ott_widespread_illiteracy_fevzi
				custom_effect_tooltip = tooltip_white_line
			}
			else_if = {
				limit = { has_idea = ott_widespread_illiteracy_liberal }
				remove_ideas = ott_widespread_illiteracy_liberal
				custom_effect_tooltip = tooltip_white_line
			}
			TUR_enable_millet_mektepleri = yes
		}
	}

	focus = {
		id = OTT_Emancipation_Push
		icon = GFX_focus_generic_female_voting
		cost = 5

		relative_position_id = OTT_Expand_the_Education_Ministry
		x = 2
		y = 4

		available = {
			has_country_flag = ott_women_suffrage
		}

		prerequisite = {
			focus = OTT_Ottoman_Constitution
		}

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY FOCUS_FILTER_PRODUCTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Emancipation_Push"
			add_ideas = ott_universal_suffrage
			every_country = {
				limit = { is_in_faction_with = INT }
				add_opinion_modifier = {
					target = OTT
					modifier = ott_supports_emancipation
				}
			}
			OTT_create_halide_edip_advisor = yes
		}
	}

	focus = {
		id = OTT_Curtail_Religious_Organisations
		icon = GFX_goal_islamic_government
		cost = 5

		relative_position_id = OTT_Expand_the_Education_Ministry
		x = -2
		y = 4

		available = {
			has_country_flag = separated_church_state
			NOT = {
				has_war_with = PER
				has_war_with = EGY
			}
		}

		prerequisite = {
			focus = OTT_Ottoman_Constitution
		}

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Curtail_Religious_Organisations"
			country_event = ottkem.27
			remove_ideas = ott_institutionalised_islam_millet
			custom_effect_tooltip = ott_religious_organisation_tt
		}
	}

	#############
	# DIPLOMACY #
	#############

	focus = {
		id = OTT_Policy_of_Deterence
		icon = GFX_goal_generic_defence
		cost = 5

		relative_position_id = OTT_Expand_the_Education_Ministry
		x = 9
		y = 2

		available = {
			has_idea = ott_armed_neutrality
			is_in_faction = no
			has_war = no
			OTT_cairo_pact_defeated = yes
		}

		prerequisite = {
			focus = OTT_Single_Party_Dictatorship
		}

		mutually_exclusive = {
			focus = OTT_Abolish_Full_Neutrality
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 5
				GER = {
					surrender_progress > 0.2
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_AUS }
					has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_GER }
				}
			}
		}

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Policy_of_Deterence"
			swap_ideas = {
				remove_idea = ott_armed_neutrality
				add_idea = ott_armed_neutrality_2
			}
		}
	}

	focus = {
		id = OTT_Relinquish_European_Ambitions
		icon = GFX_focus_BUL_free_balkan_states
		cost = 5

		relative_position_id = OTT_Policy_of_Deterence
		x = 0
		y = 1

		prerequisite = {
			focus = OTT_Policy_of_Deterence
		}

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Relinquish_European_Ambitions"
			every_country = {
				limit = {
					OR = {
						tag = GRE
						tag = BUL
						tag = ALB
						tag = ROM
						tag = SER
					}
				}
				add_opinion_modifier = {
					target = OTT
					modifier = ott_relinquished_european_ambitions
				}
			}
			add_war_support = -0.10
			add_stability = 0.10
		}
	}

	focus = {
		id = OTT_Greek_Turkish_Population_Exchange
		icon = GFX_goal_OTT_Population_Exchange
		cost = 10

		relative_position_id = OTT_Policy_of_Deterence
		x = 2
		y = 2

		available = {
			GRE = {
				NOT = {
					has_war_with = OTT
					has_completed_focus = GRE_turkish_cooperation
				}
				has_socialist_government = no
			}
		}

		prerequisite = {
			focus = OTT_Relinquish_European_Ambitions
		}

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Greek_Turkish_Population_Exchange"
			country_event = ottfor.87
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = {
				GRE = {
					transfer_state = 187
					add_ideas = ott_greco_turkish_accord
					diplomatic_relation = {
						country = OTT
						relation = non_aggression_pact
						active = yes
					}
				}
			}
			custom_effect_tooltip = tooltip_white_line
			effect_tooltip = {
				add_ideas = ott_greco_turkish_accord
				diplomatic_relation = {
					country = GRE
					relation = non_aggression_pact
					active = yes
				}
				47 = {
					add_manpower = 100000
				}
				183 = {
					add_manpower = -35000
					ott_increase_revolt_risk = yes
				}
				164 = {
					add_manpower = -35000
					ott_increase_revolt_risk = yes
				}
				773 = {
					ott_decrease_revolt_risk = yes
				}
				340 = {
					ott_decrease_revolt_risk = yes
				}
				339 = {
					add_manpower = -30000
					ott_decrease_revolt_risk = yes
				}
				355 = {
					ott_decrease_revolt_risk = yes
				}
			}
		}
	}

	focus = {
		id = OTT_Balkan_Military_Accords
		icon = GFX_goal_SWI_international_aid
		cost = 5

		relative_position_id = OTT_Policy_of_Deterence
		x = 0
		y = 2

		available = {
			owns_state = 341
			has_war = no
			GRE = {
				has_war = no
			}
			BUL = {
				has_war = no
			}
			ALB = {
				has_war = no
			}
			ROM = {
				has_war = no
			}
			SER = {
				has_war = no
			}
		}

		prerequisite = {
			focus = OTT_Relinquish_European_Ambitions
		}

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_STABILITY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Balkan_Military_Accords"
			add_stability = 0.05
			country_event = ottfor.13
			custom_effect_tooltip = edirne_accords_tt
			effect_tooltip = {
				every_country = {
					limit = {
						OR = {
							tag = OTT
							tag = ROM
							tag = GRE
							tag = SER
							tag = ALB
						}
					}
					add_ideas = ott_balkan_military_accords
				}
			}
		}
	}

	focus = {
		id = OTT_Never_Another_Balkan_War
		icon = GFX_HON_peace_in_our_time
		cost = 5

		relative_position_id = OTT_Policy_of_Deterence
		x = -1
		y = 3

		available = {
			has_idea = ott_balkan_military_accords
			has_war = no
		}

		prerequisite = {
			focus = OTT_Balkan_Military_Accords
			focus = OTT_Islamic_Economic_Union
		}

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_STABILITY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Never_Another_Balkan_War"
			add_stability = 0.10
			every_country = {
				limit = {
					has_idea = ott_balkan_military_accords
				}
				swap_ideas = {
					remove_idea = ott_balkan_military_accords
					add_idea = ott_balkan_military_accords_2
				}
			}
		}
	}

	focus = {
		id = OTT_Promote_Muslim_Solidarity
		icon = GFX_goal_OTT_Muslim_Solidarity
		cost = 5

		relative_position_id = OTT_Policy_of_Deterence
		x = -3
		y = 1

		prerequisite = {
			focus = OTT_Policy_of_Deterence
		}

		ai_will_do = { factor = 1000 }

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Promote_Muslim_Solidarity"
			every_other_country = {
				tooltip = OTT_every_islamic_country
				limit = {
					OR = {
						tag = BOS
						tag = ALB
						tag = LBA
						tag = AZR
						tag = ALO
						tag = AFG
						tag = PRF
						tag = GNA
						tag = MAL
						tag = INS
						tag = SUD
					}
				}
				add_opinion_modifier = { target = ROOT modifier = ott_r_caliph }
				reverse_add_opinion_modifier = { target = ROOT modifier = ott_rr_caliph }
			}
		}
	}

	focus = {
		id = OTT_United_Against_Imperialism
		icon = GFX_focus_eng_decolonization
		cost = 10

		relative_position_id = OTT_Policy_of_Deterence
		x = -4
		y = 2

		available = {
			is_subject = no
			is_in_faction = no
		}

		prerequisite = {
			focus = OTT_Promote_Muslim_Solidarity
		}

		ai_will_do = { factor = 1000 }

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_United_Against_Imperialism"
			create_faction = istanbul_pact
		}
	}

	focus = {
		id = OTT_Maghrebi_Frontier
		icon = GFX_goal_OTT_Maghreb_Ties
		cost = 5

		relative_position_id = OTT_Policy_of_Deterence
		x = -5
		y = 3

		available = {
			is_faction_leader = yes
		}

		prerequisite = {
			focus = OTT_United_Against_Imperialism
		}

		ai_will_do = { factor = 1000 }

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Maghrebi_Frontier"
			custom_effect_tooltip = ott_maghrebi_frontier_tt
		}
	}

	focus = {
		id = OTT_Oriental_Cooperation
		icon = GFX_goal_OTT_Ties_Orient
		cost = 5

		relative_position_id = OTT_Policy_of_Deterence
		x = -3
		y = 3

		available = {
			is_faction_leader = yes
		}

		prerequisite = {
			focus = OTT_United_Against_Imperialism
		}

		ai_will_do = { factor = 1000 }

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Oriental_Cooperation"
			custom_effect_tooltip = ott_orient_tt
		}
	}

	focus = {
		id = OTT_Security_on_the_Arab_Peninsula
		icon = GFX_goal_OTT_Arab_Peninsula
		cost = 5

		relative_position_id = OTT_Policy_of_Deterence
		x = -4
		y = 4

		available = {
			is_faction_leader = yes
			OR = {
				country_exists = JBS
				country_exists = OMA
				country_exists = YEM
			}
		}

		prerequisite = {
			focus = OTT_United_Against_Imperialism
		}

		ai_will_do = { factor = 1000 }

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Security_on_the_Arab_Peninsula"
			custom_effect_tooltip = ott_arab_peninsula_tt
		}
	}

	focus = {
		id = OTT_Islamic_Economic_Union
		icon = GFX_goal_OTT_Association_of_Muslim_Nations
		cost = 5

		relative_position_id = OTT_Policy_of_Deterence
		x = -2
		y = 2

		available = {
			has_completed_focus = OTT_Balance_the_Budget
		}

		prerequisite = {
			focus = OTT_Promote_Muslim_Solidarity
		}

		ai_will_do = { factor = 1000 }

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_PRODUCTION }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Islamic_Economic_Union"
			custom_effect_tooltip = ott_amn_tt
			set_variable = { var_AMN_members = 0.05 }
			hidden_effect = { add_ideas = ott_AMN_member_idea }
		}
	}

	focus = {
		id = OTT_Abolish_Full_Neutrality
		icon = GFX_focus_hol_war_on_pacifism
		cost = 5

		relative_position_id = OTT_Expand_the_Education_Ministry
		x = 14
		y = 2

		available = {
			has_war = no
			OTT_cairo_pact_defeated = yes
			NOT = {
				has_global_flag = RUSSIAN_OTTOMAN_DEAL
			}
		}

		bypass = {
			NOT = { has_idea = ott_armed_neutrality }
		}

		prerequisite = {
			focus = OTT_Single_Party_Dictatorship
		}

		mutually_exclusive = {
			focus = OTT_Policy_of_Deterence
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				OR = {
					NOT = { country_exists = AZR }
					AZR = {
						NOT = {
							is_guaranteed_by = GER
							is_in_faction_with = GER
						}
					}
					has_global_flag = RUSSIAN_OTTOMAN_DEAL
				}
				AUS = { is_valid_peace_target = no }
			}
			modifier = {
				factor = 0.1
				GER = {
					surrender_progress > 0.2
				}
				NOT = { has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_GER } }
			}
			modifier = {
				factor = 0.1
				AUS = {
					surrender_progress > 0.2
				}
				NOT = { has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_AUS } }
			}
			modifier = {
				factor = 0
				has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_OTT }
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Abolish_Full_Neutrality"
			remove_ideas = ott_armed_neutrality
		}
	}

	focus = {
		id = OTT_Gamble_in_the_Caucasus
		icon = GFX_goal_flag_azerbaijan
		cost = 5

		relative_position_id = OTT_Abolish_Full_Neutrality
		x = -1
		y = 1

		available = {
			is_subject = no
			is_in_faction = no
			OTT_cairo_pact_defeated = yes
			country_exists = AZR
			AZR = {
				OR = {
					is_guaranteed_by = GER
					is_in_faction_with = GER
				}
			}
			GER = {
				is_faction_leader = yes
				has_war = yes
				NOT = { has_war_with = ROOT }
			}
			NOT = { has_country_flag = cancel_ger }
		}

		prerequisite = {
			focus = OTT_Abolish_Full_Neutrality
		}

		mutually_exclusive = {
			focus = OTT_Alliance_of_Convenience
		}

		ai_will_do = {
			factor = 1000
			modifier = {
				factor = 0
				has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_AUS }
			}
		}

		available_if_capitulated = yes

		bypass = {
			is_in_faction_with = GER
		}

		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus OTT_Gamble_in_the_Caucasus"
			GER = {
				country_event = { id = ottfor.31 days = 10 }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Gamble_in_the_Caucasus"
			custom_effect_tooltip = ott_gamble_caucasus_tt
		}
	}

	focus = {
		id = OTT_Settling_Old_Disputes
		icon = GFX_goal_COS_German_Bailout
		cost = 5

		relative_position_id = OTT_Abolish_Full_Neutrality
		x = -1
		y = 3

		available = {
			always = no
		}

		bypass = {
			is_in_faction_with = GER
		}

		prerequisite = {
			focus = OTT_Gamble_in_the_Caucasus
		}

		ai_will_do = { factor = 1000 }

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Settling_Old_Disputes"
			AZR = {
				give_resource_rights = {
					receiver = GER
					state = 229
				}
			}
			GER = { add_to_faction = ROOT }
		}
	}

	focus = {
		id = OTT_Vanguard_in_the_South
		icon = GFX_goal_OTT_Military_Mission
		cost = 10

		relative_position_id = OTT_Abolish_Full_Neutrality
		x = -1
		y = 4

		available = {
			is_in_faction_with = GER
			340 = {
				is_owned_and_controlled_by = OTT
			}
			339 = {
				is_owned_and_controlled_by = OTT
			}
		}

		bypass = {
			GER = { has_completed_focus = GER_Vanguard_In_The_South }
		}

		prerequisite = {
			focus = OTT_Settling_Old_Disputes
		}

		ai_will_do = { factor = 100 }

		available_if_capitulated = yes

		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Vanguard_in_the_South"
			340 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			339 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = OTT_Alliance_of_Convenience
		icon = GFX_goal_austria
		cost = 5

		relative_position_id = OTT_Abolish_Full_Neutrality
		x = 1
		y = 1

		available = {
			is_subject = no
			is_in_faction = no
			OTT_cairo_pact_defeated = yes
			AUS = {
				is_faction_leader = yes
				has_completed_focus = AUS_protector_of_the_balkans
			}
			GER = {
				has_war = yes
			}
			NOT = { has_country_flag = cancel_aus }
		}

		prerequisite = {
			focus = OTT_Abolish_Full_Neutrality
		}

		mutually_exclusive = {
			focus = OTT_Gamble_in_the_Caucasus
		}

		ai_will_do = {
			factor = 1000
			modifier = {
				factor = 0
				has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_GER }
			}
		}

		available_if_capitulated = yes

		select_effect = {
			log = "[GetDateText]: [Root.GetName]: Select Focus OTT_Alliance_of_Convenience"
			country_event = { id = ottfor.20 days = 5 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Alliance_of_Convenience"
			custom_effect_tooltip = ott_alliance_of_convenience_tt
		}
	}

	focus = {
		id = OTT_Sarajevo_Accords
		icon = GFX_goal_balkan_fist
		cost = 5

		relative_position_id = OTT_Abolish_Full_Neutrality
		x = 1
		y = 2

		available = {
			has_country_flag = alliance_aus
			AUS = { is_faction_leader = yes }
		}

		prerequisite = {
			focus = OTT_Alliance_of_Convenience
		}

		ai_will_do = { factor = 1000 }

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus OTT_Sarajevo_Accords"
			effect_tooltip = { create_faction = sarajevo_accords }
			custom_effect_tooltip = OTT_add_austria_to_faction
		}
	}
}

##############
# FEVZI TREE #
##############

focus_tree = {
	id = ottoman_fevzi_focus #centralist

	country = {
		factor = 0
	}

	default = no
	continuous_focus_position = { x = 0 y = 1600 }

	shared_focus = OTT_Maintenance_of_Order_Law
	shared_focus = OTT_State_of_Emergency
	shared_focus = OTT_ottoman_army
	shared_focus = OTT_Samsun_Iktisat_Kongresi
}

focus_tree = {
	id = ottoman_fevzi_coup_focus #decentralist

	country = {
		factor = 0
	}

	default = no
	continuous_focus_position = { x = 0 y = 1600 }

	shared_focus = OTT_Maintenance_of_Order_Law
	shared_focus = OTT_State_of_Emergency
	shared_focus = OTT_ottoman_army
	shared_focus = OTT_Raise_Import_Tariffs_lib
}

	###################
	# FEVZI TIME BOIS #
	###################

shared_focus = {
	id = OTT_State_of_Emergency
	icon = GFX_goal_generic_join_faction
	cost = 5

	x = 10
	y = 0

	available = {
		always = no
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_STABILITY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_State_of_Emergency"
		if = {
			limit = {
				has_stability < 0
			}
			set_stability = 0
		}
	}
}

shared_focus = {
	id = OTT_Replace_Walis
	icon = GFX_goal_islamic_government
	cost = 5

	relative_position_id = OTT_State_of_Emergency
	x = 0
	y = 1

	prerequisite = {
		focus = OTT_State_of_Emergency
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_STABILITY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Replace_Walis"
		add_stability = 0.10
		country_event = ottfev.2
		if = {
			limit = {
				NOT = {
					has_country_flag = sharif_dead
				}
			}
			activate_decision = OTT_ARA_Abolish_Sharif
		}
	}
}

shared_focus = {
	id = OTT_Abolish_Mecelle_Fevzi
	icon = GFX_goal_OTT_Abolish_Mecelle
	cost = 5

	relative_position_id = OTT_Replace_Walis
	x = -1
	y = 1

	prerequisite = {
		focus = OTT_Replace_Walis
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Abolish_Mecelle_Fevzi"
		add_political_power = 100
		country_event = ottkem.11
	}
}

shared_focus = {
	id = OTT_Reform_the_Millet_System
	icon = GFX_goal_OTT_caliph
	cost = 5

	relative_position_id = OTT_Replace_Walis
	x = -1
	y = 3

	prerequisite = {
		focus = OTT_Abolish_Mecelle_Fevzi
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	select_effect = {
		log = "[GetDateText]: [Root.GetName]: Select Focus OTT_Reform_the_Millet_System"
		country_event = ottkem.8
	}

	search_filters = { FOCUS_FILTER_POLITICAL }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Reform_the_Millet_System"
		country_event = ottkem.9
		if = {
			limit = {
				has_idea = ott_institutionalised_islam_spd
			}
			swap_ideas = {
				remove_idea = ott_institutionalised_islam_spd
				add_idea = ott_institutionalised_islam_millet
			}
		}
		else = {
			swap_ideas = {
				remove_idea = ott_institutionalised_islam
				add_idea = ott_institutionalised_islam_millet
			}
		}
	}
}

shared_focus = {
	id = OTT_Confiscate_Privy_Purse_Holdings
	icon = GFX_focus_usa_reestablish_the_gold_standard
	cost = 5

	relative_position_id = OTT_Replace_Walis
	x = 0
	y = 2

	prerequisite = {
		focus = OTT_Replace_Walis
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Confiscate_Privy_Purse_Holdings"
		add_stability = -0.10
		add_timed_idea = {
			idea = ott_privy_purse_nationalised
			days = 720
		}
	}
}

shared_focus = {
	id = OTT_Marechal_Nous_Voila
	icon = GFX_goal_OTT_Fevzi_Pasha
	cost = 5

	relative_position_id = OTT_Replace_Walis
	x = 1
	y = 1

	prerequisite = {
		focus = OTT_Replace_Walis
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ARMY_BONUS }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Marechal_Nous_Voila"
		add_political_power = 100
		add_ideas = ott_fevzi_cult_of_personality
		country_event = ottfev.5
	}
}

shared_focus = {
	id = OTT_Expand_the_Military_Rusdiye
	icon = GFX_goal_military_research
	cost = 5

	relative_position_id = OTT_Replace_Walis
	x = 1
	y = 3

	available = {
		has_idea = ott_widespread_illiteracy
	}

	prerequisite = {
		focus = OTT_Marechal_Nous_Voila
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	bypass = {
		NOT = {
			has_idea = ott_widespread_illiteracy
		}
	}

	search_filters = { FOCUS_FILTER_RESEARCH }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Expand_the_Military_Rusdiye"
		swap_ideas = {
			remove_idea = ott_widespread_illiteracy
			add_idea = ott_widespread_illiteracy_fevzi
		}
	}
}

shared_focus = {
	id = OTT_Consolidate_Military_Dictatorship
	icon = GFX_goal_authoritarian
	cost = 5

	relative_position_id = OTT_Replace_Walis
	x = 2
	y = 4

	available = {
		has_war = no
	}

	prerequisite = {
		focus = OTT_Expand_the_Military_Rusdiye
	}
	prerequisite = {
		focus = OTT_Reform_the_Millet_System
	}

	mutually_exclusive = {
		focus = OTT_Lift_State_of_Emergency
	}

	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			OR = {
				has_game_rule = { rule = OTT_path option = OTT_PATH_ENDEAVOUR_MARLIB }
				has_game_rule = { rule = OTT_path option = OTT_PATH_ENDEAVOUR_AUTDEM }
				has_game_rule = { rule = OTT_path option = OTT_PATH_NATPOP }
			}
		}
	}

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Consolidate_Military_Dictatorship"
		custom_effect_tooltip = OTT_new_focus_ohf
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.20
		}
		every_owned_state = {
			ott_increase_revolt_risk = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = ott_centralisation_army
		hidden_effect = {
			add_ideas = ott_centralisation_idea
			add_to_variable = {
				var = gre_integration_factor
				value = 10
			}
			clamp_variable = {
				var = gre_integration_factor
				min = 0
				max = 100
			}
		}
	}
}

shared_focus = {
	id = OTT_Lift_State_of_Emergency
	icon = GFX_goal_generic_elections
	cost = 5

	relative_position_id = OTT_Replace_Walis
	x = -2
	y = 4

	available = {
		has_war = no
	}

	prerequisite = {
		focus = OTT_Expand_the_Military_Rusdiye
	}
	prerequisite = {
		focus = OTT_Reform_the_Millet_System
	}

	mutually_exclusive = {
		focus = OTT_Consolidate_Military_Dictatorship
	}

	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			has_game_rule = { rule = OTT_path option = OTT_PATH_PATAUT }
		}
	}

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Lift_State_of_Emergency"
		country_event = ottfev.11
		custom_effect_tooltip = OTT_new_focus_ohf
	}
}

shared_focus = {
	id = OTT_reorganize_the_military
	icon = GFX_focus_generic_military_mission
	cost = 5

	relative_position_id = OTT_Replace_Walis
	x = 3
	y = 5

	available = {
		has_war = no
	}

	prerequisite = {
		focus = OTT_Consolidate_Military_Dictatorship
	}

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_ARMY_XP }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_reorganize_the_military"
		add_timed_idea = {
			idea = ott_fevzi_reorganize_military
			days = 100
		}
		every_army_leader = {
			add_planning = 1
		}
		army_experience = 25
	}
}

shared_focus = {
	id = OTT_infallible_army
	icon = GFX_focus_ETH_freedom_at_gunpoint
	cost = 5

	relative_position_id = OTT_Replace_Walis
	x = 3
	y = 6

	prerequisite = {
		focus = OTT_reorganize_the_military
	}

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_ARMY_BONUS }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_infallible_army"
		add_ideas = ott_fevzi_military_einforced
	}
}

shared_focus = {
	id = OTT_relinquish_some_powers
	icon = GFX_goal_generic_government_deals
	cost = 5

	relative_position_id = OTT_Replace_Walis
	x = 1
	y = 5

	prerequisite = {
		focus = OTT_Consolidate_Military_Dictatorship
	}

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_RESISTANCE }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_relinquish_some_powers"
		add_stability = 0.1
	}
}

shared_focus = {
	id = OTT_cautious_progress
	icon = GFX_goal_constitutional_guarantees
	cost = 5

	relative_position_id = OTT_Replace_Walis
	x = 1
	y = 6

	prerequisite = {
		focus = OTT_relinquish_some_powers
	}

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_cautious_progress"
		add_ideas = ott_fevzi_cautious_reforms
	}
}

shared_focus = {
	id = OTT_new_military_dictatorship
	icon = GFX_goal_OTT_coat_of_arms
	cost = 5

	relative_position_id = OTT_Replace_Walis
	x = 2
	y = 7

	prerequisite = {
		focus = OTT_cautious_progress
	}
	prerequisite = {
		focus = OTT_infallible_army
	}

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_RESISTANCE }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_new_military_dictatorship"
		every_owned_state = {
			ott_decrease_revolt_risk = yes
		}
	}
}

	##################
	# FOREIGN POLICY #
	##################

shared_focus = {
	id = OTT_Abolish_Full_Neutrality_Fevzi
	icon = GFX_focus_hol_war_on_pacifism
	cost = 5

	relative_position_id = OTT_State_of_Emergency
	x = 5
	y = 1

	available = {
		has_idea = ott_armed_neutrality
		OTT_cairo_pact_defeated = yes
		NOT = {
			has_global_flag = RUSSIAN_OTTOMAN_DEAL
		}
	}

	prerequisite = {
		focus = OTT_State_of_Emergency
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	bypass = {
		NOT = { has_idea = ott_armed_neutrality }
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Abolish_Full_Neutrality_Fevzi"
		remove_ideas = ott_armed_neutrality
	}
}

shared_focus = {
	id = OTT_Revise_German_Bilateral_Agreement
	icon = GFX_focus_ger_heavy_tanks
	cost = 5

	relative_position_id = OTT_Abolish_Full_Neutrality_Fevzi
	x = 1
	y = 1

	available = {
		NOT = {
			has_war_with = GER
		}
		GER = {
			has_opinion = {
				target = OTT
				value > 99
			}
		}
		controls_state = 773
		controls_state = 340
	}

	prerequisite = {
		focus = OTT_Abolish_Full_Neutrality_Fevzi
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Revise_German_Bilateral_Agreement"
		773 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
		340 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = OTT_Increase_Ties_German_Empire
	icon = GFX_focus_ger_return_of_the_kaiser
	cost = 5

	relative_position_id = OTT_Abolish_Full_Neutrality_Fevzi
	x = -1
	y = 1

	available = {
		OTT_cairo_pact_defeated = yes
	}

	prerequisite = {
		focus = OTT_Abolish_Full_Neutrality_Fevzi
	}

	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_ENT }
		}
	}

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Increase_Ties_German_Empire"
		reverse_add_opinion_modifier = {
			target = GER
			modifier = ott_german_fren
		}
		GER = {
			country_event = { id = ottfor.31 days = 10 }
		}
	}
}

shared_focus = {
	id = OTT_Embargo_the_Internationale
	icon = GFX_focus_ger_break_anglo_french_colonial_hegemony
	cost = 5

	relative_position_id = OTT_Abolish_Full_Neutrality_Fevzi
	x = -1
	y = 2

	prerequisite = {
		focus = OTT_Increase_Ties_German_Empire
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Embargo_the_Internationale"
		reverse_add_opinion_modifier = {
			target = GER
			modifier = ott_german_fren2
		}
		custom_effect_tooltip = OTT_embargo_INT_tt
		hidden_effect = {
			every_other_country = {
				limit = {
					has_socialist_government = yes
					is_in_faction_with = INT
				}
				if = {
					limit = { ROOT = { NOT = { has_country_flag = embargoed_@PREV } } }
					embargo_ROOT = yes
				}
			}
			HND = { embargo_ROOT = yes }
			CSA = { embargo_ROOT = yes }
			SRI = { embargo_ROOT = yes }
			SOV = { embargo_ROOT = yes }
			SWF = { embargo_ROOT = yes }
		}
	}
}

shared_focus = {
	id = OTT_Vanguard_in_the_South_Fevzi
	icon = GFX_goal_OTT_Military_Mission
	cost = 5

	relative_position_id = OTT_Abolish_Full_Neutrality_Fevzi
	x = -1
	y = 3

	available = {
		340 = {
			is_owned_and_controlled_by = OTT
		}
		339 = {
			is_owned_and_controlled_by = OTT
		}
	}

	bypass = {
		GER = { has_completed_focus = GER_Vanguard_In_The_South }
	}

	prerequisite = {
		focus = OTT_Embargo_the_Internationale
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Vanguard_in_the_South_Fevzi"
		340 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		339 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
	}
}

###########################
# ENDEAVOUR FRONT LIBERAL #
###########################

focus_tree = {
	id = ottoman_endeavour_focus

	country = {
		factor = 0
	}

	default = no
	continuous_focus_position = { x = 0 y = 1600 }

	shared_focus = OTT_Maintenance_of_Order_Law
	shared_focus = OTT_ottoman_army
	shared_focus = OTT_Raise_Import_Tariffs_lib
	shared_focus = OTT_Samsun_Iktisat_Kongresi
	shared_focus = OTT_Enshrine_Endeavour_Front

}

#############################
# ENDEAVOUR FRONT POLITICAL #
#############################

shared_focus = {
	id = OTT_Enshrine_Endeavour_Front
	icon = GFX_focus_spr_torchbearers_of_tomorrow
	cost = 8

	x = 14
	y = 0

	available = {
		has_government = authoritarian_democrat
	}

	ai_will_do = { factor = 1000 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Enshrine_Endeavour_Front"
		add_ideas = ott_endeavour_front
	}
}

shared_focus = {
	id = OTT_Centralise_State_Authority
	icon = GFX_goal_generic_plotting
	cost = 8

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = -1
	y = 1

	prerequisite = {
		focus = OTT_Enshrine_Endeavour_Front
	}

	mutually_exclusive = {
		focus = OTT_Break_Up_State_Monopolies_FEV
	}

	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			has_game_rule = { rule = OTT_path option = OTT_PATH_ENDEAVOUR_MARLIB }
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Centralise_State_Authority"
		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = no
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.1
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = ott_centralisation_army
		hidden_effect = { add_ideas = ott_centralisation_idea }
	}
}

shared_focus = {
	id = OTT_Lift_Maintenance_Public_Order_Decree
	icon = GFX_goal_OTT_reform
	cost = 8

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = 0
	y = 2

	available = {
		NOT = {
			has_completed_focus = OTT_Incorporate_Kadroist_Movement
			has_war_with = SYR
			has_war_with = CYP
			has_war_with = IRQ
			has_war_with = KUR
			has_war_with = HEJ
		}
		OTT_cairo_pact_defeated = yes
	}

	prerequisite = {
		focus = OTT_Centralise_State_Authority
		focus = OTT_Break_Up_State_Monopolies_FEV
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Lift_Maintenance_Public_Order_Decree"
		add_stability = 0.1
	}
}

shared_focus = {
	id = OTT_Disband_Trials_Progress
	icon = GFX_goal_OTT_Tribunals_of_Progress
	cost = 8

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = 0
	y = 4

	available = {
		NOT = {
			has_completed_focus = OTT_Incorporate_Kadroist_Movement
			has_war_with = SYR
			has_war_with = CYP
			has_war_with = IRQ
			has_war_with = KUR
			has_war_with = HEJ
		}
		OTT_cairo_pact_defeated = yes
	}

	prerequisite = {
		focus = OTT_Lift_Maintenance_Public_Order_Decree
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Disband_Trials_Progress"
		every_owned_state = {
			ott_decrease_revolt_risk = yes
		}
	}
}

shared_focus = {
	id = OTT_Cooperate_Private_Sector
	icon = GFX_goal_capitalist_system
	cost = 8

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = -2
	y = 2

	available = {
		has_government = authoritarian_democrat
	}

	prerequisite = {
		focus = OTT_Centralise_State_Authority
	}

	mutually_exclusive = {
		focus = OTT_Incorporate_Kadroist_Movement
	}

	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			has_game_rule = { rule = OTT_path option = OTT_PATH_NATPOP }
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Cooperate_Private_Sector"
		773 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.04
		}
	}
}

shared_focus = {
	id = OTT_Vilayet_Reorganisation
	icon = GFX_goal_government_icon
	cost = 8

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = -2
	y = 4

	available = {
		has_government = authoritarian_democrat
	}

	prerequisite = {
		focus = OTT_Cooperate_Private_Sector
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Vilayet_Reorganisation"
		add_ideas = ott_reoarganised_vilayet_system
		custom_effect_tooltip = tooltip_white_line
		unlock_decision_tooltip = OTT_GRE_Crack_Down_Tax_Havens
	}
}

shared_focus = {
	id = OTT_Emancipation_Vanguard_FEV
	icon = GFX_focus_generic_female_voting
	cost = 8

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = -3
	y = 3

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = national_populist
		}
	}

	prerequisite = {
		focus = OTT_Cooperate_Private_Sector
		focus = OTT_Incorporate_Kadroist_Movement
	}

	allow_branch = {
		always = yes
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Emancipation_Vanguard_FEV"
		add_ideas = ott_universal_suffrage
		every_country = {
			limit = { is_in_faction_with = INT }
			add_opinion_modifier = {
				target = OTT
				modifier = ott_supports_emancipation
			}
		}
		OTT_create_halide_edip_advisor = yes
	}
}

shared_focus = {
	id = OTT_Millet_Mektepleri_FEV
	icon = GFX_goal_KTG_Educate_natives
	cost = 8

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = -1
	y = 3

	prerequisite = {
		focus = OTT_Centralise_State_Authority
	}

	mutually_exclusive = {
		focus = OTT_Imperial_Literacy_FEV
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Millet_Mektepleri_FEV"
		country_event = ottkem.65
		if = {
			limit = { has_idea = ott_widespread_illiteracy }
			remove_ideas = ott_widespread_illiteracy
		}
		else_if = {
			limit = { has_idea = ott_widespread_illiteracy_fevzi }
			remove_ideas = ott_widespread_illiteracy_fevzi
		}
		else_if = {
			limit = { has_idea = ott_widespread_illiteracy_liberal }
			remove_ideas = ott_widespread_illiteracy_liberal
		}
		TUR_enable_millet_mektepleri = yes
	}
}

shared_focus = {
	id = OTT_Incorporate_Kadroist_Movement
	icon = GFX_goal_TUR_kadro
	cost = 8

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = -4
	y = 2

	available = {
		has_government = authoritarian_democrat
		RUS = {
			has_government = national_populist
		}
		NOT = {
			has_completed_focus = OTT_Liberalising_National_Economy
			has_completed_focus = OTT_Repeal_National_Protection_Law
			has_completed_focus = OTT_Imperial_Institute_Technology
		}
	}

	allow_branch = {
		OR = {
			AND = {
				RUS = {
					has_government = national_populist
				}
				FRA = {
					has_government = totalist
				}
				ENG = {
					has_government = totalist
				}
			}
			has_country_flag = OTT_unlocked_kadroist_path
		}
	}

	prerequisite = {
		focus = OTT_Centralise_State_Authority
	}

	mutually_exclusive = {
		focus = OTT_Cooperate_Private_Sector
	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 100
			has_game_rule = { rule = OTT_path option = OTT_PATH_ENDEAVOUR_AUTDEM }
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Incorporate_Kadroist_Movement"
		add_popularity = {
			ideology = national_populist
			popularity = 0.06
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.07
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.04
		}
		set_country_flag = OTT_unlocked_kadroist_path # this is to ensure that the Kadro path does not vanish even if one of the three countries change their ideology
	}
}

shared_focus = {
	id = OTT_Committee_Inquest
	icon = GFX_goal_generic_imprison_people
	cost = 8

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = -4
	y = 4

	available = {
		has_stability > 0
	}

	prerequisite = {
		focus = OTT_Incorporate_Kadroist_Movement
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Committee_Inquest"
		every_owned_state = {
			ott_increase_revolt_risk = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = ott_but_purging_is_cooler_tt
		remove_ideas = ott_endeavour_front
		set_politics = {
			ruling_party = national_populist
			elections_allowed = no
			name = TUR_authoritarian_democrat_party
			long_name = TUR_authoritarian_democrat_party_long
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.15
		}
		set_temp_variable = { coalition_partner_var = token:totalist }
		add_to_coalition = yes
		hidden_effect = {
			set_temp_variable = { coalition_partner_var = token:authoritarian_democrat_subtype }
			add_to_coalition = yes
			set_party_name = {
				ideology = market_liberal
				name = TUR_market_liberal_party
				long_name = TUR_market_liberal_party_long
			}
			set_party_name = {
				ideology = authoritarian_democrat
				name = TUR_authoritarian_democrat_party
				long_name = TUR_authoritarian_democrat_party_long
			}
			set_party_name = {
				ideology = totalist
				name = TUR_authoritarian_democrat_party
				long_name = TUR_authoritarian_democrat_party_long
			}
			set_country_flag = TUR_npo_and_tot_parties_renamed_to_OHF
		}
		custom_effect_tooltip = tooltip_white_line
		unlock_decision_tooltip = OTT_GRE_Crack_Down_Tax_Havens
	}
}

shared_focus = {
	id = OTT_Nationalise_Basic_Industries
	icon = GFX_goal_state_economy
	cost = 8

	relative_position_id = OTT_Committee_Inquest
	x = -2
	y = 1

	available = {
		has_government = national_populist
	}

	prerequisite = {
		focus = OTT_Committee_Inquest
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Nationalise_Basic_Industries"
		773 = {
			ott_increase_revolt_risk = yes
		}
		340 = {
			ott_increase_revolt_risk = yes
		}
		339 = {
			ott_increase_revolt_risk = yes
		}
		344 = {
			ott_increase_revolt_risk = yes
		}
		677 = {
			ott_increase_revolt_risk = yes
		}
		995 = {
			ott_increase_revolt_risk = yes
		}
		554 = {
			ott_increase_revolt_risk = yes
		}
		553 = {
			ott_increase_revolt_risk = yes
		}
		676 = {
			ott_increase_revolt_risk = yes
		}
		custom_effect_tooltip = tooltip_white_line
		add_ideas = ott_basic_industries
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
	}
}

shared_focus = {
	id = OTT_Social_Nationalism
	icon = GFX_focus_TUR_loosen_the_laws_on_secularism
	cost = 8

	relative_position_id = OTT_Committee_Inquest
	x = 0
	y = 1

	available = {
		has_government = national_populist
	}

	prerequisite = {
		focus = OTT_Committee_Inquest
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Social_Nationalism"
		add_ideas = ott_social_nationalism
		add_popularity = {
			ideology = national_populist
			popularity = 0.10
		}
	}
}

shared_focus = {
	id = OTT_Enact_Separation_Church_State
	icon = GFX_goal_islamic_government
	cost = 8

	relative_position_id = OTT_Committee_Inquest
	x = 2
	y = 1

	available = {
		has_government = national_populist
	}

	prerequisite = {
		focus = OTT_Committee_Inquest
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Enact_Separation_Church_State"
		every_owned_state = {
			ott_increase_revolt_risk = yes
		}
		custom_effect_tooltip = tooltip_white_line
		remove_ideas = ott_institutionalised_islam
		hidden_effect = {
			remove_ideas = ott_institutionalised_islam_millet
			remove_ideas = ott_institutionalised_islam_spd
		}
		add_popularity = {
			ideology = social_conservative
			popularity = -0.05
		}
	}
}

shared_focus = {
	id = OTT_Union_Party_State
	icon = GFX_goal_shadow_government
	cost = 8

	relative_position_id = OTT_Committee_Inquest
	x = 0
	y = 2

	available = {
		has_government = national_populist
		national_populist > 0.30
		NOT = {
			has_war_with = EGY
			has_war_with = PER
		}
	}

	prerequisite = {
		focus = OTT_Nationalise_Basic_Industries
	}
	prerequisite = {
		focus = OTT_Social_Nationalism
	}
	prerequisite = {
		focus = OTT_Enact_Separation_Church_State
	}

	ai_will_do = { factor = 100 }

	will_lead_to_war_with = ARM
	will_lead_to_war_with = IRQ
	will_lead_to_war_with = SYR
	will_lead_to_war_with = LEB
	will_lead_to_war_with = TRU
	will_lead_to_war_with = KUR
	will_lead_to_war_with = KDR
	will_lead_to_war_with = HEJ
	will_lead_to_war_with = TRP
	will_lead_to_war_with = LBA
	will_lead_to_war_with = CYP
	will_lead_to_war_with = YEM
	will_lead_to_war_with = JBS
	will_lead_to_war_with = SAU
	will_lead_to_war_with = EGY
	will_lead_to_war_with = PER
	will_lead_to_war_with = AZR

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Union_Party_State"
		every_owned_state = {
			ott_increase_revolt_risk = yes
		}
		custom_effect_tooltip = tooltip_white_line
		add_ideas = ott_union_party_state
		custom_effect_tooltip = tooltip_white_line
		add_popularity = {
			ideology = national_populist
			popularity = 0.10
		}
		custom_effect_tooltip = ott_set_integration_syr_100
		set_variable = {
			var = syr_integration_factor
			value = 100
		}
		custom_effect_tooltip = ott_set_integration_irq_100
		set_variable = {
			var = irq_integration_factor
			value = 100
		}
		hidden_effect = {
			every_state = {
				limit = { is_core_of = OTT }
				if = {
					limit = {
						OR = {
							OTT_is_turkish_state = yes
							OTT_is_syrian_state = yes
							OTT_is_iraqi_state = yes
						}
					}
					ott_set_authority_vilayet_high = yes
				}
				else = {
					clear_variable = OTT_revolt_risk
					clear_variable = OTT_authority_level
					remove_core_of = OTT
					add_claim_by = OTT
					force_enable_resistance = { occupier = OTT clear = yes }
					if = {
						limit = { has_resistance = no }
						start_resistance = yes
					}
					if = {
						limit = {
							has_dynamic_modifier = { modifier = autonomous_region }
						}
						remove_dynamic_modifier = { modifier = autonomous_region }
					}
					if = {
						limit = {
							has_dynamic_modifier = { modifier = vilayet }
						}
						remove_dynamic_modifier = { modifier = vilayet }
					}
					if = {
						limit = {
							has_dynamic_modifier = { modifier = high_revolt_risk }
						}
						remove_dynamic_modifier = { modifier = high_revolt_risk }
					}
					if = {
						limit = {
							has_dynamic_modifier = { modifier = very_high_revolt_risk }
						}
						remove_dynamic_modifier = { modifier = very_high_revolt_risk }
					}
					if = {
						limit = {
							check_variable = { corruption = 2 }
							has_state_flag = OTT_corruption_applied
						}
						clr_state_flag = OTT_corruption_applied
						add_state_modifier = {
							modifier = {
								local_building_slots_factor = 0.20
								local_manpower = 0.50
							}
						}
					}
					else_if = {
						limit = {
							check_variable = { corruption = 1 }
							has_state_flag = OTT_corruption_applied
						}
						clr_state_flag = OTT_corruption_applied
						add_state_modifier = {
							modifier = {
								local_building_slots_factor = 0.10
								local_manpower = 0.25
							}
						}
					}
				}
			}
			OTT_evaluate_centralisation = yes

			### Puppets
			if = {
				limit = { country_exists = PAL }
				annex_country = { target = PAL }
				if = {
					limit = { country_exists = EGY }
					EGY = {
						transfer_state = 753
						transfer_state = 453
					}
				}
			}
			every_country = {
				limit = { is_subject_of = OTT }
				OTT = {
					set_autonomy = { target = PREV autonomy_state = autonomy_free }
					remove_from_faction = PREV
				}
				declare_war_on = {
					target = OTT
					type = annex_everything
				}
			}

			### Armenia
			if = {
				limit = {
					owns_state = 230 #Yerevan
					NOT = { country_exists = ARM }
				}
				ARM = {
					ARM_initial_spawn_effect = yes
					declare_war_on = {
						target = ROOT
						type = annex_everything
					}
				}
			}

			### Syria
			if = {
				limit = {
					NOT = { country_exists = SYR }
					any_owned_state = { is_core_of = SYR }
				}
				every_owned_state = {
					limit = { is_core_of = SYR }
					transfer_state_to = SYR
				}
				SYR = {
					SYR_spawn_initial_units = yes
					set_politics = {
						ruling_party = social_conservative
						elections_allowed = no
					}
					declare_war_on = {
						target = OTT
						type = annex_everything
					}
				}
			}
			### Azerbaidjan
			if = {
				limit = {
					NOT = { country_exists = AZR }
					any_owned_state = { is_core_of = AZR }
				}
				every_owned_state = {
					limit = { is_core_of = AZR }
					transfer_state_to = AZR
				}
				AZR = {
					229 = {
						create_unit = {
							division = "name = \"Azeri Rebels\" division_template = \"Piyada Diviziyası\" start_experience_factor = 0.0"
							owner = AZR
						}
						create_unit = {
							division = "name = \"Azeri Rebels\" division_template = \"Piyada Diviziyası\" start_experience_factor = 0.0"
							owner = AZR
						}
						create_unit = {
							division = "name = \"Azeri Militias\" division_template = \"Piyada Diviziyası\" start_experience_factor = 0.0"
							owner = AZR
						}
					}
					set_politics = {
						ruling_party = authoritarian_democrat
						elections_allowed = no
					}
					declare_war_on = {
						target = OTT
						type = annex_everything
					}
					if = {
						limit = { country_exists = ARM }
						declare_war_on = {
							target = ARM
							type = annex_everything
						}
					}
				}
			}
			### Lebanon
			if = {
				limit = {
					owns_state = 553
					NOT = { country_exists = LEB }
				}
				every_owned_state = {
					limit = { is_core_of = LEB }
					transfer_state_to = LEB
				}
				LEB = {
					division_template = {
						name = "Militia"
						division_names_group = SYR_INF_01
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
						}
						template_counter = 68
					}
					553 = {
						create_unit = {
							division = "name = \"Maronite Rebels\" division_template = \"Militia\" start_experience_factor = 0.0"
							owner = LEB
						}
						create_unit = {
							division = "name = \"Druze Rebels\" division_template = \"Militia\" start_experience_factor = 0.0"
							owner = LEB
						}
					}
					declare_war_on = {
						target = OTT
						type = annex_everything
					}
				}
			}

			### Trucial States
			if = {
				limit = {
					NOT = { country_exists = TRU }
					any_owned_state = { is_core_of = TRU }
				}
				every_owned_state = {
					limit = { is_core_of = TRU }
					transfer_state_to = TRU
				}
				if = {
					limit = { owns_state = 347 } #Khasab
					TRU = {
						add_state_core = 347
						transfer_state = 347
					}
				}
				if = {
					limit = {
						owns_state = 656 #Al-Hasa
						OR = {
							country_exists = SAU
							country_exists = JBS
						}
					}
					TRU = {
						add_state_core = 656
						transfer_state = 656
					}
				}
				TRU = {
					division_template = {
						name = "Militia"
						division_names_group = SYR_INF_01
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
						}
						template_counter = 68
					}
					658 = {
						create_unit = {
							division = "name = \"Maronite Rebels\" division_template = \"Militia\" start_experience_factor = 0.0"
							owner = TRU
						}
					}
					declare_war_on = {
						target = OTT
						type = annex_everything
					}
				}
			}

			### Iraq
			if = {
				limit = {
					NOT = { country_exists = IRQ }
					any_owned_state = { is_core_of = IRQ }
				}
				every_owned_state = {
					limit = { is_core_of = IRQ }
					transfer_state_to = IRQ
				}
				IRQ = {
					IRQ_spawn_initial_units = yes
					declare_war_on = {
						target = OTT
						type = annex_everything
					}
				}
			}

			### Anatolian Kurdistan
			every_owned_state = {
				limit = {
					OR = {
						state = 350
						state = 352
						state = 354
						state = 1000
					}
				}
				KDR = {
					add_state_core = PREV
					transfer_state = PREV
				}
			}
			if = {
				limit = { country_exists = KDR }
				KDR = {
					add_ideas = KDR_Religious_Fevour
					add_ideas = KDR_Irregular_Army
					KDR_spawn_revolt_units = yes
					declare_war_on = {
						target = OTT
						type = annex_everything
					}
					set_province_controller = 940
					set_province_controller = 981
					set_province_controller = 11907
					set_province_controller = 3862
					set_province_controller = 3807
					set_province_controller = 3890
					set_province_controller = 7530
					set_province_controller = 7620
					set_province_controller = 9860
					set_province_controller = 11739
					set_province_controller = 11759
					set_province_controller = 13745
					if = {
						limit = { country_exists = KUR }
						declare_war_on = {
							target = KUR
							type = annex_everything
						}
					}
				}
				set_province_controller = 4583
				set_province_controller = 9858
				set_province_controller = 9868
				set_province_controller = 10472
				set_province_controller = 11853
				set_province_controller = 12476
				set_province_controller = 13672
			}

			### Kurdistan
			if = {
				limit = {
					NOT = { country_exists = KUR }
					any_owned_state = { is_core_of = KUR }
				}
				every_owned_state = {
					limit = { is_core_of = KUR }
					transfer_state_to = KUR
				}
				KUR = {
					division_template = {
						name = "Militia"
						division_names_group = SYR_INF_01
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
						}
						template_counter = 68
					}
					819 = {
						create_unit = {
							division = "name = \"Rebels\" division_template = \"Militia\" start_experience_factor = 0.0"
							owner = KUR
						}
						create_unit = {
							division = "name = \"Rebels\" division_template = \"Militia\" start_experience_factor = 0.0"
							owner = KUR
						}
					}
					declare_war_on = {
						target = OTT
						type = annex_everything
					}
					if = {
						limit = { country_exists = KDR }
						declare_war_on = {
							target = KDR
							type = annex_everything
						}
					}
				}
			}

			### Hejaz
			if = {
				limit = {
					NOT = { country_exists = HEJ }
					any_owned_state = { is_core_of = HEJ }
				}
				every_owned_state = {
					limit = { is_core_of = HEJ }
					transfer_state_to = HEJ
				}
				HEJ = {
					load_oob = HEJ_initial
					declare_war_on = {
						target = OTT
						type = annex_everything
					}
				}
			}

			### Tripolitania
			if = {
				limit = {
					NOT = { country_exists = TRP }
					any_owned_state = { is_core_of = TRP }
				}
				every_owned_state = {
					limit = { is_core_of = TRP }
					transfer_state_to = TRP
				}
				TRP = {
					load_oob = TRP
					set_politics = {
						ruling_party = social_democrat
						elections_allowed = no
					}
					declare_war_on = {
						target = OTT
						type = annex_everything
					}
				}
			}

			### Libya
			if = {
				limit = {
					owns_state = 663
					NOT = { country_exists = LBA }
				}
				every_owned_state = {
					limit = { is_core_of = LBA }
					transfer_state_to = LBA
				}
				LBA = {
					load_oob = LBA
					set_politics = {
						ruling_party = national_populist
						elections_allowed = no
					}
					declare_war_on = {
						target = OTT
						type = annex_everything
					}
				}
			}

			### Cyprus
			if = {
				limit = {
					owns_state = 183
					NOT = { country_exists = CYP }
				}
				every_owned_state = {
					limit = {
						OR = {
							is_core_of = GRE
							is_core_of = CYP
						}
					}
					transfer_state_to = CYP
				}
				CYP = {
					load_oob = CYP
					declare_war_on = {
						target = OTT
						type = annex_everything
					}
				}
			}

			### Yemen
			if = {
				limit = {
					NOT = { country_exists = YEM }
					any_owned_state = { is_core_of = YEM }
				}
				set_country_flag = YEM_CONQ
				every_owned_state = {
					limit = { is_core_of = YEM }
					transfer_state_to = YEM
				}
				YEM = {
					load_oob = YEM
					declare_war_on = {
						target = OTT
						type = annex_everything
					}
				}
			}
			if = {
				limit = {
					country_exists = YEM
					owns_state = 981
					owns_state = 752
					owns_state = 659
				}
				YEM = {
					add_state_core = 981
					add_state_core = 752
					add_state_core = 659
					transfer_state = 981
					transfer_state = 752
					transfer_state = 659
				}
			}
			### Arabia
			if = {
				limit = {
					NOT = {
						country_exists = SAU
						country_exists = JBS
					}
					any_owned_state = {
						OR = {
							is_core_of = SAU
							is_core_of = JBS
						}
					}
				}
				every_owned_state = {
					limit = {
						OR = {
							is_core_of = SAU
							is_core_of = JBS
						}
					}
					transfer_state_to = SAU
				}
				SAU = {
					SAU_saud_bin_abdulaziz_al_saud = {
						if = {
							limit = { has_ideology = paternal_autocrat_subtype }
							promote_character = paternal_autocrat_subtype
						}
						else = {
							add_country_leader_role = {
								country_leader = { ideology = paternal_autocrat_subtype }
								promote_leader = yes
							}
						}
					}
					division_template = {
						name = "Saudi Loyalists"
						division_names_group = SAU_CAV_01
						is_locked = no
						regiments = {
							cavalry = { x = 0 y = 0 }
							cavalry = { x = 0 y = 1 }
							cavalry = { x = 1 y = 0 }
							cavalry = { x = 1 y = 1 }
						}
					}
					random_owned_controlled_state = {
						create_unit = {
							division = "name = \"Duwasir\" division_template = \"Saudi Loyalists\" start_experience_factor = 0.3"
							allow_spawning_on_enemy_provs = yes
							owner = PREV
						}
						create_unit = {
							division = "name = \"Duwasir\" division_template = \"Saudi Loyalists\" start_experience_factor = 0.3"
							allow_spawning_on_enemy_provs = yes
							owner = PREV
						}
						create_unit = {
							division = "name = \"Duwasir\" division_template = \"Saudi Loyalists\" start_experience_factor = 0.3"
							allow_spawning_on_enemy_provs = yes
							owner = PREV
						}
						create_unit = {
							division = "name = \"Duwasir\" division_template = \"Saudi Loyalists\" start_experience_factor = 0.3"
							allow_spawning_on_enemy_provs = yes
							owner = PREV
						}
					}
					declare_war_on = {
						target = OTT
						type = annex_everything
					}
				}
			}

			### Oman
			if = {
				limit = {
					owns_state = 294
					NOT = { country_exists = OMA }
				}
				every_owned_state = {
					limit = { is_core_of = OMA }
					transfer_state_to = OMA
				}
				OMA = {
					load_oob = OMA
					declare_war_on = {
						target = OTT
						type = annex_everything
					}
				}
			}

			### Egypt
			if = {
				limit = {
					owns_state = 446 #Cairo
					NOT = { country_exists = EGY }
				}
				every_owned_state = {
					limit = { is_core_of = EGY }
					transfer_state_to = EGY
				}
				EGY = {
					drop_cosmetic_tag = yes
					add_country_leader_role = {
						character = EGY_mohammed_naguib
						country_leader = {
							ideology = authoritarian_democrat_subtype
						}
						promote_leader = yes
					}
					set_politics = {
						ruling_party = authoritarian_democrat
						elections_allowed = no
					}
					load_oob = EGY
					declare_war_on = {
						target = OTT
						type = annex_everything
					}
				}
			}

			### Persia
			if = {
				limit = {
					owns_state = 266
					NOT = { country_exists = PER }
				}
				every_owned_state = {
					limit = { is_core_of = PER }
					transfer_state_to = PER
				}
				PER = {
					promote_character = {
						character = PER_reza_khan
						ideology = authoritarian_democrat_subtype
					}
					promote_character = {
						character = PER_reza_khan
						ideology = paternal_autocrat_subtype
					}
					set_politics = {
						ruling_party = paternal_autocrat
						elections_allowed = no
					}
					load_oob = PER
					declare_war_on = {
						target = OTT
						type = annex_everything
					}
				}
			}
			if = {
				limit = {
					owns_state = 419
					owns_state = 413
					PER = { owns_state = 266 }
				}
				PER = {
					add_state_core = 419
					add_state_core = 413
					transfer_state = 419
					transfer_state = 413
				}
			}
			### Faction
			EGY = {
				if = {
					limit = { is_faction_leader = no }
					create_faction = cairo_pact
				}
			}
			every_enemy_country = {
				limit = {
					OR = {
						tag = LEB
						tag = IRQ
						tag = HEJ
						tag = SYR
						tag = IRQ
						tag = EGY
						tag = LBA
						tag = TRP
						tag = TRU
						tag = JBS
					}
				}
				EGY = { add_to_faction = PREV }
			}

			### Removing part of the army
			disband_twenty_percent_units = yes
			disband_twenty_percent_units = yes

			### Teleporting troops
			every_state = {
				teleport_armies = {
					limit = { tag = OTT }
					to_state_array = owned_controlled_states
				}
			}

			### Calling in the neighbours
			every_country = {
				limit = {
					OR = {
						tag = GRE
						tag = BUL
						tag = PER
						tag = GEO
						tag = SAU
						tag = JBS
						tag = LBA
						tag = YEM
					}
					can_declare_war_on = ROOT
					is_valid_peace_target = yes
					NOT = {
						AND = {
							is_in_faction = yes
							faction_leader = { is_actual_major = yes }
						}
					}
				}
				country_event = { id = ottfor.93 days = 5 }
			}
		}
	}
}

shared_focus = {
	id = OTT_A_New_State
	icon = GFX_goal_generic_revolutionary_government
	cost = 8

	relative_position_id = OTT_Committee_Inquest
	x = -1
	y = 3

	available = {
		has_government = national_populist
		NOT = { has_war = yes }
	}

	prerequisite = {
		focus = OTT_Union_Party_State
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_A_New_State"
		add_ideas = ott_welfare_state
		add_popularity = {
			ideology = national_populist
			popularity = 0.1
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.1
		}
	}
}

shared_focus = {
	id = OTT_Turn_Towards_Etatism
	icon = GFX_focus_generic_authoritarian_government
	cost = 8

	relative_position_id = OTT_Committee_Inquest
	x = 1
	y = 3

	available = {
		has_government = national_populist
		NOT = { has_war = yes }
	}

	prerequisite = {
		focus = OTT_Union_Party_State
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Turn_Towards_Etatism"
		swap_ideas = {
			remove_idea = ott_basic_industries
			add_idea = ott_defence_etatism
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.1
		}
	}
}

shared_focus = {
	id = OTT_Achieve_the_Classless_society
	icon = GFX_goal_NFA_protective_inequality
	cost = 8

	relative_position_id = OTT_Committee_Inquest
	x = 1
	y = 4

	available = {
		has_government = national_populist
		NOT = { has_war = yes }
	}

	prerequisite = {
		focus = OTT_A_New_State
	}
	prerequisite = {
		focus = OTT_Turn_Towards_Etatism
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Achieve_the_Classless_society"
		add_ideas = TUR_classless_society_idea
	}
}

shared_focus = {
	id = OTT_Socialist_Biased_Neutrality
	icon = GFX_Socialist_Law
	cost = 8

	relative_position_id = OTT_Committee_Inquest
	x = -1
	y = 4

	available = {
		has_government = national_populist
		NOT = { has_war = yes }
	}

	prerequisite = {
		focus = OTT_A_New_State
	}
	prerequisite = {
		focus = OTT_Turn_Towards_Etatism
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Socialist_Biased_Neutrality"
		swap_ideas = {
			remove_idea = ott_armed_neutrality
			add_idea = ott_biased_neutrality
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.10
		}
	}
}

shared_focus = {
	id = OTT_Solidarism_Between_People
	icon = GFX_focus_generic_befriend_turkey
	cost = 8

	relative_position_id = OTT_Committee_Inquest
	x = 0
	y = 5

	available = {
		has_government = national_populist
		NOT = { has_war = yes }
	}

	prerequisite = {
		focus = OTT_Socialist_Biased_Neutrality
	}
	prerequisite = {
		focus = OTT_Achieve_the_Classless_society
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Solidarism_Between_People"
		add_stability = 0.10
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		every_owned_state = {
			ott_decrease_revolt_risk = yes
		}
	}
}

shared_focus = {
	id = OTT_Break_Up_State_Monopolies_FEV
	icon = GFX_goal_generic_privatization
	cost = 8

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = 1
	y = 1

	available = {
		NOT = {
			OR = {
				has_completed_focus = OTT_Years_of_Progress
				has_idea = ott_private_initiative
			}
		}
	}

	prerequisite = {
		focus = OTT_Enshrine_Endeavour_Front
	}

	mutually_exclusive = {
		focus = OTT_Centralise_State_Authority
	}

	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			OR = {
				has_game_rule = { rule = OTT_path option = OTT_PATH_ENDEAVOUR_AUTDEM }
				has_game_rule = { rule = OTT_path option = OTT_PATH_NATPOP }
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Break_Up_State_Monopolies_FEV"
		set_politics = {
			ruling_party = market_liberal
			elections_allowed = no
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.1
		}
		mark_focus_tree_layout_dirty = yes
		custom_effect_tooltip = tooltip_white_line
		country_event = ottsab.10
		add_ideas = ott_broken_monopolies
		set_country_flag = centralist_DF
		hidden_effect = {
			activate_advisor = TUR_musa_kazim_karabekir_sic
			set_temp_variable = { coalition_partner_var = token:market_liberal }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:authoritarian_democrat }
			add_to_coalition = yes
			add_to_variable = {
				var = irq_integration_factor
				value = 10
			}
			clamp_variable = {
				var = irq_integration_factor
				min = 0
				max = 100
			}
			add_to_variable = {
				var = gre_integration_factor
				value = 10
			}
			clamp_variable = {
				var = gre_integration_factor
				min = 0
				max = 100
			}
			add_to_variable = {
				var = ara_integration_factor
				value = 5
			}
			clamp_variable = {
				var = ara_integration_factor
				min = 0
				max = 100
			}
		}
	}
}

shared_focus = {
	id = OTT_Encourage_Private_Initiative_FEV
	icon = GFX_goal_DOM_End_Judicial_Corruption
	cost = 8

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = 2
	y = 2

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
		has_idea = ott_broken_monopolies
	}

	prerequisite = {
		focus = OTT_Break_Up_State_Monopolies_FEV
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Encourage_Private_Initiative_FEV"
		swap_ideas = {
			remove_idea = ott_broken_monopolies
			add_idea = ott_private_initiative
		}
	}
}

shared_focus = {
	id = OTT_Multi_Level_Democracy_FEV
	icon = GFX_goal_KTG_Elections
	cost = 8

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = 2
	y = 4

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
	}

	prerequisite = {
		focus = OTT_Encourage_Private_Initiative_FEV
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Multi_Level_Democracy_FEV"
		every_owned_state = {
			ott_decrease_revolt_risk = yes
		}
		set_temp_variable = { ideology_change_var = 0.1 }
		change_ruling_party_popularity = yes
		add_ideas = ott_bloated_administration
		custom_effect_tooltip = tooltip_white_line
		unlock_decision_tooltip = OTT_GRE_Crack_Down_Tax_Havens
	}
}

shared_focus = {
	id = OTT_Imperial_Literacy_FEV
	icon = GFX_focus_research2
	cost = 8

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = 1
	y = 3

	available = {
		has_idea = ott_widespread_illiteracy_fevzi
	}

	prerequisite = {
		focus = OTT_Break_Up_State_Monopolies_FEV
	}

	mutually_exclusive = {
		focus = OTT_Millet_Mektepleri_FEV
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Imperial_Literacy_FEV"
		remove_ideas = ott_widespread_illiteracy_fevzi
		hidden_effect = {
			country_event = { id = ottsab.34 days = 70 }
			country_event = { id = ottfla.9 days = 45 }
		}
	}
}

shared_focus = {
	id = OTT_Dismantle_Endeavour_Front
	icon = GFX_focus_generic_befriend_turkey
	cost = 8

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = 0
	y = 5

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = market_liberal
			has_government = social_liberal
		}
	}

	prerequisite = {
		focus = OTT_Vilayet_Reorganisation
		focus = OTT_Multi_Level_Democracy_FEV
	}
	prerequisite = {
		focus = OTT_Disband_Trials_Progress
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Dismantle_Endeavour_Front"
		remove_ideas = ott_endeavour_front
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.04
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.02
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.04
		}
		end_coalition = yes
		set_party_name = {
			ideology = authoritarian_democrat
			name = TUR_authoritarian_democrat_party
			long_name = TUR_authoritarian_democrat_party_long
		}
		set_party_name = {
			ideology = market_liberal
			name = TUR_market_liberal_party
			long_name = TUR_market_liberal_party_long
		}
	}
}

shared_focus = {
	id = OTT_Enshrine_Principles_People
	icon = GFX_focus_TUR_ratify_the_six_arrows
	cost = 8

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = -1
	y = 6

	available = {
		has_government = authoritarian_democrat
	}

	prerequisite = {
		focus = OTT_Dismantle_Endeavour_Front
	}

	mutually_exclusive = {
		focus = OTT_Statutes_of_Autonomy_FEV
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Enshrine_Principles_People"
		add_popularity = {
			popularity = 0.10
			ideology = authoritarian_democrat
		}
		add_ideas = ott_principles_people
		every_owned_state = {
			limit = { OTT_is_vilayet = yes }
			ott_decrease_revolt_risk = yes
		}
	}
}

shared_focus = {
	id = OTT_Statutes_of_Autonomy_FEV
	icon = GFX_goal_OTT_constitution
	cost = 8

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = 1
	y = 6

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
	}

	prerequisite = {
		focus = OTT_Dismantle_Endeavour_Front
	}

	mutually_exclusive = {
		focus = OTT_Enshrine_Principles_People
	}

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Statutes_of_Autonomy_FEV"
		add_popularity = {
			popularity = 0.10
			ideology = market_liberal
		}
		add_ideas = ott_statutes_of_autonomy_fev
		remove_ideas = ott_bloated_administration
		every_owned_state = {
			limit = { OTT_is_autonomous_region = yes }
			ott_decrease_revolt_risk = yes
		}
	}
}

shared_focus = {
	id = OTT_Join_Reichspakt_Fevzi
	icon = GFX_focus_ger_return_of_the_kaiser
	cost = 2

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = -1
	y = 7

	available = {
		is_subject = no
		is_in_faction = no
		GER = {
			is_faction_leader = yes
			NOT = { has_war_with = ROOT }
		}
		OTT_cairo_pact_defeated = yes
		NOT = {
			has_global_flag = RUSSIAN_OTTOMAN_DEAL
		}
	}

	prerequisite = {
		focus = OTT_Statutes_of_Autonomy_FEV
		focus = OTT_Enshrine_Principles_People
	}

	mutually_exclusive = {
		focus = OTT_Join_Entente_Fevzi
		focus = OTT_Join_Copro_Fevzi
	}

	ai_will_do = {
		factor = 0
		modifier = {
			add = 1000
			OR = {
				has_defensive_war = yes
				var:219.owner = {
					has_war_with = GER
					surrender_progress > 0.3
				}
				has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_GER }
			}
			NOT = { has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_ENT } }
		}
	}

	available_if_capitulated = yes

	bypass = {
		is_in_faction_with = GER
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Join_Reichspakt_Fevzi"
		GER = {
			country_event = ottfor.27
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			remove_ideas = ott_armed_neutrality
			GER = { add_to_faction = PREV }
		}
	}
}

shared_focus = {
	id = OTT_Join_Entente_Fevzi
	icon = GFX_focus_chi_mission_to_the_us
	cost = 2

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = 1
	y = 7

	available = {
		is_subject = no
		is_in_faction = no
		ENT = {
			is_faction_leader = yes
			NOT = { has_war_with = ROOT }
			is_in_faction_with = 361.owner
		}
		at_peace_or_same_enemies_as_ENT = yes
		OTT_cairo_pact_defeated = yes
		NOT = {
			has_global_flag = RUSSIAN_OTTOMAN_DEAL
		}
	}

	allow_branch = {
		NOT = {
			JAP = {
				is_faction_leader = yes
				is_in_faction_with = 361.owner
			}
		}
	}

	prerequisite = {
		focus = OTT_Statutes_of_Autonomy_FEV
	}

	mutually_exclusive = {
		focus = OTT_Join_Reichspakt_Fevzi
	}

	ai_will_do = { factor = 1000 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Join_Entente_Fevzi"
		ENT = {
			country_event = ottfor.29
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			remove_ideas = ott_armed_neutrality
			ENT = { add_to_faction = PREV }
		}
	}
}

shared_focus = {
	id = OTT_Join_Copro_Fevzi
	icon = GFX_goal_JAP_tokyo_conf
	cost = 2

	relative_position_id = OTT_Enshrine_Endeavour_Front
	x = 1
	y = 7

	available = {
		is_subject = no
		is_in_faction = no
		JAP = {
			is_faction_leader = yes
			NOT = { has_war_with = ROOT }
			is_in_faction_with = 361.owner
		}
		at_peace_or_same_enemies_as_JAP = yes
		OTT_cairo_pact_defeated = yes
		NOT = {
			has_global_flag = RUSSIAN_OTTOMAN_DEAL
		}
	}

	allow_branch = {
		JAP = {
			is_faction_leader = yes
			is_in_faction_with = 361.owner
		}
	}

	prerequisite = {
		focus = OTT_Statutes_of_Autonomy_FEV
	}

	mutually_exclusive = {
		focus = OTT_Join_Reichspakt_Fevzi
	}

	ai_will_do = { factor = 1000 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Join_Copro_Fevzi"
		JAP = {
			country_event = ottfor.291
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			remove_ideas = ott_armed_neutrality
			JAP = { add_to_faction = PREV }
		}
	}
}

###################
# SABAHATTIN TREE #
###################

focus_tree = {
	id = ottoman_sabahattin_focus

	country = {
		factor = 0
	}

	default = no
	continuous_focus_position = { x = 0 y = 1600 }

	shared_focus = OTT_ottoman_army
	shared_focus = OTT_Grand_Vizier_Sabahattin
	shared_focus = OTT_Renovate_Sublime_Porte
	shared_focus = OTT_Grand_Vizier_Arslan
	shared_focus = OTT_Raise_Import_Tariffs_lib

}

	#################################################
	# COMMUNISM BUT WITH ALL COMMUNISTS ARISTOCRATS #
	#################################################

shared_focus = {
	id = OTT_Grand_Vizier_Sabahattin
	icon = GFX_goal_ideology_social_liberal
	cost = 5

	x = 4
	y = 0

	available = {
		always = no
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Grand_Vizier_Sabahattin"
		add_popularity = {
			ideology = social_liberal
			popularity = 0.05
		}
	}
}

shared_focus = {
	id = OTT_Reform_the_Gendarmerie
	icon = GFX_goal_OTT_gendarmerie
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Sabahattin
	x = -2
	y = 1

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
	}

	prerequisite = {
		focus = OTT_Grand_Vizier_Sabahattin
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESISTANCE }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Reform_the_Gendarmerie"
		add_ideas = ott_gendarmerie_idea
		country_event = ottsab.2
	}
}

shared_focus = {
	id = OTT_Break_Up_State_Monopolies
	icon = GFX_goal_foreign_diplomacy
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Sabahattin
	x = -1
	y = 2

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
	}

	prerequisite = {
		focus = OTT_Grand_Vizier_Sabahattin
	}

	ai_will_do = { factor = 300 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Break_Up_State_Monopolies"
		if = {
			limit = {
				check_variable = {
					representatives_support < 125
				}
			}
			custom_effect_tooltip = ott_small_support_congress_deficit_tt

			set_temp_variable = { OTT_pp_loss = 125 }
			subtract_from_temp_variable = { OTT_pp_loss = representatives_support }
			multiply_temp_variable = { OTT_pp_loss = -1 }
			add_political_power = OTT_pp_loss

			set_temp_variable = { OTT_stab_loss = 125 }
			subtract_from_temp_variable = { OTT_stab_loss = representatives_support }
			multiply_temp_variable = { OTT_stab_loss = -0.003 }
			add_stability = OTT_stab_loss

			custom_effect_tooltip = tooltip_white_line
		}

		country_event = ottsab.10
		add_ideas = ott_broken_monopolies

		if = {
			limit = {
				OTT_has_centralist_government = no
				NOT = { has_government = social_conservative }
			}
			### Return Turkish nationalist votes to opposition
			custom_effect_tooltip = 60_nat_tur_opp_tt
			add_to_variable = { nat_tur_opp_deputies = 60 }
			subtract_from_variable = { nat_tur_sup_deputies = 60 }
			clamp_variable = {
				var = nat_tur_opp_deputies
				min = 0
				max = nat_tur_deputies
			}
			clamp_variable = {
				var = nat_tur_sup_deputies
				min = 0
				max = nat_tur_deputies
			}
				### Calculate coalition strength
			OTT_calc_coalition_strength = yes
		}
	}
}

shared_focus = {
	id = OTT_Encourage_Private_Initiative
	icon = GFX_goal_OTT_Tithe
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Sabahattin
	x = -1
	y = 4

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
		has_idea = ott_broken_monopolies
	}

	prerequisite = {
		focus = OTT_Break_Up_State_Monopolies
	}

	ai_will_do = { factor = 300 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_PRODUCTION FOCUS_FILTER_RESEARCH }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Encourage_Private_Initiative"
		swap_ideas = {
			remove_idea = ott_broken_monopolies
			add_idea = ott_private_initiative
		}
	}
}

shared_focus = {
	id = OTT_Multi_Level_Democracy
	icon = GFX_goal_KTG_Elections
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Sabahattin
	x = 0
	y = 1

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
	}

	prerequisite = {
		focus = OTT_Grand_Vizier_Sabahattin
	}

	ai_will_do = { factor = 300 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_POLITICAL }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Multi_Level_Democracy"
		country_event = ottsab.4
		every_owned_state = {
			ott_decrease_revolt_risk = yes
		}
		set_temp_variable = { ideology_change_var = 0.1 }
		change_ruling_party_popularity = yes
		add_ideas = ott_bloated_administration
	}
}

shared_focus = {
	id = OTT_Shift_Power_to_the_Provincial_Assembly
	icon = GFX_goal_generic_parliament2
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Sabahattin
	x = 0
	y = 3

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
	}

	prerequisite = {
		focus = OTT_Multi_Level_Democracy
	}

	ai_will_do = { factor = 300 }

	continue_if_invalid = yes
	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Shift_Power_to_the_Provincial_Assembly"
		if = {
			limit = {
				check_variable = {
					representatives_support < 250
				}
			}
			custom_effect_tooltip = ott_plurality_congress_deficit_tt

			set_temp_variable = { OTT_pp_loss = 250 }
			subtract_from_temp_variable = { OTT_pp_loss = representatives_support }
			multiply_temp_variable = { OTT_pp_loss = -1 }
			add_political_power = OTT_pp_loss

			set_temp_variable = { OTT_stab_loss = 250 }
			subtract_from_temp_variable = { OTT_stab_loss = representatives_support }
			multiply_temp_variable = { OTT_stab_loss = -0.003 }
			add_stability = OTT_stab_loss

			custom_effect_tooltip = tooltip_white_line
		}

		country_event = ottsab.15
		every_owned_state = {
			limit = {
				OTT_is_ottoman_province = no
				NOT = { is_core_of = TRU }
				NOT = { is_core_of = ARM }
			}
			ott_set_authority_vilayet_medium = yes
		}
		every_owned_state = {
			limit = {
				OTT_is_ottoman_province = yes
				NOT = { state = 773 } #Constantinople
			}
			custom_effect_tooltip = ott_authority_medium_downgrade
			hidden_effect = { ott_set_authority_vilayet_medium = yes }
		}
		hidden_effect = {
			country_event = { id = ottsab.32 days = 60 }
		}
		custom_effect_tooltip = tooltip_white_line
		every_owned_state = {
			ott_decrease_revolt_risk = yes
		}
	}
}

shared_focus = {
	id = OTT_Revise_the_Mecelle
	icon = GFX_goal_OTT_Muslim_Relations
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Sabahattin
	x = 1
	y = 2

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
	}

	prerequisite = {
		focus = OTT_Grand_Vizier_Sabahattin
	}

	ai_will_do = { factor = 300 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Revise_the_Mecelle"
		if = {
			limit = {
				check_variable = {
					representatives_support < 125
				}
			}
			custom_effect_tooltip = ott_small_support_congress_deficit_tt

			set_temp_variable = { OTT_pp_loss = 125 }
			subtract_from_temp_variable = { OTT_pp_loss = representatives_support }
			multiply_temp_variable = { OTT_pp_loss = -1 }
			add_political_power = OTT_pp_loss

			set_temp_variable = { OTT_stab_loss = 125 }
			subtract_from_temp_variable = { OTT_stab_loss = representatives_support }
			multiply_temp_variable = { OTT_stab_loss = -0.003 }
			add_stability = OTT_stab_loss

			custom_effect_tooltip = tooltip_white_line
		}

		country_event = ottsab.9

		### Return Conservative votes to opposition
		if = {
			limit = {
				OTT_has_centralist_government = no
				NOT = { has_government = social_conservative }
			}
			custom_effect_tooltip = 30_con_opp_tt
			add_to_variable = { con_opp_deputies = 30 }
			subtract_from_variable = { con_sup_deputies = 30 }
			clamp_variable = {
				var = con_opp_deputies
				min = 0
				max = con_deputies
			}
			clamp_variable = {
				var = con_sup_deputies
				min = 0
				max = con_deputies
			}
			### Calculate coalition strength
			OTT_calc_coalition_strength = yes
		}
	}
}

shared_focus = {
	id = OTT_Equality_before_the_Law
	icon = GFX_goal_OTT_Population_Exchange
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Sabahattin
	x = 1
	y = 4

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
	}

	prerequisite = {
		focus = OTT_Revise_the_Mecelle
	}

	ai_will_do = { factor = 300 }

	available_if_capitulated = yes

	bypass = {
		OR = {
			has_country_flag = mecelle_kept
			has_country_flag = retarded_legal_system
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Equality_before_the_Law"
		341 = {
			ott_decrease_revolt_risk = yes
		}
		773 = {
			ott_decrease_revolt_risk = yes
		}
		340 = {
			ott_decrease_revolt_risk = yes
		}
		339 = {
			ott_decrease_revolt_risk = yes
		}
		183 = {
			ott_decrease_revolt_risk = yes
		}
		164 = {
			ott_decrease_revolt_risk = yes
		}
		187 = {
			ott_decrease_revolt_risk = yes
		}

			### Return Conservative votes to opposition
		if = {
			limit = {
				OTT_has_centralist_government = no
				NOT = { has_government = social_conservative }
			}
			custom_effect_tooltip = 30_con_opp_tt
			add_to_variable = { con_opp_deputies = 30 }
			subtract_from_variable = { con_sup_deputies = 30 }
			clamp_variable = {
				var = con_opp_deputies
				min = 0
				max = con_deputies
			}
			clamp_variable = {
				var = con_sup_deputies
				min = 0
				max = con_deputies
			}
				### Calculate coalition strength
			OTT_calc_coalition_strength = yes
		}
	}
}

shared_focus = {
	id = OTT_Distribute_Miri_Land
	icon = GFX_goal_OTT_Land_Reform
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Sabahattin
	x = 2
	y = 1

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
	}

	prerequisite = {
		focus = OTT_Grand_Vizier_Sabahattin
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Distribute_Miri_Land"
		add_timed_idea = {
			idea = ott_miri_land_distribution
			days = 100
		}

			### Return Conservative votes to opposition
		custom_effect_tooltip = 30_con_opp_tt
		add_to_variable = { con_opp_deputies = 30 }
		subtract_from_variable = { con_sup_deputies = 30 }
		clamp_variable = {
			var = con_opp_deputies
			min = 0
			max = con_deputies
		}
		clamp_variable = {
			var = con_sup_deputies
			min = 0
			max = con_deputies
		}

			### Add Arab Nationalist votes in favour
		if = {
			limit = {
				OTT_has_centralist_government = no
				NOT = { has_government = social_conservative }
			}
			custom_effect_tooltip = 60_nat_ara_sup_tt
			add_to_variable = { nat_ara_sup_deputies = 60 }
			subtract_from_variable = { nat_ara_opp_deputies = 60 }
			clamp_variable = {
				var = nat_ara_opp_deputies
				min = 0
				max = nat_ara_deputies
			}
			clamp_variable = {
				var = nat_ara_sup_deputies
				min = 0
				max = nat_ara_deputies
			}

				### Calculate coalition strength
			OTT_calc_coalition_strength = yes
		}
		hidden_effect = {
			country_event = { id = ottsab.33 days = 200 }
		}
	}
}

shared_focus = {
	id = OTT_Repeal_Unification_Law
	icon = GFX_goal_treaty_fails
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Sabahattin
	x = 0
	y = 5

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
	}

	prerequisite = {
		focus = OTT_Equality_before_the_Law
	}
	prerequisite = {
		focus = OTT_Encourage_Private_Initiative
	}
	prerequisite = {
		focus = OTT_Shift_Power_to_the_Provincial_Assembly
	}

	ai_will_do = {
		factor = 500
		modifier = {
			factor = 0
			has_game_rule = { rule = OTT_path option = OTT_PATH_SOCCON }
		}
	}

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INTERNAL_AFFAIRS }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Repeal_Unification_Law"
		if = {
			limit = {
				check_variable = {
					representatives_support < 250
				}
			}
			custom_effect_tooltip = ott_plurality_congress_deficit_tt

			set_temp_variable = { OTT_pp_loss = 250 }
			subtract_from_temp_variable = { OTT_pp_loss = representatives_support }
			multiply_temp_variable = { OTT_pp_loss = -1 }
			add_political_power = OTT_pp_loss

			set_temp_variable = { OTT_stab_loss = 250 }
			subtract_from_temp_variable = { OTT_stab_loss = representatives_support }
			multiply_temp_variable = { OTT_stab_loss = -0.003 }
			add_stability = OTT_stab_loss

			custom_effect_tooltip = tooltip_white_line
		}

		country_event = ottsab.23

		add_stability = -0.10
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = -0.10
		}

			### Add Conservative votes in favour
		custom_effect_tooltip = 60_con_sup_tt
		add_to_variable = { con_sup_deputies = 60 }
		subtract_from_variable = { con_opp_deputies = 60 }
		clamp_variable = {
			var = con_opp_deputies
			min = 0
			max = con_deputies
		}
		clamp_variable = {
			var = con_sup_deputies
			min = 0
			max = con_deputies
		}

		### Add Arab Nationalist votes in favour
		if = {
			limit = {
				OTT_has_centralist_government = no
				NOT = { has_government = social_conservative }
			}
			custom_effect_tooltip = 40_nat_ara_sup_tt
			add_to_variable = { nat_ara_sup_deputies = 40 }
			subtract_from_variable = { nat_ara_opp_deputies = 40 }
			clamp_variable = {
				var = nat_ara_opp_deputies
				min = 0
				max = nat_ara_deputies
			}
			clamp_variable = {
				var = nat_ara_sup_deputies
				min = 0
				max = nat_ara_deputies
			}

				### Calculate coalition strength
			OTT_calc_coalition_strength = yes
		}
	}
}

shared_focus = {
	id = OTT_Abolish_Senate
	icon = GFX_goal_OTT_Tribunals_of_Progress
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Sabahattin
	x = -2
	y = 6

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
		has_idea = ott_bloated_administration
	}

	prerequisite = {
		focus = OTT_Repeal_Unification_Law
	}

	ai_will_do = { factor = 2500 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Abolish_Senate"
		if = {
			limit = {
				check_variable = {
					representatives_support < 250
				}
			}
			custom_effect_tooltip = ott_plurality_congress_deficit_tt

			set_temp_variable = { OTT_pp_loss = 250 }
			subtract_from_temp_variable = { OTT_pp_loss = representatives_support }
			multiply_temp_variable = { OTT_pp_loss = -1 }
			add_political_power = OTT_pp_loss

			set_temp_variable = { OTT_stab_loss = 250 }
			subtract_from_temp_variable = { OTT_stab_loss = representatives_support }
			multiply_temp_variable = { OTT_stab_loss = -0.003 }
			add_stability = OTT_stab_loss

			custom_effect_tooltip = tooltip_white_line
		}

		country_event = ottsab.13
		remove_ideas = ott_bloated_administration
	}
}

shared_focus = {
	id = OTT_Imperial_Literacy_Campaign
	icon = GFX_goal_KTG_Educate_natives
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Sabahattin
	x = 0
	y = 6

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
		has_idea = ott_widespread_illiteracy
	}

	prerequisite = {
		focus = OTT_Repeal_Unification_Law
	}

	ai_will_do = { factor = 300 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_RESEARCH }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Imperial_Literacy_Campaign"
		swap_ideas = {
			remove_idea = ott_widespread_illiteracy
			add_idea = ott_widespread_illiteracy_liberal
		}
		hidden_effect = {
			country_event = { id = ottsab.34 days = 70 }
			country_event = { id = ottsab.35 days = 300 }
			country_event = { id = ottfla.9 days = 45 }
		}
	}
}

shared_focus = {
	id = OTT_Revise_Millet
	icon = GFX_goal_OTT_caliph
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Sabahattin
	x = 2
	y = 6

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
		NOT = {
			has_country_flag = mecelle_kept
			has_country_flag = retarded_legal_system
			has_country_flag = expanded_millets
		}
	}

	prerequisite = {
		focus = OTT_Repeal_Unification_Law
	}

	ai_will_do = { factor = 300 }

	available_if_capitulated = yes

	bypass = {
		OR = {
			has_country_flag = mecelle_kept
			has_country_flag = retarded_legal_system
			has_country_flag = expanded_millets
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Revise_Millet"
		country_event = ottsab.16
	}
}

shared_focus = {
	id = OTT_The_Sublime_Federation
	icon = GFX_goal_OTT_Muslim_Solidarity
	cost = 10

	relative_position_id = OTT_Grand_Vizier_Sabahattin
	x = 0
	y = 7

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
	}

	prerequisite = {
		focus = OTT_Abolish_Senate
	}
	prerequisite = {
		focus = OTT_Imperial_Literacy_Campaign
	}
	prerequisite = {
		focus = OTT_Revise_Millet
	}

	ai_will_do = { factor = 500 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_The_Sublime_Federation"
		log = "KR_Event_Logging;OTT FEDERALIST;[GetDateText]"
		if = {
			limit = {
				check_variable = {
					representatives_support < 250
				}
			}
			custom_effect_tooltip = ott_plurality_congress_deficit_tt

			set_temp_variable = { OTT_pp_loss = 250 }
			subtract_from_temp_variable = { OTT_pp_loss = representatives_support }
			multiply_temp_variable = { OTT_pp_loss = -1 }
			add_political_power = OTT_pp_loss

			set_temp_variable = { OTT_stab_loss = 250 }
			subtract_from_temp_variable = { OTT_stab_loss = representatives_support }
			multiply_temp_variable = { OTT_stab_loss = -0.003 }
			add_stability = OTT_stab_loss

			custom_effect_tooltip = tooltip_white_line
		}

		country_event = ottsab.12
		every_owned_state = {
			ott_decrease_revolt_risk = yes
		}
		custom_effect_tooltip = tooltip_white_line
		add_ideas = ott_sublime_federation
		custom_effect_tooltip = tooltip_white_line
		set_cosmetic_tag = TUR_ottoman_federation
		hidden_effect = {
			country_event = { id = ottsab.31 days = 150 }
			news_event = worldnews.437
		}
	}
}

	###########################
	# FOREIGN POLICY LIBERALS #
	###########################

shared_focus = {
	id = OTT_Renovate_Sublime_Porte
	icon = GFX_goal_OTT_Sublime_Porte
	cost = 10

	x = 14
	y = 0

	available = {
		OR = {
			has_government = social_liberal
			has_right_democratic_government = yes
		}
	}

	ai_will_do = { factor = 100 }

	continue_if_invalid = yes

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_POLITICAL }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Renovate_Sublime_Porte"
		if = {
			limit = {
				check_variable = {
					representatives_support < 125
				}
			}
			custom_effect_tooltip = ott_small_support_congress_deficit_tt

			set_temp_variable = { OTT_pp_loss = 125 }
			subtract_from_temp_variable = { OTT_pp_loss = representatives_support }
			multiply_temp_variable = { OTT_pp_loss = -1 }
			add_political_power = OTT_pp_loss

			set_temp_variable = { OTT_stab_loss = 125 }
			subtract_from_temp_variable = { OTT_stab_loss = representatives_support }
			multiply_temp_variable = { OTT_stab_loss = -0.003 }
			add_stability = OTT_stab_loss

			custom_effect_tooltip = tooltip_white_line
		}

		add_political_power = 100
		every_other_country = {
			tooltip = OTT_every_islamic_country
			limit = {
				OR = {
					tag = BOS
					tag = ALB
					tag = LBA
					tag = AZR
					tag = ALO
					tag = AFG
					tag = PRF
					tag = GNA
					tag = MAL
					tag = INS
					tag = SUD
				}
			}
			add_opinion_modifier = { target = ROOT modifier = ott_r_caliph }
			reverse_add_opinion_modifier = { target = ROOT modifier = ott_rr_caliph }
		}
	}
}

shared_focus = {
	id = OTT_Join_Reichspakt
	icon = GFX_focus_ger_return_of_the_kaiser
	cost = 2

	relative_position_id = OTT_Renovate_Sublime_Porte
	x = -1
	y = 1

	available = {
		is_subject = no
		is_in_faction = no
		GER = {
			is_faction_leader = yes
			NOT = { has_war_with = ROOT }
		}
		OTT_cairo_pact_defeated = yes
		NOT = {
			has_global_flag = RUSSIAN_OTTOMAN_DEAL
		}
	}

	prerequisite = {
		focus = OTT_Renovate_Sublime_Porte
	}

	mutually_exclusive = {
		focus = OTT_Join_Entente
		focus = OTT_Join_Copro
	}

	ai_will_do = {
		factor = 0
		modifier = {
			add = 1000
			OR = {
				has_defensive_war = yes
				var:219.owner = {
					has_war_with = GER
					surrender_progress > 0.3
				}
				has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_GER }
			}
			NOT = {
				OR = {
					has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_OTT }
					has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_ENT }
				}
			}
		}
	}

	available_if_capitulated = yes

	bypass = {
		is_in_faction_with = GER
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Join_Reichspakt"
		GER = {
			country_event = ottfor.27
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			remove_ideas = ott_armed_neutrality
			GER = { add_to_faction = PREV }
		}
	}
}

shared_focus = {
	id = OTT_Join_Entente
	icon = GFX_focus_chi_mission_to_the_us
	cost = 2

	relative_position_id = OTT_Renovate_Sublime_Porte
	x = 1
	y = 1

	available = {
		is_subject = no
		is_in_faction = no
		ENT = {
			is_faction_leader = yes
			NOT = { has_war_with = ROOT }
			is_in_faction_with = 361.owner
		}
		at_peace_or_same_enemies_as_ENT = yes
		OTT_cairo_pact_defeated = yes
		NOT = {
			has_global_flag = RUSSIAN_OTTOMAN_DEAL
		}
	}

	allow_branch = {
		NOT = {
			JAP = {
				is_faction_leader = yes
				is_in_faction_with = 361.owner
			}
		}
	}

	prerequisite = {
		focus = OTT_Renovate_Sublime_Porte
	}

	mutually_exclusive = {
		focus = OTT_Join_Reichspakt
	}

	ai_will_do = {
		factor = 1000
		modifier = {
			factor = 0
			OR = {
				has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_GER }
				has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_OTT }
			}
		}
	}

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Join_Entente"
		ENT = {
			country_event = ottfor.29
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			remove_ideas = ott_armed_neutrality
			ENT = { add_to_faction = PREV }
		}
	}
}

shared_focus = {
	id = OTT_Join_Copro
	icon = GFX_goal_JAP_tokyo_conf
	cost = 2

	relative_position_id = OTT_Renovate_Sublime_Porte
	x = 1
	y = 1

	available = {
		is_subject = no
		is_in_faction = no
		JAP = {
			is_faction_leader = yes
			NOT = { has_war_with = ROOT }
			is_in_faction_with = 361.owner
		}
		at_peace_or_same_enemies_as_JAP = yes
		OTT_cairo_pact_defeated = yes
		NOT = {
			has_global_flag = RUSSIAN_OTTOMAN_DEAL
		}
	}

	allow_branch = {
		JAP = {
			is_faction_leader = yes
			is_in_faction_with = 361.owner
		}
	}

	prerequisite = {
		focus = OTT_Renovate_Sublime_Porte
	}

	mutually_exclusive = {
		focus = OTT_Join_Reichspakt
	}

	ai_will_do = {
		factor = 1000
		modifier = {
			factor = 0
			OR = {
				has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_GER }
				has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_OTT }
			}
		}
	}

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Join_Copro"
		JAP = {
			country_event = ottfor.291
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = if_they_accept_tt
		effect_tooltip = {
			remove_ideas = ott_armed_neutrality
			JAP = { add_to_faction = PREV }
		}
	}
}

shared_focus = {
	id = OTT_Interventionism_Middle_East
	icon = GFX_goal_Unite_Arabia
	cost = 5

	relative_position_id = OTT_Renovate_Sublime_Porte
	x = -3
	y = 1

	available = {

	}

	prerequisite = {
		focus = OTT_Renovate_Sublime_Porte
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Interventionism_Middle_East"
		if = {
			limit = {
				check_variable = {
					representatives_support < 250
				}
			}
			custom_effect_tooltip = ott_plurality_congress_deficit_tt

			set_temp_variable = { OTT_pp_loss = 250 }
			subtract_from_temp_variable = { OTT_pp_loss = representatives_support }
			multiply_temp_variable = { OTT_pp_loss = -1 }
			add_political_power = OTT_pp_loss

			set_temp_variable = { OTT_stab_loss = 250 }
			subtract_from_temp_variable = { OTT_stab_loss = representatives_support }
			multiply_temp_variable = { OTT_stab_loss = -0.003 }
			add_stability = OTT_stab_loss

			custom_effect_tooltip = tooltip_white_line
		}

		add_war_support = 0.10
		increase_conscription = yes
		every_country = {
			limit = {
				is_subject_of = OTT
			}
			add_war_support = 0.05
			add_stability = -0.05
		}
	}
}

shared_focus = {
	id = OTT_Support_Maghrebi_Rebels
	icon = GFX_goal_national_arsenal
	cost = 2

	relative_position_id = OTT_Interventionism_Middle_East
	x = -3
	y = 1

	available = {
		NFA = {
			NOT = { is_in_faction_with = ROOT }
			OR = {
				has_war_with = CHA
				has_war_with = MRT
				has_war_with = TUN
				has_war_with = ALG
				has_war_with = MLI
				has_war_with = NGR
			}
		}
		OR = {
			has_war = no
			has_war_with = NFA
		}
		is_subject = no
	}

	prerequisite = {
		focus = OTT_Interventionism_Middle_East
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Support_Maghrebi_Rebels"
		every_other_country = {
			limit = {
				NFA_is_possible_revolter = yes
				has_war_with = NFA
			}
			add_timed_idea = {
				idea = ott_army_training
				days = 150
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 1000
				producer = ROOT
			}
		}
	}
}

shared_focus = {
	id = OTT_Reintegrate_MOJ
	icon = GFX_focus_generic_treaty
	cost = 8

	relative_position_id = OTT_Interventionism_Middle_East
	x = -2
	y = 2

	available = {
		date > 1938.10.01
		has_global_flag = pal_haifa_concluded
	}

	prerequisite = {
		focus = OTT_Interventionism_Middle_East
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_ANNEXATION }

	bypass = {
		owns_state = 454
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Reintegrate_MOJ"
		custom_effect_tooltip = pal_end_moj_tt
		OTT = {
			annex_country = {
				target = PAL
				transfer_troops = no
			}
		}
	}
}

shared_focus = {
	id = OTT_Intervene_Arab_Unification_War
	icon = GFX_goal_hunt_down_saudis
	cost = 4

	relative_position_id = OTT_Interventionism_Middle_East
	x = -1
	y = 1

	available = {
		has_war = no
		SAU = {
			has_war_with = JBS
		}
	}

	prerequisite = {
		focus = OTT_Interventionism_Middle_East
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_ANNEXATION }

	bypass = {
		OR = {
			NOT = { country_exists = SAU }
			NOT = { country_exists = JBS }
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Intervene_Arab_Unification_War"
		if = {
			limit = {
				check_variable = {
					representatives_support < 250
				}
			}
			custom_effect_tooltip = ott_plurality_congress_deficit_tt

			set_temp_variable = { OTT_pp_loss = 250 }
			subtract_from_temp_variable = { OTT_pp_loss = representatives_support }
			multiply_temp_variable = { OTT_pp_loss = -1 }
			add_political_power = OTT_pp_loss

			set_temp_variable = { OTT_stab_loss = 250 }
			subtract_from_temp_variable = { OTT_stab_loss = representatives_support }
			multiply_temp_variable = { OTT_stab_loss = -0.003 }
			add_stability = OTT_stab_loss

			custom_effect_tooltip = tooltip_white_line
		}

		every_other_country = {
			limit = {
				NOT = { is_ally_with = ROOT } #ignore OTT-puppet TRU
				OR = {
					owns_state = 656
					owns_state = 675
					owns_state = 658
					owns_state = 993
					owns_state = 907
				}
			}
			country_event = ottfor.30
		}
	}
}

shared_focus = {
	id = OTT_Secure_Persian_Gulf
	icon = GFX_goal_generic_persian_gulf
	cost = 5

	relative_position_id = OTT_Interventionism_Middle_East
	x = 1
	y = 1

	available = {
		OTT_cairo_pact_defeated = yes
	}

	bypass = {
		NOT = {
			can_declare_war_on = SAU
			can_declare_war_on = JBS
			can_declare_war_on = YEM
			country_exists = OMA
		}
	}

	prerequisite = {
		focus = OTT_Interventionism_Middle_East
	}

	mutually_exclusive = {
		focus = OTT_Stability_Arab_Peninsula
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	will_lead_to_war_with = OMA
	will_lead_to_war_with = SAU
	will_lead_to_war_with = JBS
	will_lead_to_war_with = YEM

	search_filters = { FOCUS_FILTER_ANNEXATION }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Secure_Persian_Gulf"
		if = {
			limit = { has_idea = ott_armed_neutrality }
			remove_ideas = ott_armed_neutrality
		}
		if = {
			limit = { has_subject = OMA }
			annex_country = {
				target = OMA
				transfer_troops = no
			}
		}
		else_if = {
			limit = { can_declare_war_on = OMA }
			create_wargoal = {
				type = puppet_wargoal_focus
				target = OMA
			}
		}
		if = {
			limit = { can_declare_war_on = SAU }
			create_wargoal = {
				type = puppet_wargoal_focus
				target = SAU
			}
		}
		if = {
			limit = { can_declare_war_on = JBS }
			create_wargoal = {
				type = puppet_wargoal_focus
				target = JBS
			}
		}
		if = {
			limit = { can_declare_war_on = YEM }
			create_wargoal = {
				type = puppet_wargoal_focus
				target = YEM
			}
		}
	}
}

shared_focus = {
	id = OTT_Restore_Vilayet_of_Najd
	icon = GFX_focus_generic_self_management
	cost = 10

	relative_position_id = OTT_Interventionism_Middle_East
	x = 0
	y = 2

	available = {
		OR = {
			owns_state = 656
			656 = { owner = { is_subject_of = ROOT } }
		}
	}

	prerequisite = {
		focus = OTT_Secure_Persian_Gulf
		focus = OTT_Intervene_Arab_Unification_War
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Restore_Vilayet_of_Najd"
		if = {
			limit = { has_subject = var:656.owner }
			transfer_state = 656
		}
		656 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
		custom_effect_tooltip = tooltip_white_line
			# vilayet system
		656 = {
			ott_set_authority_vilayet_low = yes
			ott_set_revolt_risk_medium = yes
			hidden_effect = {
				add_core_of = OTT
			}
		}
	}
}

shared_focus = {
	id = OTT_Incorporate_Muscat
	icon = GFX_focus_generic_self_management
	cost = 10

	relative_position_id = OTT_Interventionism_Middle_East
	x = 1
	y = 3

	available = {
		OR = {
			owns_state = 294
			has_subject = OMA
		}
	}

	prerequisite = {
		focus = OTT_Secure_Persian_Gulf
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Incorporate_Muscat"
		if = {
			limit = { country_exists = OMA }
			annex_country = {
				target = OMA
				transfer_troops = no
			}
		}
		294 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
		custom_effect_tooltip = tooltip_white_line
		# vilayet system
		294 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_medium = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		1024 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_medium = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		859 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_medium = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		347 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_medium = yes
		}
	}
}

shared_focus = {
	id = OTT_Incorporate_Coastal_Emirates
	icon = GFX_goal_generic_council
	cost = 10

	relative_position_id = OTT_Interventionism_Middle_East
	x = 2
	y = 2

	available = {
		owns_state = 658
		owns_state = 993
		owns_state = 907
	}

	prerequisite = {
		focus = OTT_Secure_Persian_Gulf
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Incorporate_Coastal_Emirates"
		658 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
		custom_effect_tooltip = tooltip_white_line
			# vilayet system
		658 = { ott_set_authority_vilayet_medium = yes }
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		993 = { ott_set_authority_vilayet_medium = yes }
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		907 = { ott_set_authority_vilayet_medium = yes }
	}
}

shared_focus = {
	id = OTT_United_against_Imperialism
	icon = GFX_focus_eng_decolonization
	cost = 5

	relative_position_id = OTT_Renovate_Sublime_Porte
	x = 3
	y = 1

	available = {
		is_in_faction = no
		is_subject = no
		OTT_cairo_pact_defeated = yes
	}

	prerequisite = {
		focus = OTT_Renovate_Sublime_Porte
	}

	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			OR = {
				has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_GER }
				has_game_rule = { rule = OTT_forpol option = OTT_FORPOL_ENT }
			}
		}
	}

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_United_against_Imperialism"
		create_faction = istanbul_pact
	}
}

shared_focus = {
	id = OTT_Stability_Arab_Peninsula
	icon = GFX_goal_OTT_Arab_Peninsula
	cost = 5

	relative_position_id = OTT_United_against_Imperialism
	x = -1
	y = 1

	available = {
		is_faction_leader = yes
	}

	prerequisite = {
		focus = OTT_United_against_Imperialism
	}

	mutually_exclusive = {
		focus = OTT_Secure_Persian_Gulf
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Stability_Arab_Peninsula"
		custom_effect_tooltip = ott_arab_peninsula_tt
	}
}

shared_focus = {
	id = OTT_Secure_Oil_Shipping
	icon = GFX_goal_EGY_sultan_fleet
	cost = 8

	relative_position_id = OTT_United_against_Imperialism
	x = -1
	y = 3

	available = {
		controls_state = 812
	}

	prerequisite = {
		focus = OTT_Stability_Arab_Peninsula
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Secure_Oil_Shipping"
		812 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		custom_effect_tooltip = tooltip_white_line
		if = {
			limit = {
				993 = { is_owned_and_controlled_by = OTT }
			}
			993 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		else = {
			var:993.owner = {
				add_offsite_building = {
					type = dockyard
					level = 1
				}
			}
		}
		if = {
			limit = {
				658 = { is_owned_and_controlled_by = OTT }
			}
			658 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		else = {
			var:658.owner = {
				add_offsite_building = {
					type = dockyard
					level = 1
				}
			}
		}
		if = {
			limit = {
				294 = { is_owned_and_controlled_by = OTT }
			}
			294 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		else = {
			var:294.owner = {
				add_offsite_building = {
					type = dockyard
					level = 1
				}
			}
		}
	}
}

shared_focus = {
	id = OTT_Allies_in_the_Maghreb
	icon = GFX_goal_OTT_Maghreb_Ties
	cost = 5

	relative_position_id = OTT_United_against_Imperialism
	x = 0
	y = 2

	available = {
		is_faction_leader = yes
	}

	prerequisite = {
		focus = OTT_United_against_Imperialism
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Allies_in_the_Maghreb"
		custom_effect_tooltip = ott_maghrebi_frontier_tt
	}
}

shared_focus = {
	id = OTT_Allies_in_the_Orient
	icon = GFX_goal_OTT_Ties_Orient
	cost = 5

	relative_position_id = OTT_United_against_Imperialism
	x = 1
	y = 1

	available = {
		is_faction_leader = yes
	}

	prerequisite = {
		focus = OTT_United_against_Imperialism
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Allies_in_the_Orient"
		custom_effect_tooltip = ott_orient_tt
	}
}

shared_focus = {
	id = OTT_Ottoman_Military_Missions
	icon = GFX_goal_OTT_Military_Mission
	cost = 8

	relative_position_id = OTT_United_against_Imperialism
	x = 1
	y = 3

	available = {
		is_faction_leader = yes
	}

	prerequisite = {
		focus = OTT_Allies_in_the_Orient
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	bypass = {
		OR = {
			AND = {
				has_war_with = TRK
				has_war_with = AFG
				has_war_with = AZR
			}
			AND = {
				TRK = {
					exists = no
				}
				AFG = {
					exists = no
				}
				AZR = {
					exists = no
				}
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Ottoman_Military_Missions"
		TRK = {
			if = {
				limit = {
					NOT = {
						has_war_with = OTT
					}
				}
				add_ideas = ott_army_training
				custom_effect_tooltip = tooltip_white_line
			}
		}
		AFG = {
			if = {
				limit = {
					NOT = {
						has_war_with = OTT
					}
				}
				add_ideas = ott_army_training
				custom_effect_tooltip = tooltip_white_line
			}
		}
		AZR = {
			if = {
				limit = {
					NOT = {
						has_war_with = OTT
					}
				}
				add_ideas = ott_army_training
				custom_effect_tooltip = tooltip_white_line
			}
		}
	}
}

shared_focus = {
	id = OTT_Association_Muslim_Nations
	icon = GFX_goal_OTT_Association_of_Muslim_Nations
	cost = 10

	relative_position_id = OTT_United_against_Imperialism
	x = 0
	y = 4

	available = {
		is_faction_leader = yes
	}

	prerequisite = {
		focus = OTT_Secure_Oil_Shipping
	}
	prerequisite = {
		focus = OTT_Allies_in_the_Maghreb
	}
	prerequisite = {
		focus = OTT_Ottoman_Military_Missions
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_PRODUCTION }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Association_Muslim_Nations"
		custom_effect_tooltip = ott_amn_tt
		set_variable = { var_AMN_members = 0.05 }
		hidden_effect = { add_ideas = ott_AMN_member_idea }
	}
}

shared_focus = {
	id = OTT_Council_Economic_Unity
	icon = GFX_goal_OTT_Loosen_Policy
	cost = 10

	relative_position_id = OTT_Association_Muslim_Nations
	x = -2
	y = 1

	available = {
		is_faction_leader = yes
	}

	prerequisite = {
		focus = OTT_Association_Muslim_Nations
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Council_Economic_Unity"
		every_country = {
			limit = {
				is_in_faction_with = OTT
			}
			add_one_random_civilian_factory = yes
			add_one_random_military_factory = yes
		}
		every_country = {
			limit = {
				has_country_flag = joined_AMN
			}
			add_one_random_civilian_factory = yes
		}
		every_country = {
			limit = {
				is_subject_of = OTT
				NOT = {
					is_in_faction_with = OTT
					has_country_flag = joined_AMN
				}
			}
			add_one_random_civilian_factory = yes
			add_one_random_military_factory = yes
		}
	}
}

shared_focus = {
	id = OTT_Railway_Connection
	icon = GFX_goal_OTT_Railroad
	cost = 10

	relative_position_id = OTT_Association_Muslim_Nations
	x = 0
	y = 1

	available = {
		is_faction_leader = yes
	}

	prerequisite = {
		focus = OTT_Association_Muslim_Nations
	}

	ai_will_do = { factor = 100 }

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Railway_Connection"
		every_country = {
			limit = { is_in_faction_with = OTT }
			random_owned_controlled_state = {
				limit = {
					is_core_of = PREV
					is_valid_state_for_development = yes
					free_building_slots = { building = infrastructure size > 0 include_locked = yes }
					state_population_k > 700
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		every_country = {
			limit = {
				NOT = { is_ally_with = OTT }
				has_country_flag = joined_AMN
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = PREV
					is_valid_state_for_development = yes
					free_building_slots = { building = infrastructure size > 0 include_locked = yes }
					state_population_k > 700
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		build_railway = {
			path = { 2089 5005 7953 1922 5050 12773 5098 6826 4943 12861 1896 4755 7604 6935 }
		}
		build_railway = {
			start_province = 12883
			target_province = 11746
		}
		build_railway = {
			start_province = 7011
			target_province = 2003
		}
		build_railway = {
			start_province = 12473
			target_province = 2089
		}
		build_railway = {
			start_province = 2048
			target_province = 8085
		}
	}
}

shared_focus = {
	id = OTT_Joint_Military_Planning
	icon = GFX_goal_generic_army_cooperation
	cost = 5

	relative_position_id = OTT_Association_Muslim_Nations
	x = 2
	y = 1

	available = {
		is_faction_leader = yes
	}

	prerequisite = {
		focus = OTT_Association_Muslim_Nations
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_ARMY_BONUS }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Joint_Military_Planning"
		hidden_effect = {
			every_country = {
				limit = {
					has_idea = ott_army_training
				}
				remove_ideas = ott_army_training
			}
		}
		every_country = {
			limit = {
				is_in_faction_with = OTT
			}
			add_ideas = ott_joint_command
		}
		every_country = {
			limit = {
				is_subject_of = OTT
				NOT = {
					is_in_faction_with = OTT
					has_country_flag = joined_AMN
				}
			}
			add_ideas = ott_joint_command
		}
	}
}

	### Post-CP tree

shared_focus = {
	id = OTT_Reorganisation_Commision
	icon = GFX_goal_OTT_reform
	cost = 8

	relative_position_id = OTT_Interventionism_Middle_East
	x = -2
	y = 4

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
		OTT_cairo_pact_defeated = yes
	}

	prerequisite = {
		focus = OTT_Reintegrate_MOJ
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Reorganisation_Commision"
		add_political_power = 100
		add_ideas = ott_renaissance
		custom_effect_tooltip = ott_reorganisation_commision
		log = "KR_Event_Logging;The Ottoman Empire WINS IN THE LEVANT;[GetDateText]"
	}
}

shared_focus = {
	id = OTT_Abolish_Vilayet_Yerevan
	icon = GFX_goal_OTT_Integrate_Armenia
	cost = 8

	relative_position_id = OTT_Reorganisation_Commision
	x = -1
	y = 2

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
		owns_state = 230
	}

	prerequisite = {
		focus = OTT_Reorganisation_Commision
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Abolish_Vilayet_Yerevan"
		230 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		# vilayet system
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		230 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_very_high = yes
		}
		if = {
			limit = { owns_state = 998 }
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = tooltip_white_line
			998 = {
				hidden_effect = { add_core_of = OTT }
				ott_set_authority_vilayet_medium = yes
				ott_set_revolt_risk_very_high = yes
			}
		}
	}
}

shared_focus = {
	id = OTT_Integrate_Yemen
	icon = GFX_goal_OTT_Integrate_Yemen
	cost = 8

	relative_position_id = OTT_Reorganisation_Commision
	x = 0
	y = 1

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
		OR = {
			has_subject = YEM
			owns_state = 293
		}
	}

	prerequisite = {
		focus = OTT_Reorganisation_Commision
	}

	ai_will_do = { factor = 100 }

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Integrate_Yemen"
		if = {
			limit = { country_exists = YEM }
			annex_country = {
				target = YEM
				transfer_troops = no
			}
		}
		659 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
		custom_effect_tooltip = tooltip_white_line
			# vilayet system
		659 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_medium = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		293 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_medium = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		982 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_medium = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		752 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_medium = yes
		}
	}
}

shared_focus = {
	id = OTT_Integrate_Tripolitania
	icon = GFX_goal_OTT_Integrate_Libya
	cost = 8

	relative_position_id = OTT_Reorganisation_Commision
	x = 1
	y = 2

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
		OR = {
			has_subject = LBA
			owns_state = 451 #Ajdabiya
		}
	}

	prerequisite = {
		focus = OTT_Reorganisation_Commision
	}

	ai_will_do = { factor = 100 }

	search_filters = { FOCUS_FILTER_INDUSTRY }

	bypass = {
		LBA = {
			is_in_faction_with = ROOT
			NOT = { is_subject_of = ROOT }
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Integrate_Tripolitania"
		if = {
			limit = { country_exists = LBA }
			annex_country = {
				target = LBA
				transfer_troops = no
			}
		}
		451 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
		custom_effect_tooltip = tooltip_white_line
		# vilayet system
		663 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_medium = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		451 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_medium = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		1009 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_medium = yes
		}
	}
}

shared_focus = {
	id = OTT_Statutes_of_Autonomy
	icon = GFX_goal_OTT_constitution
	cost = 8

	relative_position_id = OTT_Reorganisation_Commision
	x = -2
	y = 3

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
	}

	prerequisite = {
		focus = OTT_Abolish_Vilayet_Yerevan
	}
	prerequisite = {
		focus = OTT_The_Sublime_Federation
	}
	prerequisite = {
		focus = OTT_Integrate_Tripolitania
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Statutes_of_Autonomy"
		if = {
			limit = {
				check_variable = {
					representatives_support < 250
				}
			}
			custom_effect_tooltip = ott_plurality_congress_deficit_tt

			set_temp_variable = { OTT_pp_loss = 250 }
			subtract_from_temp_variable = { OTT_pp_loss = representatives_support }
			multiply_temp_variable = { OTT_pp_loss = -1 }
			add_political_power = OTT_pp_loss

			set_temp_variable = { OTT_stab_loss = 250 }
			subtract_from_temp_variable = { OTT_stab_loss = representatives_support }
			multiply_temp_variable = { OTT_stab_loss = -0.003 }
			add_stability = OTT_stab_loss

			custom_effect_tooltip = tooltip_white_line
		}

		add_ideas = ott_statutes_of_autonomy
		every_owned_state = {
			limit = { OTT_is_autonomous_region = yes }
			ott_decrease_revolt_risk = yes
		}
	}
}

shared_focus = {
	id = OTT_Reorganise_Kurdistan
	icon = GFX_goal_OTT_Integrate_Kurdistan
	cost = 10

	relative_position_id = OTT_Statutes_of_Autonomy
	x = -4
	y = 1

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
		owns_state = 421
	}

	prerequisite = {
		focus = OTT_Statutes_of_Autonomy
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Reorganise_Kurdistan"
		if = {
			limit = {
				check_variable = {
					representatives_support < 250
				}
			}
			custom_effect_tooltip = ott_plurality_congress_deficit_tt

			set_temp_variable = { OTT_pp_loss = 250 }
			subtract_from_temp_variable = { OTT_pp_loss = representatives_support }
			multiply_temp_variable = { OTT_pp_loss = -1 }
			add_political_power = OTT_pp_loss

			set_temp_variable = { OTT_stab_loss = 250 }
			subtract_from_temp_variable = { OTT_stab_loss = representatives_support }
			multiply_temp_variable = { OTT_stab_loss = -0.003 }
			add_stability = OTT_stab_loss

			custom_effect_tooltip = tooltip_white_line
		}

		421 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		custom_effect_tooltip = tooltip_white_line
		# vilayet system
		417 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		421 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
	}
}

shared_focus = {
	id = OTT_Reorganise_Azerbaijan
	icon = GFX_goal_OTT_Integrate_Azerbaijan
	cost = 10

	relative_position_id = OTT_Statutes_of_Autonomy
	x = -2
	y = 1

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
		OR = {
			owns_state = 229
			has_subject = AZR
		}
	}

	prerequisite = {
		focus = OTT_Statutes_of_Autonomy
	}

	search_filters = { FOCUS_FILTER_INDUSTRY }

	ai_will_do = { factor = 100 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Reorganise_Azerbaijan"
		if = {
			limit = { country_exists = AZR }
			annex_country = {
				target = AZR
				transfer_troops = no
			}
		}
		if = {
			limit = {
				check_variable = { representatives_support < 250 }
			}
			custom_effect_tooltip = ott_plurality_congress_deficit_tt

			set_temp_variable = { OTT_pp_loss = 250 }
			subtract_from_temp_variable = { OTT_pp_loss = representatives_support }
			multiply_temp_variable = { OTT_pp_loss = -1 }
			add_political_power = OTT_pp_loss

			set_temp_variable = { OTT_stab_loss = 250 }
			subtract_from_temp_variable = { OTT_stab_loss = representatives_support }
			multiply_temp_variable = { OTT_stab_loss = -0.003 }
			add_stability = OTT_stab_loss
			custom_effect_tooltip = tooltip_white_line
		}
		229 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
			add_resource = {
				type = oil
				amount = 16
			}
		}
		custom_effect_tooltip = tooltip_white_line
		# vilayet system
		229 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		998 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		419 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
	}
}

shared_focus = {
	id = OTT_Reorganise_Khuzestan
	icon = GFX_goal_OTT_Integrate_Khuzestan
	cost = 10

	relative_position_id = OTT_Statutes_of_Autonomy
	x = 0
	y = 1

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
		owns_state = 413
	}

	prerequisite = {
		focus = OTT_Statutes_of_Autonomy
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Reorganise_Khuzestan"
		if = {
			limit = {
				check_variable = {
					representatives_support < 250
				}
			}
			custom_effect_tooltip = ott_plurality_congress_deficit_tt

			set_temp_variable = { OTT_pp_loss = 250 }
			subtract_from_temp_variable = { OTT_pp_loss = representatives_support }
			multiply_temp_variable = { OTT_pp_loss = -1 }
			add_political_power = OTT_pp_loss

			set_temp_variable = { OTT_stab_loss = 250 }
			subtract_from_temp_variable = { OTT_stab_loss = representatives_support }
			multiply_temp_variable = { OTT_stab_loss = -0.003 }
			add_stability = OTT_stab_loss

			custom_effect_tooltip = tooltip_white_line
		}

		413 = {
			increase_state_category_by_one_level = yes
			add_resource = {
				type = oil
				amount = 8
			}
		}
		custom_effect_tooltip = tooltip_white_line
		# vilayet system
		413 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
	}
}

shared_focus = {
	id = OTT_Reorganise_Egypt
	icon = GFX_goal_OTT_Integrate_Egypt
	cost = 10

	relative_position_id = OTT_Statutes_of_Autonomy
	x = 2
	y = 1

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
		owns_state = 446
	}

	prerequisite = {
		focus = OTT_Statutes_of_Autonomy
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Reorganise_Egypt"
		if = {
			limit = {
				check_variable = {
					representatives_support < 250
				}
			}
			custom_effect_tooltip = ott_plurality_congress_deficit_tt

			set_temp_variable = { OTT_pp_loss = 250 }
			subtract_from_temp_variable = { OTT_pp_loss = representatives_support }
			multiply_temp_variable = { OTT_pp_loss = -1 }
			add_political_power = OTT_pp_loss

			set_temp_variable = { OTT_stab_loss = 250 }
			subtract_from_temp_variable = { OTT_stab_loss = representatives_support }
			multiply_temp_variable = { OTT_stab_loss = -0.003 }
			add_stability = OTT_stab_loss

			custom_effect_tooltip = tooltip_white_line
		}

		446 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
		add_resource = {
			type = oil
			amount = 16
			state = 552
		}
		custom_effect_tooltip = tooltip_white_line
		# vilayet system
		452 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		447 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		446 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		1008 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		456 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		453 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		552 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_low = yes
			ott_set_revolt_risk_high = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		457 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_low = yes
			ott_set_revolt_risk_high = yes
		}
	}
}

shared_focus = {
	id = OTT_Reorganise_Sudan
	icon = GFX_goal_OTT_Integrate_Sudan
	cost = 10

	relative_position_id = OTT_Statutes_of_Autonomy
	x = 4
	y = 1

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
		owns_state = 551
	}

	prerequisite = {
		focus = OTT_Statutes_of_Autonomy
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Reorganise_Sudan"
		if = {
			limit = {
				check_variable = {
					representatives_support < 250
				}
			}
			custom_effect_tooltip = ott_plurality_congress_deficit_tt

			set_temp_variable = { OTT_pp_loss = 250 }
			subtract_from_temp_variable = { OTT_pp_loss = representatives_support }
			multiply_temp_variable = { OTT_pp_loss = -1 }
			add_political_power = OTT_pp_loss

			set_temp_variable = { OTT_stab_loss = 250 }
			subtract_from_temp_variable = { OTT_stab_loss = representatives_support }
			multiply_temp_variable = { OTT_stab_loss = -0.003 }
			add_stability = OTT_stab_loss

			custom_effect_tooltip = tooltip_white_line
		}

		551 = {
			increase_state_category_by_one_level = yes
		}
		custom_effect_tooltip = tooltip_white_line
		# vilayet system
		551 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		1007 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		1011 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		1010 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		549 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = tooltip_white_line
		862 = {
			hidden_effect = { add_core_of = OTT }
			ott_set_authority_vilayet_medium = yes
			ott_set_revolt_risk_high = yes
		}
	}
}

shared_focus = {
	id = OTT_First_Elections_of_the_Grand_Assembly
	icon = GFX_goal_generic_parliament
	cost = 10

	relative_position_id = OTT_Statutes_of_Autonomy
	x = 0
	y = 2

	available = {
		OR = {
			has_government = market_liberal
			has_government = social_liberal
		}
		has_war = no
		num_of_controlled_factories > 120
	}

	prerequisite = {
		focus = OTT_Reorganise_Kurdistan
		focus = OTT_Reorganise_Azerbaijan
		focus = OTT_Reorganise_Khuzestan
		focus = OTT_Reorganise_Egypt
		focus = OTT_Reorganise_Sudan
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_POLITICAL }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_First_Elections_of_the_Grand_Assembly"
		add_research_slot_until_five = yes
		swap_ideas = {
			remove_idea = ott_statutes_of_autonomy
			add_idea = ott_statutes_of_autonomy2
		}
		every_owned_state = {
			limit = { OTT_is_autonomous_region = yes }
			ott_decrease_revolt_risk = yes
		}

			### Parliament
		custom_effect_tooltip = grand_assembly_tt
		set_variable = { var = representatives_total value = 1500 }

		set_variable = { var = ohf_deputies value = 0 }
		set_variable = { var = hif_deputies value = 267 }
		set_variable = { var = odf_deputies value = 180 }
		set_variable = { var = con_deputies value = 480 }
		set_variable = { var = ind_deputies value = 240 }

		set_variable = { var = nat_ara_deputies value = 286 }
		set_variable = { var = nat_ara_sup_deputies value = 35 }
		set_variable = { var = nat_tur_deputies value = 47 }
		set_variable = { var = nat_tur_sup_deputies value = 47 }
		set_variable = { var = con_sup_deputies value = 302 }
		set_variable = { var = ind_sup_deputies value = 200 }

		OTT_calc_coalition_strength = yes
		OTT_recalc_congress_icon_frames = yes
	}
}

	################################
	# ABDULHAMID DID NOTHING WRONG #
	################################

shared_focus = {
	id = OTT_Grand_Vizier_Arslan
	icon = GFX_goal_ideology_social_conservative
	cost = 5

	x = 23
	y = 0

	available = {
		always = no
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Grand_Vizier_Arslan"
		add_popularity = {
			ideology = social_conservative
			popularity = 0.10
		}
	}
}

	####################
	# PRE COUP REFORMS #
	####################

shared_focus = {
	id = OTT_Promote_Panislamism
	icon = GFX_goal_ottoman
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Arslan
	x = -2
	y = 1

	prerequisite = {
		focus = OTT_Grand_Vizier_Arslan
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Promote_Panislamism"
		country_event = ottars.2
		add_popularity = {
			ideology = social_conservative
			popularity = 0.05
		}
		custom_effect_tooltip = tooltip_white_line
		676 = {
			ott_decrease_revolt_risk = yes
		}
		455 = {
			ott_decrease_revolt_risk = yes
		}
		995 = {
			ott_decrease_revolt_risk = yes
		}
		677 = {
			ott_decrease_revolt_risk = yes
		}
		350 = {
			ott_decrease_revolt_risk = yes
		}
	}
}

shared_focus = {
	id = OTT_Religious_Education
	icon = GFX_goal_OTT_Islamic_Education
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Arslan
	x = 0
	y = 1

	prerequisite = {
		focus = OTT_Grand_Vizier_Arslan
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Religious_Education"
		country_event = ottars.5
		add_popularity = {
			ideology = social_conservative
			popularity = 0.10
		}
		custom_effect_tooltip = tooltip_white_line
		339 = {
			ott_increase_revolt_risk = yes
		}
		773 = {
			ott_increase_revolt_risk = yes
		}
		187 = {
			ott_increase_revolt_risk = yes
		}
		164 = {
			ott_increase_revolt_risk = yes
		}
		183 = {
			ott_increase_revolt_risk = yes
		}
		355 = {
			ott_increase_revolt_risk = yes
		}
		680 = {
			ott_increase_revolt_risk = yes
		}
		553 = {
			ott_increase_revolt_risk = yes
		}
		812 = {
			ott_increase_revolt_risk = yes
		}
	}
}

shared_focus = {
	id = OTT_Empower_Sheikh
	icon = GFX_goal_islamic_government
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Arslan
	x = -1
	y = 2

	prerequisite = {
		focus = OTT_Religious_Education
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_POLITICAL }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Empower_Sheikh"
		country_event = ottars.6
		add_political_power = 150
	}
}

shared_focus = {
	id = OTT_Jizya
	icon = BAT_charity_propaganda
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Arslan
	x = 1
	y = 2

	prerequisite = {
		focus = OTT_Religious_Education
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Jizya"
		add_ideas = ott_varlik_vargisi
		custom_effect_tooltip = tooltip_white_line
		339 = {
			ott_increase_revolt_risk = yes
			ott_set_revolt_risk_very_high = yes
		}
		773 = {
			ott_increase_revolt_risk = yes
			ott_set_revolt_risk_very_high = yes
		}
		187 = {
			ott_increase_revolt_risk = yes
			ott_set_revolt_risk_very_high = yes
		}
		164 = {
			ott_increase_revolt_risk = yes
			ott_set_revolt_risk_very_high = yes
		}
		183 = {
			ott_increase_revolt_risk = yes
			ott_set_revolt_risk_very_high = yes
		}
		355 = {
			ott_increase_revolt_risk = yes
			ott_set_revolt_risk_very_high = yes
		}
		680 = {
			ott_increase_revolt_risk = yes
			ott_set_revolt_risk_very_high = yes
		}
		553 = {
			ott_increase_revolt_risk = yes
			ott_set_revolt_risk_very_high = yes
		}
		812 = {
			ott_increase_revolt_risk = yes
			ott_set_revolt_risk_very_high = yes
		}
	}
}

shared_focus = {
	id = OTT_Revise_Constitution
	icon = GFX_goal_OTT_constitution
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Arslan
	x = 0
	y = 3

	prerequisite = {
		focus = OTT_Empower_Sheikh
	}
	prerequisite = {
		focus = OTT_Jizya
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Revise_Constitution"
		every_owned_state = {
			ott_increase_revolt_risk = yes
		}
		country_event = ottars.7
		custom_effect_tooltip = tooltip_white_line
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.2
		}
	}
}

shared_focus = {
	id = OTT_Enforce_Mecelle
	icon = GFX_focus_mex_triumph_over_the_cristeros
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Arslan
	x = -2
	y = 4

	available = {
		has_active_mission = OTT_prorogue_parliament_mission
	}

	prerequisite = {
		focus = OTT_Revise_Constitution
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Enforce_Mecelle"
		add_popularity = {
			popularity = 0.10
			ideology = paternal_autocrat
		}
		add_popularity = {
			popularity = 0.05
			ideology = social_conservative
		}
		custom_effect_tooltip = tooltip_white_line
		339 = {
			ott_increase_revolt_risk = yes
		}
		773 = {
			ott_increase_revolt_risk = yes
		}
		187 = {
			ott_increase_revolt_risk = yes
		}
		164 = {
			ott_increase_revolt_risk = yes
		}
		183 = {
			ott_increase_revolt_risk = yes
		}
		355 = {
			ott_increase_revolt_risk = yes
		}
		680 = {
			ott_increase_revolt_risk = yes
		}
		553 = {
			ott_increase_revolt_risk = yes
		}
		812 = {
			ott_increase_revolt_risk = yes
		}
	}
}

shared_focus = {
	id = OTT_Revert_Social_Reforms
	icon = GFX_goal_skull_treaty2
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Arslan
	x = 2
	y = 4

	available = {
		has_active_mission = OTT_prorogue_parliament_mission
	}

	prerequisite = {
		focus = OTT_Revise_Constitution
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_STABILITY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Revert_Social_Reforms"
		country_event = ottars.10
		add_popularity = {
			popularity = 0.05
			ideology = paternal_autocrat
		}
		add_popularity = {
			popularity = 0.05
			ideology = social_conservative
		}
		custom_effect_tooltip = tooltip_white_line
		add_stability = 0.05
	}
}

shared_focus = {
	id = OTT_Desecularise_Army
	icon = GFX_goal_purge_opposition
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Arslan
	x = 0
	y = 4

	available = {
		has_active_mission = OTT_prorogue_parliament_mission
	}

	prerequisite = {
		focus = OTT_Revise_Constitution
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_ARMY_XP }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Desecularise_Army"
		country_event = ottars.9
		add_popularity = {
			popularity = 0.10
			ideology = paternal_autocrat
		}
		custom_effect_tooltip = tooltip_white_line
		army_experience = -100
		add_timed_idea = {
			idea = ott_military_purge
			days = 400
		}
	}
}

shared_focus = {
	id = OTT_Caliphate_Of_Old
	icon = GFX_goal_OTT_coat_of_arms
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Arslan
	x = 0
	y = 5

	available = {
		paternal_autocrat > 0.4
	}

	prerequisite = {
		focus = OTT_Enforce_Mecelle
	}
	prerequisite = {
		focus = OTT_Revert_Social_Reforms
	}
	prerequisite = {
		focus = OTT_Desecularise_Army
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Caliphate_Of_Old"
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		hidden_effect = {
			country_event = { id = ottars.11 days = 50 }
		}
		remove_ideas = ott_bloated_administration
	}
}

shared_focus = {
	id = OTT_Mosque_Renovation_Program
	icon = GFX_goal_generic_construct_public_housing
	cost = 5

	relative_position_id = OTT_Grand_Vizier_Arslan
	x = 2
	y = 1

	prerequisite = {
		focus = OTT_Grand_Vizier_Arslan
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Mosque_Renovation_Program"
		country_event = ottars.4
		add_stability = 0.05
		add_timed_idea = {
			idea = ott_mosque_cost
			days = 30
		}
	}
}

	#############################
	### LIBERAL ECONOMIC TREE ###
	#############################

	# Black Monday
shared_focus = {
	id = OTT_Raise_Import_Tariffs_lib
	icon = GFX_focus_hol_the_foundations_of_defense
	cost = 5

	x = 29
	y = 0

	available = {
		has_idea = ott_black_monday
	}

	allow_branch = {
		OR = {
			has_government = social_liberal
			has_government = social_conservative
			has_government = market_liberal
			AND = {
				has_government = paternal_autocrat
				NOT = {
					has_focus_tree = ottoman_fevzi_focus
				}
			}
			has_focus_tree = ottoman_fevzi_coup_focus
		}
		NOT = {
			has_completed_focus = OTT_Years_of_Progress
		}
	}

	offset = {
		x = -9
		y = 0
		trigger = {
			has_focus_tree = ottoman_fevzi_coup_focus
		}
	}
	offset = {
		x = -9
		y = 0
		trigger = {
			has_focus_tree = ottoman_endeavour_focus
			OR = {
				has_government = market_liberal
				OR = {
					has_completed_focus = OTT_Liberalising_National_Economy
					has_completed_focus = OTT_Repeal_National_Protection_Law
					has_completed_focus = OTT_Imperial_Institute_Technology
				}
			}
		}
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_PRODUCTION }

	bypass = {
		OR = {
			has_idea = ott_black_monday_2
			has_idea = ott_black_monday_3
			has_idea = ott_black_monday_4
			has_country_flag = black_monday_yeet
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Raise_Import_Tariffs_lib"
		swap_ideas = {
			remove_idea = ott_black_monday
			add_idea = ott_black_monday_2
		}
	}
}

shared_focus = {
	id = OTT_Restrict_Foreign_Exchange_Regime_lib
	icon = GFX_goal_OTT_Restrict_Foreign_Exchange_Regime
	cost = 5

	relative_position_id = OTT_Raise_Import_Tariffs_lib
	x = -1
	y = 1

	available = {
		has_idea = ott_black_monday_2
	}

	prerequisite = {
		focus = OTT_Raise_Import_Tariffs_lib
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	bypass = {
		OR = {
			has_idea = ott_black_monday_3
			has_idea = ott_black_monday_4
			has_country_flag = black_monday_yeet
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Restrict_Foreign_Exchange_Regime_lib"
		swap_ideas = {
			remove_idea = ott_black_monday_2
			add_idea = ott_black_monday_3
		}
	}
}

shared_focus = {
	id = OTT_Quantity_Restrictions_Import_lib
	icon = GFX_goal_manage_industries
	cost = 5

	relative_position_id = OTT_Raise_Import_Tariffs_lib
	x = -1
	y = 2

	available = {
		has_idea = ott_black_monday_3
	}

	prerequisite = {
		focus = OTT_Restrict_Foreign_Exchange_Regime_lib
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_PRODUCTION }

	bypass = {
		OR = {
			has_idea = ott_black_monday_4
			has_country_flag = black_monday_yeet
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Quantity_Restrictions_Import_lib"
		swap_ideas = {
			remove_idea = ott_black_monday_3
			add_idea = ott_black_monday_4
		}
	}
}

shared_focus = {
	id = OTT_Ziraat_Bankasi_Credit_lib
	icon = GFX_goal_OTT_Ziraat_Bankasi
	cost = 5

	relative_position_id = OTT_Raise_Import_Tariffs_lib
	x = 1
	y = 1

	prerequisite = {
		focus = OTT_Raise_Import_Tariffs_lib
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_STABILITY }

	bypass = {
		OR = {
			has_country_flag = ziraat_bypass
			has_country_flag = black_monday_yeet
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Ziraat_Bankasi_Credit_lib"
		add_stability = 0.10
		set_country_flag = ziraat_bypass
	}
}

shared_focus = {
	id = OTT_Toprak_Mahsulleri_Ofisi_lib
	icon = GFX_goal_PAL_Food_Import
	cost = 5

	relative_position_id = OTT_Raise_Import_Tariffs_lib
	x = 1
	y = 2

	prerequisite = {
		focus = OTT_Ziraat_Bankasi_Credit_lib
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY }

	bypass = {
		OR = {
			has_idea = ott_agriculture
			has_country_flag = black_monday_yeet
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Toprak_Mahsulleri_Ofisi_lib"
		add_ideas = ott_agriculture
	}
}

shared_focus = {
	id = OTT_Balance_the_Budget_lib
	icon = GFX_goal_generic_foreign_investments
	cost = 5

	relative_position_id = OTT_Raise_Import_Tariffs_lib
	x = 0
	y = 3

	available = {
		has_idea = ott_black_monday_4
	}

	prerequisite = {
		focus = OTT_Quantity_Restrictions_Import_lib
	}
	prerequisite = {
		focus = OTT_Toprak_Mahsulleri_Ofisi_lib
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	bypass = {
		has_country_flag = black_monday_yeet
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Balance_the_Budget_lib"
		remove_ideas = ott_black_monday_4
		set_country_flag = black_monday_yeet
	}
}

	#Post-BM foci
shared_focus = {
	id = OTT_Liberalising_National_Economy
	icon = GFX_focus_generic_the_giant_wakes
	cost = 5

	relative_position_id = OTT_Balance_the_Budget_lib
	x = -1
	y = 2

	prerequisite = {
		focus = OTT_Balance_the_Budget_lib
	}

	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			has_game_rule = { rule = OTT_path option = OTT_PATH_NATPOP }
		}
	}

	available_if_capitulated = yes

	bypass = {
		has_idea = free_trade
	}

	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_INDUSTRY FOCUS_FILTER_PRODUCTION }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Liberalising_National_Economy"
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = -0.05
		}
		custom_effect_tooltip = tooltip_white_line
		add_ideas = free_trade
	}
}

shared_focus = {
	id = OTT_Imperial_Institute_Technology
	icon = GFX_goal_social_reforms
	cost = 5

	relative_position_id = OTT_Balance_the_Budget_lib
	x = 0
	y = 1

	prerequisite = {
		focus = OTT_Balance_the_Budget_lib
	}

	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			has_game_rule = { rule = OTT_path option = OTT_PATH_NATPOP }
		}
	}

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_RESEARCH }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Imperial_Institute_Technology"
		add_research_slot_until_five = yes
	}
}

shared_focus = {
	id = OTT_Repeal_National_Protection_Law
	icon = GFX_focus_renounce_the_treaty_of_trianon
	cost = 5

	relative_position_id = OTT_Balance_the_Budget_lib
	x = 2
	y = 1

	prerequisite = {
		focus = OTT_Balance_the_Budget_lib
	}

	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			has_game_rule = { rule = OTT_path option = OTT_PATH_NATPOP }
		}
	}

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Repeal_National_Protection_Law"
		add_ideas = ott_repealed_national_protection_law
	}
}

shared_focus = {
	id = OTT_Enable_Foreign_Investment
	icon = GFX_goal_bag_of_money
	cost = 5

	relative_position_id = OTT_Balance_the_Budget_lib
	x = 1
	y = 2

	prerequisite = {
		focus = OTT_Imperial_Institute_Technology
	}
	prerequisite = {
		focus = OTT_Repeal_National_Protection_Law
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Enable_Foreign_Investment"
		add_timed_idea = {
			idea = ott_foreign_investment
			days = 100
		}
		if = {
			limit = {
				OTT_has_centralist_government = no
				NOT = { has_government = social_conservative }
			}
			### Return Turkish nationalist votes to opposition
			custom_effect_tooltip = 10_nat_tur_opp_tt
			subtract_from_variable = { nat_tur_sup_deputies = 10 }

			### Calculate coalition strength
			OTT_calc_coalition_strength = yes
		}
	}
}

shared_focus = {
	id = OTT_Foreign_Capital_Incentives_Law
	icon = GFX_focus_eng_concessions_to_the_trade_unions
	cost = 8

	relative_position_id = OTT_Enable_Foreign_Investment
	x = 0
	y = 2

	prerequisite = {
		focus = OTT_Enable_Foreign_Investment
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Foreign_Capital_Incentives_Law"
		add_stability = -0.05
		add_offsite_building = {
			type = industrial_complex
			level = 2
		}

		if = {
			limit = {
				OTT_has_centralist_government = no
				NOT = { has_government = social_conservative }
			}
			### Return Turkish nationalist votes to opposition
			custom_effect_tooltip = 60_nat_tur_opp_tt
			subtract_from_variable = { nat_tur_sup_deputies = 60 }

			### Return Conservative votes to opposition
			custom_effect_tooltip = 30_con_opp_tt
			subtract_from_variable = { con_sup_deputies = 30 }

			### Calculate coalition strength
			OTT_calc_coalition_strength = yes
		}
	}
}

shared_focus = {
	id = OTT_Mesopotamian_Oil_Exploration
	icon = GFX_goal_further_oil
	cost = 5

	relative_position_id = OTT_Enable_Foreign_Investment
	x = 1
	y = 1

	prerequisite = {
		focus = OTT_Enable_Foreign_Investment
	}

	ai_will_do = { factor = 100 }
	bypass = {
		NOT = { owns_state = 349 }
		NOT = { owns_state = 812 }
	}

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Mesopotamian_Oil_Exploration"
		if = {
			limit = { owns_state = 349 }
			349 = {
				add_resource = {
					type = oil
					amount = 20
				}
			}
		}
		if = {
			limit = { owns_state = 812 }
			812 = {
				add_resource = {
					type = oil
					amount = 9
				}
			}
		}

		if = {
			limit = {
				OTT_has_centralist_government = no
				NOT = { has_government = social_conservative }
			}
			### Add Arab Nationalist votes in favour
			custom_effect_tooltip = 10_nat_ara_sup_tt
			add_to_variable = { nat_ara_sup_deputies = 10 }

			### Calculate coalition strength
			OTT_calc_coalition_strength = yes
		}
	}
}

shared_focus = {
	id = OTT_Import_Agricultural_Equipment
	icon = GFX_focus_AUS_agriculture
	cost = 5

	relative_position_id = OTT_Enable_Foreign_Investment
	x = 1
	y = 3

	available = {
		has_idea = ott_agriculture
	}

	prerequisite = {
		focus = OTT_Mesopotamian_Oil_Exploration
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Import_Agricultural_Equipment"
		swap_ideas = {
			remove_idea = ott_agriculture
			add_idea = ott_agriculture_lib
		}

		if = {
			limit = {
				OTT_has_centralist_government = no
				NOT = { has_government = social_conservative }
			}
			### Add Turkish Nationalist votes in favour
			custom_effect_tooltip = 10_nat_tur_sup_tt
			add_to_variable = { nat_tur_sup_deputies = 10 }

			### Calculate coalition strength
			OTT_calc_coalition_strength = yes
		}
	}
}

shared_focus = {
	id = OTT_Berlin_Baghdad_Exploitation_Rights
	icon = GFX_goal_GER_infa
	cost = 8

	relative_position_id = OTT_Enable_Foreign_Investment
	x = 3
	y = 1

	available = {
		controls_state = 676
		controls_state = 291
		controls_state = 812
		controls_state = 349
		NOT = {
			GER = {
				has_war_with = OTT
			}
		}
	}

	prerequisite = {
		focus = OTT_Enable_Foreign_Investment
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Berlin_Baghdad_Exploitation_Rights"
		676 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		291 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		812 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		349 = {
			add_resource = {
				type = oil
				amount = 6
			}
		}
		build_railway = {
			start_province = 10106
			target_province = 2089
		}
	}
}

shared_focus = {
	id = OTT_Opel_Tophane_Factory
	icon = GFX_focus_generic_rubber
	cost = 5

	relative_position_id = OTT_Enable_Foreign_Investment
	x = 2
	y = 2

	available = {
		controls_state = 773
		NOT = {
			GER = {
				has_war_with = OTT
			}
		}
	}

	prerequisite = {
		focus = OTT_Enable_Foreign_Investment
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_PRODUCTION }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Opel_Tophane_Factory"
		773 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		add_ideas = opel_osmanen
	}
}

shared_focus = {
	id = OTT_Turkish_Industrial_Development_Bank
	icon = GFX_goal_generic_banking_legislation
	cost = 5

	relative_position_id = OTT_Liberalising_National_Economy
	x = -1
	y = 1

	prerequisite = {
		focus = OTT_Liberalising_National_Economy
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_PRODUCTION }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Turkish_Industrial_Development_Bank"
		add_timed_idea = {
			idea = ott_import_heavy_materials
			days = 150
		}
	}
}

shared_focus = {
	id = OTT_Anatolian_Road_Program
	icon = GFX_goal_generic_construct_infrastructure
	cost = 10

	relative_position_id = OTT_Turkish_Industrial_Development_Bank
	x = -1
	y = 1

	available = {
		controls_state = 49
		controls_state = 346
		controls_state = 345
		controls_state = 354
		controls_state = 355
		controls_state = 356
	}

	prerequisite = {
		focus = OTT_Turkish_Industrial_Development_Bank
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Anatolian_Road_Program"
		49 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		346 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		345 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		354 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		355 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		356 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		build_railway = {
			path = { 10122 12013 1005 12016 11907 9878 }
		}
		build_railway = {
			path = { 10056 11810 11746 }
		}
		build_railway = {
			path = { 921 961 }
		}
		build_railway = {
			path = { 11866 3919 6920 9844 11747 }
		}
		build_railway = {
			path = { 3903 9777 9761 6965 11797 9868 9886 9932 }
		}
	}
}

shared_focus = {
	id = OTT_Privatise_Land_Ownership
	icon = GFX_goal_OTT_Land_Reform
	cost = 5

	relative_position_id = OTT_Turkish_Industrial_Development_Bank
	x = 1
	y = 1

	available = {
		controls_state = 49
		controls_state = 346
		controls_state = 345
		controls_state = 354
		controls_state = 355
		controls_state = 356
	}

	prerequisite = {
		focus = OTT_Turkish_Industrial_Development_Bank
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INTERNAL_AFFAIRS FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Privatise_Land_Ownership"
		set_temp_variable = { ideology_change_var = 0.1 }
		change_ruling_party_popularity = yes
		add_stability = -0.10
		49 = {
			increase_state_category_by_one_level = yes
		}
		346 = {
			increase_state_category_by_one_level = yes
		}
		345 = {
			increase_state_category_by_one_level = yes
		}
		354 = {
			increase_state_category_by_one_level = yes
		}
		355 = {
			increase_state_category_by_one_level = yes
		}
		356 = {
			increase_state_category_by_one_level = yes
		}

		if = {
			limit = {
				OTT_has_centralist_government = no
				NOT = { has_government = social_conservative }
			}
			### Return Conservative votes to opposition
			custom_effect_tooltip = 30_con_opp_tt
			subtract_from_variable = { con_sup_deputies = 30 }

			### Calculate coalition strength
			OTT_calc_coalition_strength = yes
		}
	}
}

shared_focus = {
	id = OTT_Populist_Economics
	icon = GFX_goal_economic_control
	cost = 5

	relative_position_id = OTT_Turkish_Industrial_Development_Bank
	x = 0
	y = 2

	available = {
		has_idea = ott_repealed_national_protection_law
	}

	prerequisite = {
		focus = OTT_Anatolian_Road_Program
	}
	prerequisite = {
		focus = OTT_Privatise_Land_Ownership
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Populist_Economics"
		swap_ideas = {
			remove_idea = ott_repealed_national_protection_law
			add_idea = ott_repealed_national_protection_law_2
		}
	}
}

shared_focus = {
	id = OTT_Turkish_Cement_Factory
	icon = GFX_goal_generic_construction
	cost = 8

	relative_position_id = OTT_Populist_Economics
	x = -3
	y = 1

	available = {
		controls_state = 340
	}

	prerequisite = {
		focus = OTT_Populist_Economics
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Turkish_Cement_Factory"
		340 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 2
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = OTT_Sugar_Industry
	icon = GFX_goal_plantation_grants
	cost = 5

	relative_position_id = OTT_Populist_Economics
	x = -1
	y = 1

	available = {
		controls_state = 49
	}

	prerequisite = {
		focus = OTT_Populist_Economics
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Sugar_Industry"
		49 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = OTT_Textile_Industry
	icon = GFX_goal_SZC_silk
	cost = 8

	relative_position_id = OTT_Populist_Economics
	x = 1
	y = 1

	available = {
		controls_state = 553
		controls_state = 677
	}

	prerequisite = {
		focus = OTT_Populist_Economics
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Textile_Industry"
		553 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		677 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = OTT_Mechanised_Agriculture
	icon = GFX_goal_generic_mechanisation
	cost = 5

	relative_position_id = OTT_Populist_Economics
	x = 3
	y = 1

	available = {
		has_idea = ott_agriculture_lib
	}

	prerequisite = {
		focus = OTT_Populist_Economics
	}
	prerequisite = {
		focus = OTT_Import_Agricultural_Equipment
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_STABILITY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Mechanised_Agriculture"
		swap_ideas = {
			remove_idea = ott_agriculture_lib
			add_idea = ott_agriculture_lib_2
		}
	}
}

shared_focus = {
	id = OTT_Election_Factories
	icon = GFX_goal_generic_construct_civ_factory
	cost = 15

	relative_position_id = OTT_Populist_Economics
	x = 0
	y = 2

	prerequisite = {
		focus = OTT_Turkish_Cement_Factory
	}
	prerequisite = {
		focus = OTT_Sugar_Industry
	}
	prerequisite = {
		focus = OTT_Textile_Industry
	}
	prerequisite = {
		focus = OTT_Mechanised_Agriculture
	}

	ai_will_do = { factor = 100 }

	available_if_capitulated = yes

	search_filters = { FOCUS_FILTER_INDUSTRY }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus OTT_Election_Factories"
		add_one_random_civilian_factory = yes
		add_one_random_civilian_factory = yes
		add_one_random_civilian_factory = yes
		add_one_random_civilian_factory = yes
		hidden_effect = {
			country_event = { id = ottlib.15 days = 200 }
		}

		if = {
			limit = {
				OTT_has_centralist_government = no
				NOT = { has_government = social_conservative }
			}
			### Add Turkish Nationalist votes in favour
			custom_effect_tooltip = 10_nat_tur_sup_tt
			add_to_variable = { nat_tur_sup_deputies = 10 }

			### Add Arab Nationalist votes in favour
			custom_effect_tooltip = 10_nat_ara_sup_tt
			add_to_variable = { nat_ara_sup_deputies = 10 }

			### Calculate coalition strength
			OTT_calc_coalition_strength = yes
		}
	}
}

