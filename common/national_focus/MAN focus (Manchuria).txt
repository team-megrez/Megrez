#############################
# Manchuria Focus Tree      #
# By Flamefang and Alpinia  #
#############################

focus_tree = {
	id = Manchuria_Focus
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = MAN
		}
	}

	default = no
	continuous_focus_position = { x = 600 y = 50 }

	focus = {
		id = MAN_The_Manchuria_Project
		icon = GFX_focus_jap_manchurian_project
		cost = 8

		x = 2
		y = 0

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MAN_The_Manchuria_Project"
			add_war_support = 0.3
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
	}

	focus = {
		id = MAN_Pacify_The_Countryside
		icon = GFX_focus_generic_oppression
		cost = 6

		relative_position_id = MAN_The_Manchuria_Project
		x = -1
		y = 1

		prerequisite = {
			focus = MAN_The_Manchuria_Project
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MAN_Pacify_The_Countryside"
			add_stability = 0.2
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = MAN_Promote_The_Regional_Identity
		icon = GFX_goal_QIE_manchu_symbol
		cost = 6

		relative_position_id = MAN_The_Manchuria_Project
		x = 1
		y = 1

		prerequisite = {
			focus = MAN_The_Manchuria_Project
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MAN_Promote_The_Regional_Identity"
			set_temp_variable = { ideology_change_var = 15 }
			change_ruling_party_popularity = yes
		}
	}

	focus = {
		id = MAN_Industrial_Development_Commission
		icon = GFX_goal_social_reforms
		cost = 7

		relative_position_id = MAN_The_Manchuria_Project
		x = 2
		y = 3

		prerequisite = {
			focus = MAN_The_Manchuria_Project
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MAN_Industrial_Development_Commission"
			add_stability = 0.05
			add_tech_bonus = {
				name = FNG_Found_the_Northeast_IDC
				bonus = 0.5
				uses = 1
				category = industry
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = MAN_Anshan_Mines
		icon = GFX_focus_generic_steel
		cost = 7

		relative_position_id = MAN_Industrial_Development_Commission
		x = -2
		y = 1

		prerequisite = {
			focus = MAN_Industrial_Development_Commission
		}
		available = {
			716 = { is_owned_and_controlled_by = ROOT }
		}
		bypass = {
			hidden_trigger = {
				716 = { has_state_flag = FNG_steel_mines_developed }
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MAN_Anshan_Mines"
			activate_targeted_decision = { target = 716 decision = FNG_Expand_the_Anshan_Mines }
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = MAN_Aluminium_Extraction
		icon = GFX_focus_generic_aluminum
		cost = 7

		relative_position_id = MAN_Industrial_Development_Commission
		x = -3
		y = 2

		prerequisite = {
			focus = MAN_Anshan_Mines
		}
		available = {
			716 = { is_owned_and_controlled_by = ROOT }
		}
		bypass = {
			hidden_trigger = {
				716 = { has_state_flag = FNG_aluminium_mines_developed }
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MAN_Aluminium_Extraction"
			activate_targeted_decision = { target = 716 decision = MAN_Aluminium_Extraction }
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = MAN_Fushun_Mines
		icon = GFX_goal_generic_coal_mining
		cost = 9

		relative_position_id = MAN_Industrial_Development_Commission
		x = -2
		y = 3

		prerequisite = {
			focus = MAN_Anshan_Mines
		}
		available = {
			716 = { is_owned_and_controlled_by = ROOT }
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MAN_Fushun_Mines"
			716 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = MAN_Yalu_And_Songhua_Hydroelectricity
		icon = GFX_goal_dam
		cost = 10

		relative_position_id = MAN_Industrial_Development_Commission
		x = -1
		y = 2

		prerequisite = {
			focus = MAN_Industrial_Development_Commission
		}
		available = {
			328 = { is_owned_and_controlled_by = ROOT }
			886 = { is_owned_and_controlled_by = ROOT }
			885 = { is_owned_and_controlled_by = ROOT }
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MAN_Yalu_And_Songhua_Hydroelectricity"
			328 = {
				add_building_construction = { #Andong
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			886 = {
				add_building_construction = { #Jilin
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			885 = {
				add_building_construction = { #Songjiang
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = MAN_National_Transportation_Commission
		icon = GFX_goal_generic_railroad
		cost = 15

		relative_position_id = MAN_Industrial_Development_Commission
		x = 1
		y = 1

		prerequisite = {
			focus = MAN_Industrial_Development_Commission
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MAN_National_Transportation_Commission"
			random_owned_controlled_state = {
				prioritize = { 886 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 714 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 715 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = MAN_Develop_Heilongjiang
		icon = GFX_Goal_YUN_The_Mountain_Economy
		cost = 8

		relative_position_id = MAN_Industrial_Development_Commission
		x = 2
		y = 3

		prerequisite = {
			focus = MAN_National_Transportation_Commission
		}
		available = {
			714 = { is_owned_and_controlled_by = ROOT }
			883 = { is_owned_and_controlled_by = ROOT }
			884 = { is_owned_and_controlled_by = ROOT }
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MAN_Develop_Heilongjiang"
			build_railway = {
				start_province = 7526
				target_province = 7897
				level = 1
			}
			883 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			build_railway = {
				start_province = 1588
				target_province = 1847
				level = 1
			}
			884 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = MAN_Expand_The_Yingkou_Port
		icon = GFX_goal_generic_shipyard
		cost = 10

		relative_position_id = MAN_Industrial_Development_Commission
		x = 1
		y = 2

		prerequisite = {
			focus = MAN_National_Transportation_Commission
		}
		available = {
			716 = { is_owned_and_controlled_by = ROOT }
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MAN_Expand_The_Yingkou_Port"
			716 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 1
					province = 11764
					instant_build = yes
				}
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = MAN_Jinzhou_Industrial_Zone
		icon = GFX_goal_factory_complex
		cost = 10

		relative_position_id = MAN_Industrial_Development_Commission
		x = 0
		y = 4

		prerequisite = {
			focus = MAN_Fushun_Mines
		}
		prerequisite = {
			focus = MAN_Yalu_And_Songhua_Hydroelectricity
		}
		prerequisite = {
			focus = MAN_Expand_The_Yingkou_Port
		}
		available = {
			716 = { is_owned_and_controlled_by = ROOT }
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MAN_Jinzhou_Industrial_Zone"
			716 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = MAN_The_Northeast_Breadbasket
		icon = GFX_focus_AUS_agriculture
		cost = 7

		relative_position_id = MAN_Industrial_Development_Commission
		x = 5
		y = 1

		prerequisite = {
			focus = MAN_Industrial_Development_Commission
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MAN_The_Northeast_Breadbasket"
			add_tech_bonus = {
				name = MAN_The_Northeast_Breadbasket
				bonus = 1
				uses = 1
				category = excavation_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = MAN_Soy_Agricultural_Initiative
		icon = GFX_goal_agriculture2
		cost = 7

		relative_position_id = MAN_Industrial_Development_Commission
		x = 4
		y = 2

		prerequisite = {
			focus = MAN_The_Northeast_Breadbasket
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MAN_Soy_Agricultural_Initiative"
			random_owned_controlled_state = {
				prioritize = { 328 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = MAN_Dyes_And_Textiles
		icon = GFX_goal_SZC_textiles
		cost = 7

		relative_position_id = MAN_Industrial_Development_Commission
		x = 6
		y = 2

		prerequisite = {
			focus = MAN_The_Northeast_Breadbasket
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MAN_Dyes_And_Textiles"
			random_owned_controlled_state = {
				prioritize = { 715 }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
}

