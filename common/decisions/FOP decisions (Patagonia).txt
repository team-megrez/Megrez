###########################
# Patagonia decisions
###########################
# By WordZero, Fort
###########################

FOP_industrial_planning_scheme_decisions = {
	FOP_progreso_stage_1_supply = {			# Supply hub near ARG border and infra
		icon = GFX_decision_generic_prepare_civil_war
		allowed = { always = no } 			# Activated by previous decision
		visible = {
			owns_state = 512
		}

		ai_will_do = { base = 10 }

		cost = 0

		modifier = {
			political_power_gain = -0.20
			consumer_goods_factor = 0.10
		}

		days_remove = 150
		fire_only_once = yes

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_progreso_stage_1_supply"
			512 = {
				if = {
					limit = { infrastructure < 5 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				else = {
					add_extra_state_shared_building_slots = 1
				}
				add_building_construction = {
					type = supply_node
					level = 1
					instant_build = yes
					province = 13305
				}
			}
			activate_targeted_decision = { target = 512 decision = FOP_progreso_stage_2_state_cat }
			activate_targeted_decision = { target = 1029 decision = FOP_progreso_stage_2_state_cat }
		}
	}
	FOP_progreso_stage_1_railway = {			# Railway to CHL and some trains
		icon = GFX_decision_train
		allowed = { always = no } 			# Activated by previous decision
		visible = {
			owns_state = 512
		}

		ai_will_do = { base = 10 }

		cost = 0

		modifier = {
			political_power_gain = -0.20
			consumer_goods_factor = 0.10
		}

		days_remove = 150
		fire_only_once = yes

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_progreso_stage_1_railway"
			build_railway = {
				path = { 10953 12349 13305 13222 11005 8161 5118 5169 }
			}
			add_equipment_to_stockpile = {
				type = train_equipment
				amount = 15
			}
		}
	}
	FOP_progreso_stage_2_state_cat = {
		icon = GFX_decision_animal_husbandry
		allowed = { always = no } 			# Activated by previous decision
		visible = {
			owns_state = FROM
		}

		ai_will_do = { base = 10 }

		cost = 0

		modifier = {
			political_power_gain = -0.10
			consumer_goods_factor = 0.10
		}

		days_remove = 150
		fire_only_once = yes
		state_target = yes

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_progreso_stage_2_state_cat target: [From.GetName]"
			FROM = {
				increase_state_category_by_one_level = yes
			}
			activate_targeted_decision = { target = FROM decision = FOP_progreso_stage_3_infra }
		}
	}
	FOP_progreso_stage_3_infra = {
		icon = generic_construction
		allowed = { always = no } 			# Activated by previous decision
		visible = {
			owns_state = FROM
		}

		ai_will_do = { base = 10 }

		cost = 0

		modifier = {
			political_power_gain = -0.15
			consumer_goods_factor = 0.10
		}

		days_remove = 150
		fire_only_once = yes
		state_target = yes

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_progreso_stage_3_infra target: [From.GetName]"
			FROM = {
				increase_state_category_by_one_level = yes
				if = {
					limit = { infrastructure < 5 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
}

#################### South American Socialist States Decisions ####################
FOP_estados_socialistas_de_america_latina_decisions = {
	FOP_SASS_invite_syndie_country = {
		icon = GFX_decision_hand_out

		available = {
			if = {
				limit = { has_war = yes }
				any_enemy_country = { has_war_with = FROM }
			}
			else = {
				has_war = no
			}
			custom_trigger_tooltip = {
				tooltip = FOP_faction_decisions_tooltip
			}
		}

		visible = {
			FROM = {
				has_socialist_government = yes
				is_in_faction = no
				is_subject = no
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = yes
		cost = 20

		ai_will_do = {
			base = 1000
			modifier = {
				factor = 0
				FROM = {
					has_war = yes
					NOT = {
						any_enemy_country = { has_war_with = ROOT }
					}
				}
			}
		}

		target_array = global.south_american_tags_array
		target_trigger = {
			FROM = {
				has_socialist_government = yes
				is_in_faction = no
				is_subject = no
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_SASS_invite_syndie_country target: [From.GetName]"
			FROM = { country_event = fop.22 }
		}
	}

	FOP_SASS_liberate_south_america = {
		name = FOP_AND_invade_target
		icon = GFX_decision_infiltrate_state

		visible = {
			can_declare_war_on = FROM
			FROM = { has_socialist_government = no }
		}

		target_array = global.south_american_tags_array
		target_trigger = {
			can_declare_war_on = FROM
			FROM = { has_socialist_government = no }
		}

		cost = 20
		days_remove = 30
		fire_only_once = yes
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					ROOT_is_threatened_cautious = yes
					FROM = { default_attack_AI_trigger_FROM = yes }
					NOT = {
						OR = {
							is_neighbor_of = FROM
							any_allied_country = { is_neighbor_of = FROM }
						}
					}
				}
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel FOP_SASS_liberate_south_america target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_SASS_liberate_south_america target: [From.GetName]"
			FROM = { incoming_war_notification_effect = yes }
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_SASS_liberate_south_america target: [From.GetName]"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = puppet_wargoal_focus
			}
		}
	}
	FOP_SASS_invite_to_research_group = {
		icon = GFX_decision_generic_research

		visible = {
			FROM = {
				is_in_faction_with = ROOT
			}
		}

		target_array = global.south_american_tags_array
		target_trigger = {
			FROM = { is_in_faction_with = ROOT }
		}

		cost = 20
		fire_only_once = yes
		cancel_if_not_visible = yes

		ai_will_do = { base = 75 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_SASS_invite_to_research_group target: [From.GetName]"
			FROM = {
				add_to_tech_sharing_group = FOP_SASS_research_group
				add_tech_bonus = {
					name = FOP_SASS_research_group
					category = electronics
					category = infantry_tech
					category = infantry_weapons
					bonus = 0.33
					uses = 2
				}
			}
		}
	}
	FOP_SASS_industrial_support = {
		icon = GFX_decision_factories

		visible = {
			FROM = {
				is_in_faction_with = ROOT
			}
		}

		available = {
			has_country_flag = FOP_created_OSAEC
			num_of_civilian_factories_available_for_projects > 4
		}

		target_array = global.south_american_tags_array
		target_trigger = {
			FROM = { is_in_faction_with = ROOT }
		}

		modifier = {
			civilian_factory_use = 5
		}

		cost = 50
		days_remove = 150
		fire_only_once = yes
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes

		ai_will_do = { base = 30 }

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel FOP_SASS_industrial_support target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_SASS_industrial_support target: [From.GetName]"
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_SASS_industrial_support target: [From.GetName]"
			effect_tooltip = {
				FROM = {
					custom_effect_tooltip = FOP_invite_to_OSAEC_tt
					custom_effect_tooltip = tooltip_white_line
					random_owned_controlled_state = {
						limit = { is_capital = yes }
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
					}
					add_tech_bonus = {
						name = FOP_SASS_industrial_support_tt
						bonus = 0.5
						uses = 2
						category = industry
					}
				}
			}
			FROM = { country_event = fop.390 }
		}
	}
	FOP_SASS_create_OSAEC = {
		icon = GFX_decision_hol_attract_foreign_investors
		allowed = { always = no }

		cost = 50
		days_remove = 100
		fire_only_once = yes
		cancel_if_not_visible = yes

		ai_will_do = { base = 75 }

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel FOP_SASS_create_OSAEC"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_SASS_create_OSAEC"
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_SASS_create_OSAEC"
			custom_effect_tooltip = OSAEC_tt
			set_country_flag = FOP_created_OSAEC
			hidden_effect = {
				set_variable = { var_OSAEC_members = 0.03 }
				add_dynamic_modifier = { modifier = OSAEC_member_dynamic_modifier }
			}
		}
	}
}
FOP_falkland_coring_and_development_decisions = {
	FOP_begin_population_swapping_dec = {
		icon = eng_blackshirt_march
		allowed = { always = no } 			# Activated by focus FOP_the_revolution_successful
		available = {
			FOP_has_administrative_chaos = no
		}

		days_remove = 150
		fire_only_once = yes

		modifier = {
			political_power_gain = -0.1
			consumer_goods_factor = 0.02
		}

		ai_will_do = { base = 500 }

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_begin_population_swapping_dec"
			add_state_core = 299
			add_state_core = 720
			activate_targeted_decision = { target = 299 decision = FOP_falkland_road_dec }
			activate_targeted_decision = { target = 299 decision = FOP_naval_bases_dec }
		}
	}
	FOP_falkland_road_dec = {
		icon = generic_construction
		allowed = { always = no } 			# Activated by previous decision
		cost = 0
		days_remove = 100
		fire_only_once = yes
		state_target = yes

		modifier = {
			political_power_gain = -0.05
			consumer_goods_factor = 0.02
		}

		ai_will_do = { base = 10 }

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_falkland_road_dec target: [From.GetName]"
			FROM = {
				if = {
					limit = { infrastructure < 5 }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				else = {
					add_extra_state_shared_building_slots = 1
				}
			}
			activate_targeted_decision = { target = 299 decision = ARG_dockyards_dec }
		}
	}
	FOP_naval_bases_dec = {
		icon = generic_naval
		allowed = { always = no } 			# Activated by previous decision
		cost = 0
		days_remove = 150
		fire_only_once = yes
		state_target = yes

		modifier = {
			political_power_gain = -0.05
			consumer_goods_factor = 0.02
		}

		ai_will_do = { base = 10 }

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_naval_bases_dec target: [From.GetName]"
			FROM = {
				add_building_construction = {
					type = naval_base
					level = 3
					province = 12960
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 12960
					instant_build = yes
				}
			}
		}
	}
}
FOP_immigration_decisions = {
	FOP_Attract_Immigrants_Small = {
		name = FOP_Attract_Immigrants_decision
		icon = generic_political_discourse
		allowed = { always = no }				# Activated by effect FOP_increase_popular_support
		available = {
			has_stability > 0.25
			has_war = no
		}
		fire_only_once = no
		days_re_enable = 365
		cost = 10
		target_non_existing = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_Attract_Immigrants_Small"
			add_to_variable = { var = fop_im_factor value = 5 }
			custom_effect_tooltip = IMMI_5
			### Immigration modifier update
			add_to_variable = { var = var_ARG_immigration_modifier_buff value = 0.002 }
			add_to_variable = { var = var_ARG_immigration_modifier_debuff value = -0.001 }
			clamp_variable = { var = var_ARG_immigration_modifier_buff min = 0 max = 0.30 }
			clamp_variable = { var = var_ARG_immigration_modifier_debuff min = -0.15 max = 0.30 }
		}

		ai_will_do = { base = 1 }
	}
	FOP_Attract_Immigrants_Medium = {
		name = FOP_Attract_Immigrants_decision
		icon = generic_political_discourse
		allowed = { always = no }				# Activated by effect FOP_increase_popular_support
		available = {
			has_stability > 0.25
			has_war = no
		}
		fire_only_once = no
		days_re_enable = 365
		cost = 20
		target_non_existing = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_Attract_Immigrants_Medium"
			add_to_variable = { var = fop_im_factor value = 10 }
			custom_effect_tooltip = IMMI_10
			### Immigration modifier update
			add_to_variable = { var = var_ARG_immigration_modifier_buff value = 0.005 }
			add_to_variable = { var = var_ARG_immigration_modifier_debuff value = -0.002 }
			clamp_variable = { var = var_ARG_immigration_modifier_buff min = 0 max = 0.30 }
			clamp_variable = { var = var_ARG_immigration_modifier_debuff min = -0.15 max = 0 }
		}

		ai_will_do = { base = 1 }
	}
	FOP_Attract_Immigrants_Big = {
		name = FOP_Attract_Immigrants_decision
		icon = generic_political_discourse
		allowed = { always = no }				# Activated by effect FOP_increase_popular_support
		available = {
			has_stability > 0.25
			has_war = no
		}
		fire_only_once = no
		days_re_enable = 365
		cost = 40
		target_non_existing = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_Attract_Immigrants_Big"
			add_to_variable = { var = fop_im_factor value = 20 }
			custom_effect_tooltip = IMMI_20
			### Immigration modifier update
			add_to_variable = { var = var_ARG_immigration_modifier_buff value = 0.01 }
			add_to_variable = { var = var_ARG_immigration_modifier_debuff value = -0.005 }
			clamp_variable = { var = var_ARG_immigration_modifier_buff min = 0 max = 0.30 }
			clamp_variable = { var = var_ARG_immigration_modifier_debuff min = -0.15 max = 0 }
		}

		ai_will_do = { base = 1 }
	}
}
FOP_resource_exploitation_decisions = {
	FOP_steel_extraction_1 = {
		icon = steel
		allowed = { always = no }				# Activated by focus FOP_exploiting_resources
		available = { has_manpower > 250 }
		visible = { owns_state = FROM }

		modifier = {
			political_power_gain = -0.15
			consumer_goods_factor = 0.05
		}

		days_remove = 100
		fire_only_once = yes
		state_target = yes

		ai_will_do = { base = 50 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_steel_extraction_1 target: [From.GetName]"
			add_manpower = -250
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_steel_extraction_1 target: [From.GetName]"
			FROM = {
				add_resource = {
					type = steel
					amount = 2
				}
			}
			add_manpower = 150
			activate_targeted_decision = { target = 512 decision = FOP_steel_extraction_2 }
		}
	}
	FOP_steel_extraction_2 = {
		icon = steel
		allowed = { always = no }				# Activated by decision FOP_steel_extraction_1
		available = { has_manpower > 250 }
		visible = { owns_state = FROM }

		modifier = {
			political_power_gain = -0.15
			consumer_goods_factor = 0.05
		}

		days_remove = 100
		fire_only_once = yes
		state_target = yes

		ai_will_do = { base = 50 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_steel_extraction_2 target: [From.GetName]"
			add_manpower = -250
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_steel_extraction_2 target: [From.GetName]"
			set_country_flag = FOP_steel_extraction_2_completed
			FROM = {
				add_resource = {
					type = steel
					amount = 4
				}
			}
			add_manpower = 150
		}
	}
	FOP_oil_extraction_1 = {
		icon = oil
		allowed = { always = no }				# Activated by focus FOP_exploiting_resources
		available = { has_manpower > 250 }
		visible = { owns_state = FROM }

		modifier = {
			political_power_gain = -0.15
			consumer_goods_factor = 0.05
		}

		days_remove = 100
		fire_only_once = yes
		state_target = yes

		ai_will_do = { base = 50 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_oil_extraction_1 target: [From.GetName]"
			add_manpower = -250
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_oil_extraction_1 target: [From.GetName]"
			1029 = {
				add_resource = {
					type = oil
					amount = 3
				}
			}
			add_manpower = 150
			activate_targeted_decision = { target = 1029 decision = FOP_oil_extraction_2 }
		}
	}
	FOP_oil_extraction_2 = {
		icon = oil
		allowed = { always = no }				# Activated by decision FOP_oil_extraction_1
		available = { has_manpower > 250 }
		visible = { owns_state = FROM }

		modifier = {
			political_power_gain = -0.15
			consumer_goods_factor = 0.05
		}

		days_remove = 100
		fire_only_once = yes
		state_target = yes

		ai_will_do = { factor = 50 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_oil_extraction_2 target: [From.GetName]"
			add_manpower = -250
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_oil_extraction_2 target: [From.GetName]"
			set_country_flag = FOP_oil_extraction_2_completed
			1029 = {
				add_resource = {
					type = oil
					amount = 3
				}
			}
			add_manpower = 150
		}
	}
	FOP_combined_resource_exploitation = {
		icon = generic_construction
		allowed = { always = no }				# Activated by focus FOP_exploiting_resources
		available = {
			has_country_flag = FOP_steel_extraction_2_completed
			has_country_flag = FOP_oil_extraction_2_completed
			has_manpower > 500
		}

		visible = {
			owns_state = 512
			owns_state = 1029
		}

		modifier = {
			political_power_gain = -0.15
			consumer_goods_factor = 0.05
		}

		days_remove = 100
		fire_only_once = yes

		ai_will_do = { factor = 50 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_combined_resource_exploitation"
			add_manpower = -500
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_combined_resource_exploitation"
			512 = {
				add_resource = {
					type = steel
					amount = 3
				}
			}
			1029 = {
				add_resource = {
					type = oil
					amount = 2
				}
			}
			add_manpower = 200
		}
	}
}

### Repairing the Crises ###
FOP_anti_syndie_rebellion_decisions = {
	FOP_anti_syndie_rebellion_1 = {
		icon = eng_propaganda_campaigns
		allowed = { always = no }				# Activated by focus FOP_the_first_national_trade_union_congress
		custom_cost_text = FOP_anti_syndie_rebellion_cost
		custom_cost_trigger = {
			has_manpower > 10000
			has_war_support > 0.05
		}

		days_remove = 120
		fire_only_once = yes

		ai_will_do = { base = 1000 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_anti_syndie_rebellion_1"
			hidden_effect = {
				add_manpower = -10000
				add_war_support = -0.05
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_anti_syndie_rebellion_1"
			FOP_increase_popular_support = yes
		}
	}
	FOP_anti_syndie_rebellion_2 = {
		icon = generic_political_discourse
		allowed = { always = no }				# Activated by focus FOP_the_first_national_trade_union_congress
		custom_cost_text = FOP_anti_syndie_rebellion_cost
		custom_cost_trigger = {
			has_manpower > 10000
			has_war_support > 0.05
		}

		days_remove = 120
		fire_only_once = yes

		ai_will_do = { base = 1000 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_anti_syndie_rebellion_2"
			hidden_effect = {
				add_manpower = -10000
				add_war_support = -0.05
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_anti_syndie_rebellion_2"
			FOP_increase_popular_support = yes
		}
	}
	FOP_anti_syndie_rebellion_3 = {
		icon = generic_civil_support
		allowed = { always = no }				# Activated by focus FOP_the_first_national_trade_union_congress
		custom_cost_text = FOP_anti_syndie_rebellion_cost
		custom_cost_trigger = {
			has_manpower > 10000
			has_war_support > 0.05
		}

		days_remove = 120
		fire_only_once = yes

		ai_will_do = { base = 1000 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_anti_syndie_rebellion_3"
			hidden_effect = {
				add_manpower = -10000
				add_war_support = -0.05
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_anti_syndie_rebellion_3"
			FOP_increase_popular_support = yes
		}
	}
	FOP_anti_syndie_rebellion_4 = {
		icon = generic_army_support
		allowed = { always = no }				# Activated by focus FOP_the_first_national_trade_union_congress
		custom_cost_text = FOP_anti_syndie_rebellion_cost
		custom_cost_trigger = {
			has_manpower > 10000
			has_war_support > 0.05
		}

		days_remove = 120
		fire_only_once = yes

		ai_will_do = { base = 1000 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_anti_syndie_rebellion_4"
			hidden_effect = {
				add_manpower = -10000
				add_war_support = -0.05
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_anti_syndie_rebellion_4"
			FOP_increase_popular_support = yes
		}
	}
}
FOP_economic_crisis_decisions = {
	FOP_economic_crisis_1 = {
		icon = generic_operation
		allowed = { always = no }				# Activated by focus FOP_the_first_national_trade_union_congress
		custom_cost_text = FOP_economic_crisis_cost
		custom_cost_trigger = {
			if = {
				limit = { has_dlc_wtt = yes }
				num_of_civilian_factories_available_for_projects > 3
			}
		}

		days_remove = 120
		fire_only_once = yes

		modifier = {
			civilian_factory_use = 4
		}

		ai_will_do = { base = 1000 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_economic_crisis_1"
			FOP_add_non_dlc_costs = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_economic_crisis_1"
			FOP_repair_industry = yes
		}
	}
	FOP_economic_crisis_2 = {
		icon = generic_construction
		allowed = { always = no }				# Activated by focus FOP_the_first_national_trade_union_congress
		custom_cost_text = FOP_economic_crisis_cost
		custom_cost_trigger = {
			if = {
				limit = { has_dlc_wtt = yes }
				num_of_civilian_factories_available_for_projects > 3
			}
		}

		days_remove = 120
		fire_only_once = yes

		modifier = {
			civilian_factory_use = 4
		}

		ai_will_do = { base = 1000 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_economic_crisis_2"
			FOP_add_non_dlc_costs = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_economic_crisis_2"
			FOP_repair_industry = yes
		}
	}
	FOP_economic_crisis_3 = {
		icon = generic_industry
		allowed = { always = no }				# Activated by focus FOP_the_first_national_trade_union_congress
		custom_cost_text = FOP_economic_crisis_cost
		custom_cost_trigger = {
			if = {
				limit = { has_dlc_wtt = yes }
				num_of_civilian_factories_available_for_projects > 3
			}
		}

		days_remove = 120
		fire_only_once = yes

		modifier = {
			civilian_factory_use = 4
		}

		ai_will_do = { base = 1000 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_economic_crisis_3"
			FOP_add_non_dlc_costs = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_economic_crisis_3"
			FOP_repair_industry = yes
		}
	}
	FOP_economic_crisis_4 = {
		icon = generic_agriculture
		allowed = { always = no }				# Activated by focus FOP_the_first_national_trade_union_congress
		custom_cost_text = FOP_economic_crisis_cost
		custom_cost_trigger = {
			if = {
				limit = { has_dlc_wtt = yes }
				num_of_civilian_factories_available_for_projects > 3
			}
		}

		days_remove = 120
		fire_only_once = yes

		modifier = {
			civilian_factory_use = 4
		}

		ai_will_do = { base = 1000 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_economic_crisis_4"
			FOP_add_non_dlc_costs = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_economic_crisis_4"
			FOP_repair_industry = yes
		}
	}
}
FOP_administrative_chaos_decisions = {
	FOP_integrating_the_north1 = {
		icon = generic_civil_support
		allowed = { always = no }				# Activated by focus FOP_expand_the_bureacracy_to_the_north
		cost = 40
		days_remove = 120
		fire_only_once = yes

		ai_will_do = { base = 1000 }

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_integrating_the_north1"
			FOP_reduce_administrative_chaos = yes
		}
	}
	FOP_integrating_the_north2 = {
		icon = eng_trade_unions_support
		allowed = { always = no }				# Activated by focus FOP_expand_the_bureacracy_to_the_north
		cost = 40
		days_remove = 120
		fire_only_once = yes

		ai_will_do = { base = 1000 }

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_integrating_the_north2"
			FOP_reduce_administrative_chaos = yes
		}
	}
	FOP_integrating_the_north3 = {
		icon = generic_construction
		allowed = { always = no }				# Activated by focus FOP_expand_the_bureacracy_to_the_north
		cost = 40
		days_remove = 120
		fire_only_once = yes

		ai_will_do = { base = 1000 }

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_integrating_the_north3"
			FOP_reduce_administrative_chaos = yes
		}
	}
	FOP_integrating_the_north4 = {
		icon = eng_trade_unions_demand
		allowed = { always = no }				# Activated by focus FOP_expand_the_bureacracy_to_the_north
		cost = 40
		days_remove = 120
		fire_only_once = yes

		ai_will_do = { base = 1000 }

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_integrating_the_north4"
			FOP_reduce_administrative_chaos = yes
		}
	}
}

#################### Andesian Formation Decisions ####################

FOP_Andesian_formation_decisions = {
	FOP_attack_country = {
		icon = generic_ignite_civil_war

		available = {
			FOP_has_economic_fallout = no
			FOP_has_resistance_to_socialism = no
		}

		cancel_trigger = {
			OR = {
				NOT = { is_neighbor_of = FROM }
				NOT = {
					can_declare_war_on = FROM
					AND = {
						is_in_faction_with = FROM
						NOT = { has_subject = FROM }
					}
				}
			}
		}

		targets = { COL VEN ECU PRU BOL CHL PAR URG }
		target_trigger = {
			is_neighbor_of = FROM
			OR = {
				can_declare_war_on = FROM
				AND = {
					is_in_faction_with = FROM
					NOT = { has_subject = FROM }
				}
			}
		}

		cost = 20
		days_remove = 30
		fire_only_once = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				ROOT_is_threatened = yes
			}
			modifier = {
				factor = 0
				FROM = { is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
			modifier = {
				factor = 0
				FROM = { overlord_is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
			modifier = {
				factor = 0
				FROM = { faction_leader_is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
			modifier = {
				factor = 0
				FROM = { guarantor_is_stronger_than_ROOT_and_not_vulnerable = yes }
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel FOP_attack_country target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_attack_country target: [From.GetName]"
			if = {
				limit = {
					is_faction_leader = yes
					is_in_faction_with = FROM
				}
				remove_from_faction = FROM
			}
			FROM = { incoming_war_notification_effect = yes }
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_attack_country target: [From.GetName]"
			clear_decision_attack_AI = yes
			if = {
				limit = {
					is_in_faction_with = FROM
					is_faction_leader = no
				}
				set_temp_variable = { andesia_crisis_tag = FROM }
				faction_leader = { custom_effect_tooltip = FOP_INT_can_back_the_target_tt }
				hidden_effect = {
					FROM = { save_event_target_as = andesia_crisis_tag }
					faction_leader = { country_event = fop.223 }
				}
			}
			else = {
				if = {
					limit = {
						is_faction_leader = yes
						is_in_faction_with = FROM
					}
					remove_from_faction = FROM
				}
				declare_war_on = {
					target = FROM
					type = annex_everything
				}
			}
		}
	}
	FOP_integrate_country = {
		icon = eng_trade_unions_support

		available = {
			FOP_has_economic_fallout = no
			FOP_has_resistance_to_socialism = no
			received_expeditionary_forces = { sender = FROM value < 1 }
		}

		visible = {
			has_subject = FROM
		}

		targets = { COL VEN ECU PRU BOL CHL PAR URG }
		target_trigger = {
			FROM = { is_subject_of = ROOT }
		}

		cost = 20
		fire_only_once = yes

		ai_will_do = { factor = 100 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_integrate_country target: [From.GetName]"
			hidden_effect = {
				FROM = {
					every_owned_state = {
						limit = {
							is_claim_or_core_of_PREV = yes
							is_claim_or_core_of_ROOT = no
						}
						add_claim_by = ROOT
						set_state_flag = FOP_andesian_claim
					}
				}
			}
			annex_country = {
				target = FROM
				transfer_troops = no
			}
		}
	}
	FOP_declare_Andesia = {
		icon = generic_nationalism

		available = {
			has_war = no
			279 = { is_owned_and_controlled_by = ROOT }
			300 = { is_owned_and_controlled_by = ROOT }
			301 = { is_owned_and_controlled_by = ROOT }
			302 = { is_owned_and_controlled_by = ROOT }
			303 = { is_owned_and_controlled_by = ROOT }
			305 = { is_owned_and_controlled_by = ROOT }
			306 = { is_owned_and_controlled_by = ROOT }
			307 = { is_owned_and_controlled_by = ROOT }
			custom_trigger_tooltip = {
				tooltip = FOP_AND_declare_andesia_tt
			}
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = { factor = 100 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_declare_Andesia"
			set_cosmetic_tag = FOP_AND
			mark_focus_tree_layout_dirty = yes
			complete_national_focus = FOP_AND_andesia_declared
			custom_effect_tooltip = tooltip_white_line
			add_ideas = FOP_resistance_to_andesia_political
			add_ideas = FOP_resistance_to_andesia_economical
			hidden_effect = {
				country_event = fop.500
				every_state = {
					limit = {
						is_on_continent = south_america
						is_claim_or_core_of_ROOT = no
						NOT = {
							is_core_of = WIF
							is_core_of = BRA
							is_core_of = SUR
						}
					}
					set_variable = { ambition_area_@ROOT = 1 }
					add_claim_by = ROOT
					set_state_flag = FOP_andesian_claim
				}
			}
		}
	}
	FOP_AND_liberate_south_america = {
		name = FOP_AND_invade_target
		icon = hol_draw_up_staff_plans

		visible = {
			can_declare_war_on = FROM
		}

		target_array = global.south_american_tags_array
		target_root_trigger = {
			has_completed_focus = FOP_AND_liberate_south_america
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 10
		days_remove = 30
		fire_only_once = yes
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				OR = {
					ROOT_is_threatened_cautious = yes
					FROM = { default_attack_AI_trigger_FROM = yes }
				}
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel FOP_AND_liberate_south_america target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_AND_liberate_south_america target: [From.GetName]"
			FROM = { incoming_war_notification_effect = yes }
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_AND_liberate_south_america target: [From.GetName]"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = puppet_wargoal_focus
			}
			if = {
				limit = { FROM = { has_socialist_government = yes }}
				custom_effect_tooltip = FOP_AND_liberate_attacking_socialists_tt
				add_stability = -0.05
				add_war_support = -0.05
				every_owned_state = {
					limit = {
						is_controlled_by = ROOT
						has_state_flag = FOP_andesian_claim
						NOT = { is_core_of = ROOT }
					}
					add_resistance = 7.5
				}
			}
		}
	}
	FOP_AND_liberate_central_america = {
		name = FOP_AND_invade_target
		icon = hol_draw_up_staff_plans

		visible = {
			can_declare_war_on = FROM
		}

		target_array = global.central_american_tags_array
		target_root_trigger = {
			has_completed_focus = FOP_AND_liberate_central_america
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 10
		days_remove = 30
		fire_only_once = yes
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				OR = {
					ROOT_is_threatened_cautious = yes
					FROM = { default_attack_AI_trigger_FROM = yes }
				}
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel FOP_AND_liberate_central_america target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_AND_liberate_central_america target: [From.GetName]"
			FROM = { incoming_war_notification_effect = yes }
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_AND_liberate_central_america target: [From.GetName]"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = puppet_wargoal_focus
			}
			if = {
				limit = { FROM = { has_socialist_government = yes }}
				custom_effect_tooltip = FOP_AND_liberate_attacking_socialists_tt
				add_stability = -0.05
				add_war_support = -0.05
				every_owned_state = {
					limit = {
						is_controlled_by = ROOT
						has_state_flag = FOP_andesian_claim
						NOT = { is_core_of = ROOT }
					}
					add_resistance = 7.5
				}
			}
		}
	}
	FOP_AND_liberate_north_america = {
		name = FOP_AND_invade_target
		icon = hol_draw_up_staff_plans

		visible = {
			can_declare_war_on = FROM
		}

		target_array = global.north_american_tags_array
		target_root_trigger = {
			has_completed_focus = FOP_AND_liberate_north_america
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 10
		days_remove = 30
		fire_only_once = yes
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				OR = {
					ROOT_is_threatened_cautious = yes
					FROM = { default_attack_AI_trigger_FROM = yes }
				}
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel FOP_AND_liberate_north_america target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_AND_liberate_north_america target: [From.GetName]"
			FROM = { incoming_war_notification_effect = yes }
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_AND_liberate_north_america target: [From.GetName]"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = puppet_wargoal_focus
			}
			if = {
				limit = { FROM = { has_socialist_government = yes }}
				custom_effect_tooltip = FOP_AND_liberate_attacking_socialists_tt
				add_stability = -0.05
				add_war_support = -0.05
				every_owned_state = {
					limit = {
						is_controlled_by = ROOT
						has_state_flag = FOP_andesian_claim
						NOT = { is_core_of = ROOT }
					}
					add_resistance = 7.5
				}
			}
		}
	}
	FOP_AND_integrate_new_state = {
		icon = GFX_decision_eng_trade_unions_demand
		allowed = { always = no }
		visible = {
			FROM = {
				is_owned_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}

		available = {
			FROM = {
				is_fully_controlled_by = ROOT
				compliance > 80
				resistance < 10
			}
		}

		cost = 20
		days_remove = 150
		fire_only_once = yes
		state_target = yes

		ai_will_do = { factor = 1000 }

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_AND_integrate_new_state target: [From.GetName]"
			FROM = {
				add_state_modifier = {
					modifier = {
						local_building_slots_factor = 0.50
						local_non_core_manpower = 0.10
					}
				}
			}
		}
	}
}

### Coring Decisions
FOP_core_Argentina_decisions = {
	FOP_Integration_Large = {
		name = FOP_Integration
		icon = eng_trade_unions_support
		allowed = { always = no }				# Activated by focus FOP_expand_the_bureacracy_to_the_north
		available = {
			FOP_has_administrative_chaos = no
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
		}

		state_target = yes
		cost = 75
		days_remove = 210
		on_map_mode = map_only
		fire_only_once = yes

		ai_will_do = {
			base = 1000
			modifier = {
				add = FROM.state_strategic_value
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_Integration_Large target: [From.GetName]"
			add_state_core = FROM
		}
	}
	FOP_Integration_Medium = {
		name = FOP_Integration
		icon = eng_trade_unions_support
		allowed = { always = no }				# Activated by focus FOP_expand_the_bureacracy_to_the_north
		available = {
			FOP_has_administrative_chaos = no
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
		}

		state_target = yes
		cost = 50
		days_remove = 150
		on_map_mode = map_only
		fire_only_once = yes

		ai_will_do = {
			base = 1000
			modifier = {
				add = FROM.state_strategic_value
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_Integration_Medium target: [From.GetName]"
			add_state_core = FROM
		}
	}
	FOP_Integration_Small = {
		name = FOP_Integration
		icon = eng_trade_unions_support
		allowed = { always = no }				# Activated by focus FOP_expand_the_bureacracy_to_the_north
		available = {
			FOP_has_administrative_chaos = no
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
		}

		state_target = yes
		cost = 25
		days_remove = 120
		on_map_mode = map_only
		fire_only_once = yes

		ai_will_do = {
			base = 1000
			modifier = {
				add = FROM.state_strategic_value
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_Integration_Small target: [From.GetName]"
			add_state_core = FROM
		}
	}
}

####################### Strike Reactionaries Decisions #############################
FOP_strike_reactionaries_decisions = {
	FOP_strike_reactionary_country = {
		icon = generic_ignite_civil_war

		visible = {
			can_declare_war_on = FROM
			FROM = { has_socialist_government = no }
		}

		targets = { BRA URG PAR CHL BOL PRU }
		target_root_trigger = {
			has_completed_focus = FOP_the_first_national_trade_union_congress
			NOT = { has_completed_focus = FOP_the_socialist_party_moderates }
			FOP_has_economic_fallout = no
			FOP_has_resistance_to_socialism = no
		}
		target_trigger = {
			can_declare_war_on = FROM
			FROM = { has_socialist_government = no }
		}

		cost = 20
		days_remove = 40
		fire_only_once = yes
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes

		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				date < 1939.1.1
			}
			modifier = {
				factor = 0
				OR = {
					ROOT_is_threatened_cautious = yes
					FROM = { dont_start_major_faction_wars = yes }
					FROM = { default_attack_AI_trigger_FROM = yes }
				}
			}
		}
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel FOP_strike_reactionary_country target: [From.GetName]"
			add_political_power = 40
			clear_decision_attack_AI = yes
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_strike_reactionary_country target: [From.GetName]"
			FROM = { incoming_war_notification_effect = yes }
			setup_decision_attack_AI = yes
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_strike_reactionary_country target: [From.GetName]"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}
}

### Infrastructure Decisions
FOP_infrastructure_decisions = { #The Trains shall run on time
	FOP_nationalize_british_rails = {
		icon = eng_trade_unions_demand
		allowed = { always = no }				# Activated by focus FOP_rural_development
		cost = 0
		days_remove = 150
		fire_only_once = yes

		modifier = {
			political_power_gain = -0.05
			consumer_goods_factor = 0.05
			production_speed_infrastructure_factor = -0.10
		}

		ai_will_do = { base = 2 }

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_nationalize_british_rails"
			if = {
				limit = { has_idea = FOP_nationalised_foreign_rails1 }
				swap_ideas = {
					remove_idea = FOP_nationalised_foreign_rails1
					add_idea = FOP_nationalised_foreign_rails2
				}
			}
			else = {
				add_ideas = FOP_nationalised_foreign_rails1
			}
		}
	}
	FOP_nationalize_german_rails = {
		icon = eng_trade_unions_demand
		allowed = { always = no }				# Activated by focus FOP_rural_development
		cost = 0
		days_remove = 150
		fire_only_once = yes

		modifier = {
			political_power_gain = -0.05
			consumer_goods_factor = 0.05
			production_speed_infrastructure_factor = -0.10
		}

		ai_will_do = { base = 2 }

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_nationalize_german_rails"
			if = {
				limit = { has_idea = FOP_nationalised_foreign_rails1 }
				swap_ideas = {
					remove_idea = FOP_nationalised_foreign_rails1
					add_idea = FOP_nationalised_foreign_rails2
				}
			}
			else = {
				add_ideas = FOP_nationalised_foreign_rails1
			}
		}
	}
}

### Industrial Decisions
FOP_industrial_expansion_decisions = {
	FOP_civs_for_state = {
		icon = GFX_decision_factories
		allowed = { always = no }				# Activated by focus FOP_urban_development

		visible = {
			owns_state = FROM
		}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			FROM = { is_controlled_by = ROOT }
		}

		modifier = {
			civilian_factory_use = 3
		}

		on_map_mode = map_and_decisions_view
		cost = 40
		days_remove = 120
		fire_only_once = yes

		state_target = yes

		cancel_trigger = {
			NOT = { controls_state = FROM }
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel FOP_civs_for_state target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_civs_for_state target: [From.GetName]"
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_civs_for_state target: [From.GetName]"
			FROM = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}

		ai_will_do = { base = 40 }
	}
	FOP_socialist_civs_for_state = {
		icon = GFX_decision_generic_factory
		allowed = { always = no }				# Activated by effect FOP_initialize_development_scheme_decisions

		visible = {
			owns_state = FROM
		}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			FROM = { is_controlled_by = ROOT }
		}

		modifier = {
			civilian_factory_use = 3
		}

		on_map_mode = map_and_decisions_view
		cost = 40
		days_remove = 120
		fire_only_once = yes
		cancel_if_not_visible = yes
		state_target = yes

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel FOP_socialist_civs_for_state target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_socialist_civs_for_state target: [From.GetName]"
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_socialist_civs_for_state target: [From.GetName]"
			if = {
				limit = {
					OR = {
						has_completed_focus = FOP_socialist_development_scheme
						has_completed_focus = FOP_moderate_anarchist_development_scheme
					}
				}
				if = {
					limit = {
						has_completed_focus = FOP_moderate_anarchist_development_scheme
						FROM = {
							OR = {
								state = 278 #Buenos Aires
								state = 510 #La Mesopotamia
								state = 512 #Chubut
							}
						}
					}
					FROM = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
						add_building_construction = {
							type = dockyard
							level = 1
							instant_build = yes
						}
					}
				}
				else = {
					FROM = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					OR = {
						has_completed_focus = FOP_radical_anarchist_development_scheme
						has_completed_focus = FOP_communist_development_scheme
					}
				}
				if = {
					limit = {
						has_completed_focus = FOP_communist_development_scheme
						FROM = {
							OR = {
								state = 278 #Buenos Aires
								state = 510 #La Mesopotamia
								state = 512 #Chubut
							}
						}
					}
					FROM = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
						add_building_construction = {
							type = dockyard
							level = 1
							instant_build = yes
						}
					}
				}
				else = {
					FROM = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}

		ai_will_do = { base = 40 }
	}
}

FOP_sabotage_decisions_category = {
	FOP_infiltrate_state_decision = {
		icon = GFX_decision_infiltrate_state
		allowed = { always = no }				# Activated by focus FOP_strike_the_railroads
		available = {
			NOT = { has_country_flag = FOP_infiltration_ongoing }
		}

		visible = {
			FROM = { is_owned_and_controlled_by = ARG }
			NOT = { has_war_with = ARG }
		}

		cost = 0
		days_remove = 21
		fire_only_once = yes
		fixed_random_seed = no

		state_target = yes
		ai_will_do = { factor = 50 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_infiltrate_state_decision target: [From.GetName]"
			set_country_flag = { flag = FOP_infiltration_ongoing days = 21 value = 1 }
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_infiltrate_state_decision target: [From.GetName]"
			random_list = {
				40 = {
					FOP = { country_event = fop.350 }
					activate_targeted_decision = { target = FROM decision = FOP_sabotage_railways_decision }
					activate_targeted_decision = { target = FROM decision = FOP_prepare_resistance_decision }
				}
				20 = {
					modifier = {
						factor = 2
						ARG = { has_completed_focus = ARG_Create_Espionage_Agency }
					}
					country_event = fop.351
					hidden_effect = {
						ARG = { country_event = { id = fop.353 random_days = 5 random_hours = 24 }}
					}
				}
			}
		}
	}

	FOP_sabotage_railways_decision = {
		icon = GFX_decision_onmap_recruit_operative
		allowed = { always = no }				# Activated by focus FOP_strike_the_railroads
		available = {
			NOT = { has_country_flag = FOP_sabotage_ongoing }
		}

		visible = {
			has_completed_focus = FOP_strike_the_railroads
			FROM = { is_owned_and_controlled_by = ARG }
			NOT = { has_war_with = ARG }
		}

		cost = 0
		days_remove = 30
		fire_only_once = yes
		fixed_random_seed = no

		state_target = yes
		ai_will_do = { factor = 50 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_sabotage_railways_decision target: [From.GetName]"
			set_country_flag = { flag = FOP_sabotage_ongoing days = 30 value = 1 }
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_sabotage_railways_decision target: [From.GetName]"
			FROM = { set_state_flag = FOP_sabotage_successful }
			add_to_variable = { FOP_railways_sabotaged_states = 1 }
			custom_effect_tooltip = FOP_sabotage_trains_effect_tooltip
		}
	}
	FOP_enact_railways_sabotage = {
		icon = GFX_decision_generic_ignite_civil_war
		allowed = { always = no }				# Activated by focus FOP_strike_the_railroads
		available = {
			has_war_with = FROM
			custom_trigger_tooltip = {
				tooltip = FOP_sabotage_success_tooltip
				check_variable = { FOP_railways_sabotaged_states > 0 }
			}
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = { factor = 100 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_enact_railways_sabotage target: [From.GetName]"
			FROM = {
				country_event = fop.352
				effect_tooltip = {
					every_owned_state = {
						limit = { has_state_flag = FOP_sabotage_successful }
						if = {
							limit = { rail_way > 0 }
							if = {
								limit = { ARG = { has_completed_focus = ARG_Create_Espionage_Agency } }
								damage_building = {
									type = rail_way
									damage = 0.4
								}
							}
							else = {
								damage_building = {
									type = rail_way
									damage = 0.5
								}
							}
						}
						clr_state_flag = FOP_sabotage_successful
					}
				}
			}
		}
	}
	FOP_prepare_resistance_decision = {
		icon = generic_operation
		allowed = { always = no }				# Activated by focus FOP_infiltrator_cells
		available = {
			NOT = { has_country_flag = FOP_resistance_ongoing }
		}

		visible = {
			has_completed_focus = FOP_infiltrator_cells
			FROM = { is_owned_and_controlled_by = ARG }
			NOT = { has_war_with = ARG }
		}

		cost = 0
		days_remove = 30
		fire_only_once = yes
		fixed_random_seed = no
		state_target = yes

		ai_will_do = { factor = 50 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_prepare_resistance_decision target: [From.GetName]"
			set_country_flag = { flag = FOP_resistance_ongoing days = 30 value = 1 }
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove FOP_prepare_resistance_decision target: [From.GetName]"
			FROM = { set_state_flag = FOP_resistance_successful }
			add_to_variable = { FOP_resistance_states = 1 }
			custom_effect_tooltip = FOP_infiltrator_cells_effect_tooltip
		}
	}
	FOP_enact_resistance_decision = {
		icon = generic_operation
		allowed = { always = no }				# Activated by focus FOP_infiltrating_the_north
		available = {
			has_war_with = FROM
			custom_trigger_tooltip = {
				tooltip = FOP_resistance_success_tooltip
				check_variable = { FOP_resistance_states > 0 }
			}
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = { factor = 100 }

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete FOP_enact_resistance_decision target: [From.GetName]"
			FROM = {
				country_event = fop.355
				effect_tooltip = {
					every_owned_state = {
						limit = { has_state_flag = FOP_resistance_successful }
						add_dynamic_modifier = {
							modifier = FOP_resistance_modifier
							days = 40
						}
						if = {
							limit = { industrial_complex > 0 }
							if = {
								limit = { ARG = { has_completed_focus = ARG_Create_Espionage_Agency } }
								damage_building = {
									type = industrial_complex
									damage = 0.4
								}
							}
							else = {
								damage_building = {
									type = industrial_complex
									damage = 0.6
								}
							}
						}
						if = {
							limit = { arms_factory > 0 }
							if = {
								limit = { ARG = { has_completed_focus = ARG_Create_Espionage_Agency } }
								damage_building = {
									type = arms_factory
									damage = 0.4
								}
							}
							else = {
								damage_building = {
									type = arms_factory
									damage = 0.6
								}
							}
						}
						clr_state_flag = FOP_resistance_successful
					}
				}
			}
		}
	}
}

