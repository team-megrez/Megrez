SER_hates_austria = {
	reversed = yes

	enable_reverse = {
		SER = {
			is_subject = no
			NOT = { is_ally_with = AUS }
		}
		AUS = {
			AUS_has_habsburgs = yes
			OR = {
				owns_state = 102
				owns_state = 109
				102 = { owner = { has_autonomy_state = kr_crownland } }
				109 = { owner = { has_autonomy_state = kr_crownland } }
			}
		}
	}
	enable = {
		is_ally_with = AUS
	}
	abort_when_not_enabled = yes

	target_array = AUS.faction_members

	ai_strategy = {
		type = antagonize
		id = SER
		value = 1000
	}
}

SER_focus_on_imro = {
	allowed = {
		original_tag = SER
	}

	enable = {
		has_idea = SER_IMRO_rebellion
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_unit_request
		tag = MAC
		value = 300
	}

	ai_strategy = {
		type = strategic_air_importance
		id = 26 #Bulgaria
		value = 30000
	}
}

SER_dont_attack_during_lull_phase = {
	allowed = {
		original_tag = SER
	}

	enable = {
		has_global_flag = SER_imro_dont_attack
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		tag = MAC
		execute_order = no
		manual_attack = no
	}
}

SER_rush_imro_in_action_phase = {
	allowed = {
		original_tag = SER
	}

	enable = {
		has_idea = SER_IMRO_rebellion #mechanic is active
		NOT = { has_global_flag = SER_imro_dont_attack }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		tag = MAC
		priority = 100
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}
}

MAC_dont_attack_serbia_during_lull_phase = {
	allowed = {
		original_tag = MAC
	}

	enable = {
		has_global_flag = SER_imro_dont_attack
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		area = western_europe
		execute_order = no
		manual_attack = no
	}
}

MAC_move_forward_in_action_phase = {
	allowed = {
		original_tag = MAC
	}

	enable = {
		SER = { has_idea = SER_IMRO_rebellion } #mechanic is active
		NOT = { has_global_flag = SER_imro_dont_attack }
	}

	abort_when_not_enabled = yes

	ai_strategy = {
		type = front_control
		tag = SER
		ordertype = front
		execution_type = rush_weak
		execute_order = yes
	}
}
